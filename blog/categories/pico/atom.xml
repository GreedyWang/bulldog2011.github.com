<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: pico | Abstraction Builder]]></title>
  <link href="http://bulldog2011.github.com/blog/categories/pico/atom.xml" rel="self"/>
  <link href="http://bulldog2011.github.com/"/>
  <updated>2013-04-02T17:29:43+08:00</updated>
  <id>http://bulldog2011.github.com/</id>
  <author>
    <name><![CDATA[Bulldog]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[pico and ebay trading api integration how to]]></title>
    <link href="http://bulldog2011.github.com/blog/2013/04/01/pico-and-ebay-trading-api-integration-how-to/"/>
    <updated>2013-04-01T20:18:00+08:00</updated>
    <id>http://bulldog2011.github.com/blog/2013/04/01/pico-and-ebay-trading-api-integration-how-to</id>
    <content type="html"><![CDATA[<p>I've written a series of tutorials showing to put wsdl driven development into practice on iOS platform using <a href="https://github.com/bulldog2011/pico">Pico</a> framework. In <a href="http://bulldog2011.github.com/blog/2013/03/29/pico-tutorial-3-hello-ebay-finding/">tutorial 3</a> and <a href="http://bulldog2011.github.com/blog/2013/03/30/pico-tutorial-4-hello-ebay-shopping/">tutorial 4</a> I showed how to integrate Pico with eBay Finding and Shopping API. This post is about Pico integration with <a href="https://www.x.com/developers/ebay/products/trading-api">eBay Trading API</a> - the most heavy-weight and feature rich API from eBay, I am not going to write another tutorial for eBay Trading API integration, since the flow is quite smiliar to that already elaborated in tutorial 3 and 4, instead, I will dump a few comments here to give you some guide in case you want to integrate eBay Trading API on iOS device using Pico framework.</p>

<!--more-->


<h3>1. eBay Trading WSDL Fix</h3>

<p>The <a href="http://developer.ebay.com/webservices/latest/ebaySvc.wsdl">eBay Trading WSDL</a> has issue to work with <a href="https://github.com/bulldog2011/mwsc">mwsc</a> code generator directly, following fix is needed before mwsc can correctly generate code from the wsdl:</p>

<blockquote><ol>
<li>Remove an any element declaration in ReviseInventoryStatusRequestType, since any has already been declarated in the AbstractRequestType(from which ReviseInventoryStatusRequestType extends).</li>
<li>Add following annotation in the schema definition(at the beginning):</li>
</ol>
</blockquote>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'>   <span class="ni">&amp;lt;</span>xs:annotation&gt;<span class="nt">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;pre&gt;&lt;code&gt;</span> <span class="ni">&amp;lt;</span>xs:appinfo<span class="ni">&amp;gt;</span>
</span><span class='line'>   <span class="ni">&amp;lt;</span>jaxb:globalBindings typesafeEnumMaxMembers=&quot;1000&quot; /<span class="ni">&amp;gt;</span>
</span><span class='line'> <span class="ni">&amp;lt;</span>/xs:appinfo<span class="ni">&amp;gt;</span>
</span><span class='line'><span class="nt">&lt;/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;</span>   <span class="ni">&amp;lt;</span>/xs:annotation&gt;
</span></code></pre></td></tr></table></div></figure></notextile></div>
This is because the numbe of members in some enum types in wsdl exceeds the maximum allowed by defult xjc/jaxb processor. Of couse, you also need to declare jaxb namespace and version in wsdl/schema definition. <a href="https://github.com/bulldog2011/PicoEBayTradingClient/tree/master/wsdl">Here</a> is a fixed eBay Trading wsdl(version 815), you can search <code>mwsc</code> to find out what I have fixed.</p>

<h3>2. Code Generation Command</h3>

<p>The command to generate eBay Trading proxy from wsdl is:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>bin/mwsc -pico -prefix Trading_ -ebaytrading ebaySvc_815_fix.wsdl&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>the <code>-ebaytrading</code> is a special option I added for eBay Trading API code generation only, for auto-generating per-call HTTP header setting, this is not a generic code generator option.</p>

<h3>3. eBay Trading WSDL pruning</h3>

<p>The eBay Trading WSDL is a super big wsdl, more than 4M in size, the generated code is also very big in size, leading to slow compilation in Xcode, while in most cases, your application only needs a few calls in eBay Trading API, fortunately, eBay provides a <a href="http://developer.ebay.com/DevZone/codebase/wsdlpruner/pruner.zip">pruner</a> tool which let you prune the bulky wsdl down to the operations that you want to use. <a href="https://github.com/bulldog2011/PicoEBayTradingClient/tree/master/Examples/HelloeBayTrading/wsdl">here</a> and <a href="https://github.com/bulldog2011/PicoEBayTradingClient/tree/master/Examples/eBayDemoApp/wsdl">here</a> are two wsdl I pruned for demo, the first one only supports <code>geteBayOfficialTime</code> call, and the second only supports <code>getWatchList</code> and <code>getMyeBayBuying</code> calls. You may prune the eBay Trading wsdl according to your real needs before code generation.</p>

<h3>4. Samples</h3>

<p>I've created two samples to demonstrate Pico integration with eBay Trading API, the <a href="https://github.com/bulldog2011/PicoEBayTradingClient/tree/master/Examples/HelloeBayTrading">first one</a> is a hello world like sample, just call eBay Trading <code>geteBayOfficalTime</code> API to show official time on eBay server; the <a href="https://github.com/bulldog2011/PicoEBayTradingClient/tree/master/Examples/eBayDemoApp">second one</a> is a composite sample which calls eBay Finding, Shopping and Trading APIs behind:</p>

<blockquote><ol>
<li>Search items on eBay by keywords by invoking eBay Finding <code>findItemsByKeywords</code> API.</li>
<li>Show detail of an item by invoking eBay Shopping <code>getSingleItem</code> API.</li>
<li>Add item to watch list by invoking eBay Trading <code>addToWatchList</code> API.</li>
<li>View watch list by invoking eBay Trading <code>getMyeBayBuying</code> API.</li>
</ol>
</blockquote>

<p>You may review and study these samples before you create your own Pico and eBay API based app.</p>

<p>To run first sample, you must fill in your <code>eBay AppId</code> and <code>eBay Auth Token</code> in the shared client class <code>EBayTradingServiceClient</code></p>

<p>To run second sample, you must fill in your <code>eBay AppId</code> in three shared client classes: <code>EBayFindingServiceClient</code>, <code>EBayShoppingServiceClient</code> and <code>EBayTradingServiceClient</code>, then fill in your <code>eBay Auth Token</code> in <code>EBayTradingServiceClient</code>, this just looks tedious and silly, I did so since this is just for demo, in real world app, I suggest you to centralize the credential setting in one place.</p>

<p><strong><em>Note</em></strong>, for demo, credentials like eBay AppId and AuthToken are hardcoded in the sample, in real-world application, for security consideration, you need to integrate with eBay <a href="http://developer.ebay.com/DevZone/XML/docs/WebHelp/wwhelp/wwhimpl/common/html/wwhelp.htm?context=eBay_XML_API&amp;file=GettingTokens-Getting_Tokens_for_Applications_with_Multiple_Users.html">Authentication &amp; Authorization</a> flow on your iOS device, and ensure the seurity of user credentials on device.</p>

<h3>5. Regrading Pico Integration</h3>

<p>Basically, the Pico integration with eBay Trading API is similar to Pico integartion with eBay Finding and Shopping API, one difference is eBay Trading API call needs to append a few request parameters(see details <a href="http://developer.ebay.com/DevZone/XML/docs/WebHelp/wwhelp/wwhimpl/common/html/wwhelp.htm?context=eBay_XML_API&amp;file=InvokingWebServices-.html">here</a>) as query string, plese refer to code <a href="https://github.com/bulldog2011/PicoEBayTradingClient/blob/master/Examples/HelloeBayTrading/HelloeBayTrading/EBayTradingServiceClient.m">here</a> to learn how to add request parameters as query sting on Pico client.</p>

<h3>6. Standalone Site for eBay Trading Proxy</h3>

<p>The eBay Trading Proxy has been extracted as a standalone project, hosted <a href="https://github.com/bulldog2011/PicoEBayTradingClient">here</a>, and the corresponding appledoc is hosted <a href="http://bulldog2011.github.com/PicoEBayTradingClient/">here</a>, the appledoc is a useful programming reference. By the way, the doc annotations in wsdl are not only generted into the proxy code, but into the appledoc, assisting your development.</p>

<h3>Final Word</h3>

<p>eBay Trading API is a powerful API, you can use it to build applications such as listing, selling and post-sales management applications, manage user information, and initiate the item purchase flow on eBay. See your next greap iOS app based on Pico and eBay Trading API.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Pico Tutoiral 5 - Hello Amazon Product Advertising API]]></title>
    <link href="http://bulldog2011.github.com/blog/2013/03/31/pico-tutoiral-5-hello-amazon-product-advertising-api/"/>
    <updated>2013-03-31T10:09:00+08:00</updated>
    <id>http://bulldog2011.github.com/blog/2013/03/31/pico-tutoiral-5-hello-amazon-product-advertising-api</id>
    <content type="html"><![CDATA[<p>This is the fifth tutorial of Pico tutorial series, in this tutorial, I will show you how to integrate <a href="https://github.com/bulldog2011/pico">Pico</a> with <a href="https://affiliate-program.amazon.com/gp/advertising/api/detail/main.html">Amazon Product Advertising API</a>, if you are not familiar with this API, just have a quick review on its official site, basically, the Product Advertising API provides programmatic access to Amazon's product selection and discovery functionality so that developers like you can advertise Amazon products to monetize your website. In this tutorial, I will show you how to customize binding for <a href="https://github.com/bulldog2011/mwsc">mwsc</a> code generation in case the wsdl does not follow convention, for example, the Amazon Product Advertising wsdl uses many anonymous inner types in its schema, without customized binding, the generated code will have many types with same names, leading to compile-time conflict. Also in this tutorial, I will show you show how to add custom SOAP header which is required by the authentication of Amazon Product Advertising API.</p>

<!--more-->


<p><strong><em>NOTE</em></strong></p>

<p>Per Amazon:</p>

<p><blockquote><p>You will not, without our express prior written approval, use any Product Advertising Content on or in connection with any site or application designed or intended for use with a mobile phone or other handheld device.</p></blockquote></p>

<p>So please consult Amazon for permission before you can use its Product Advertising Content on any iOS devices.</p>

<p>The source of this tutorial is <a href="https://github.com/bulldog2011/pico/tree/master/Examples/AWSECommerce">here</a>.</p>

<!--more-->


<h2>Step 0 - Prerequisite</h2>

<p>I suppose you have already read previous Pico tutorials, at least 1 and 2, and basically you should know:</p>

<blockquote><ul>
<li>The wsdl driven development process supported by Pico.</li>
<li>How to reference Pico as a static library in your project.</li>
<li>Or How to reference Pico Source directly in your project.</li>
</ul>
</blockquote>

<h2>Step 1 - Generate Objective-C Proxy from WSDL</h2>

<p>The WSDL of Amazon Product Advertising API uses many <code>anonymous inner type</code> in its schema, this is regarded as an anti-pattern, <a href="http://www.ibm.com/developerworks/webservices/library/ws-avoid-anonymous-types/?ca=drs-">here</a> is an article on IBM developerWorks which explains what is <code>anonymous inner type</code> and why it shoud be avoided.</p>

<p>By default, the <a href="https://github.com/bulldog2011/mwsc">mwsc</a> code generator will have no problem to generate proxy from the WSDL of Amazon Product Advertising API, but there will be many types with same names, leading to compile-time conflict. JAX-WS/JAXB(upon which mwsc is built) can resolve the <code>anonymous inner type</code> issue, by using custom binding, I have provided the custom binding file for you, see its definition below:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>jaxws-bindings.xml </span><a href='https://github.com/bulldog2011/pico/blob/master/Examples/AWSECommerce/CustomBinding/jaxws-bindings.xml'>source </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;&amp;</span><span class="n">lt</span><span class="p">;</span><span class="nl">jaxws:</span><span class="n">bindings</span> <span class="nl">xmlns:</span><span class="n">xs</span><span class="o">=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema&quot;</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>                            <span class="nl">xmlns:</span><span class="n">wsdl</span><span class="o">=</span><span class="s">&quot;http://schemas.xmlsoap.org/wsdl/&quot;</span>
</span><span class='line'>                            <span class="nl">xmlns:</span><span class="n">jaxws</span><span class="o">=</span><span class="s">&quot;http://java.sun.com/xml/ns/jaxws&quot;</span>
</span><span class='line'>                            <span class="nl">xmlns:</span><span class="n">jaxb</span><span class="o">=</span><span class="s">&quot;http://java.sun.com/xml/ns/jaxb&quot;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span>
</span><span class='line'>    <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="nl">jaxws:</span><span class="n">bindings</span>
</span><span class='line'>            <span class="n">node</span><span class="o">=</span><span class="s">&quot;wsdl:definitions/wsdl:types/xs:schema[@targetNamespace=&#39;http://webservices.amazon.com/AWSECommerceService/2011-08-01&#39;]&quot;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span>
</span><span class='line'>        <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="nl">jaxb:</span><span class="n">bindings</span> <span class="n">node</span><span class="o">=</span><span class="s">&quot;//xs:complexType[@name=&#39;CartAddRequest&#39;]/xs:sequence/xs:element[@name=&#39;Items&#39;]/xs:complexType&quot;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span>
</span><span class='line'>            <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="nl">jaxb:</span><span class="n">class</span> <span class="n">name</span><span class="o">=</span><span class="s">&quot;CartAddItems&quot;</span><span class="o">/&amp;</span><span class="n">gt</span><span class="p">;</span>
</span><span class='line'>        <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="o">/</span><span class="nl">jaxb:</span><span class="n">bindings</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span>
</span><span class='line'>        <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="nl">jaxb:</span><span class="n">bindings</span> <span class="n">node</span><span class="o">=</span><span class="s">&quot;//xs:complexType[@name=&#39;CartAddRequest&#39;]/xs:sequence/xs:element[@name=&#39;Items&#39;]/xs:complexType/xs:sequence/xs:element[@name=&#39;Item&#39;]/xs:complexType&quot;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span>
</span><span class='line'>            <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="nl">jaxb:</span><span class="n">class</span> <span class="n">name</span><span class="o">=</span><span class="s">&quot;CartAddItem&quot;</span><span class="o">/&amp;</span><span class="n">gt</span><span class="p">;</span>
</span><span class='line'>        <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="o">/</span><span class="nl">jaxb:</span><span class="n">bindings</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span>
</span><span class='line'>        <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="nl">jaxb:</span><span class="n">bindings</span> <span class="n">node</span><span class="o">=</span><span class="s">&quot;//xs:complexType[@name=&#39;CartCreateRequest&#39;]/xs:sequence/xs:element[@name=&#39;Items&#39;]/xs:complexType&quot;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span>
</span><span class='line'>            <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="nl">jaxb:</span><span class="n">class</span> <span class="n">name</span><span class="o">=</span><span class="s">&quot;CartCreateItems&quot;</span><span class="o">/&amp;</span><span class="n">gt</span><span class="p">;</span>
</span><span class='line'>        <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="o">/</span><span class="nl">jaxb:</span><span class="n">bindings</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span>
</span><span class='line'>        <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="nl">jaxb:</span><span class="n">bindings</span> <span class="n">node</span><span class="o">=</span><span class="s">&quot;//xs:complexType[@name=&#39;CartCreateRequest&#39;]/xs:sequence/xs:element[@name=&#39;Items&#39;]/xs:complexType/xs:sequence/xs:element[@name=&#39;Item&#39;]/xs:complexType&quot;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span>
</span><span class='line'>            <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="nl">jaxb:</span><span class="n">class</span> <span class="n">name</span><span class="o">=</span><span class="s">&quot;CartCreateItem&quot;</span><span class="o">/&amp;</span><span class="n">gt</span><span class="p">;</span>
</span><span class='line'>        <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="o">/</span><span class="nl">jaxb:</span><span class="n">bindings</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span>
</span><span class='line'>        <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="nl">jaxb:</span><span class="n">bindings</span> <span class="n">node</span><span class="o">=</span><span class="s">&quot;//xs:complexType[@name=&#39;CartCreateRequest&#39;]/xs:sequence/xs:element[@name=&#39;Items&#39;]/xs:complexType/xs:sequence/xs:element[@name=&#39;Item&#39;]/xs:complexType/xs:sequence/xs:element[@name=&#39;MetaData&#39;]/xs:complexType&quot;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span>
</span><span class='line'>            <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="nl">jaxb:</span><span class="n">class</span> <span class="n">name</span><span class="o">=</span><span class="s">&quot;ItemMetaData&quot;</span><span class="o">/&amp;</span><span class="n">gt</span><span class="p">;</span>
</span><span class='line'>        <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="o">/</span><span class="nl">jaxb:</span><span class="n">bindings</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span>
</span><span class='line'>        <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="nl">jaxb:</span><span class="n">bindings</span> <span class="n">node</span><span class="o">=</span><span class="s">&quot;//xs:complexType[@name=&#39;CartModifyRequest&#39;]/xs:sequence/xs:element[@name=&#39;Items&#39;]/xs:complexType&quot;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span>
</span><span class='line'>            <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="nl">jaxb:</span><span class="n">class</span> <span class="n">name</span><span class="o">=</span><span class="s">&quot;CartModifyItems&quot;</span><span class="o">/&amp;</span><span class="n">gt</span><span class="p">;</span>
</span><span class='line'>        <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="o">/</span><span class="nl">jaxb:</span><span class="n">bindings</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span>
</span><span class='line'>        <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="nl">jaxb:</span><span class="n">bindings</span> <span class="n">node</span><span class="o">=</span><span class="s">&quot;//xs:complexType[@name=&#39;CartModifyRequest&#39;]/xs:sequence/xs:element[@name=&#39;Items&#39;]/xs:complexType/xs:sequence/xs:element[@name=&#39;Item&#39;]/xs:complexType&quot;</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span>
</span><span class='line'>            <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="nl">jaxb:</span><span class="n">class</span> <span class="n">name</span><span class="o">=</span><span class="s">&quot;CartModifyItem&quot;</span><span class="o">/&amp;</span><span class="n">gt</span><span class="p">;</span>
</span><span class='line'>        <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="o">/</span><span class="nl">jaxb:</span><span class="n">bindings</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span>
</span><span class='line'>    <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="o">/</span><span class="nl">jaxws:</span><span class="n">bindings</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;&amp;</span><span class="n">lt</span><span class="p">;</span><span class="o">/</span><span class="nl">jaxws:</span><span class="n">bindings</span><span class="o">&gt;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>I won't elaborate on the details of custom binding here, if you are interested, please refer to doc <a href="http://jax-ws.java.net/nonav/customizations/http.java.sun.com.xml.n/element/bindings.html">here</a> and <a href="http://docs.oracle.com/cd/E17802_01/webservices/webservices/docs/2.0/tutorial/doc/JAXBUsing4.html">here</a>. Basically, we need to change the naming of some <code>anonymous inner type</code> to avoid conflict, for example, to change <code>Item</code> in <code>CartAddRequest</code> to <code>CartAddItem</code>, in order to avoid conflict with other <code>Item</code> defined in other places.</p>

<p>Now download <a href="https://github.com/bulldog2011/mwsc">mwsc</a>, etract it into a local folder, copy the custom binding file into the same folder, create a folder called <code>generated</code> in the same folder, then run following command in terminal to generate the proxy:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>bin/mwsc -pico -d generated -b jaxws-bindings.xml  http://webservices.amazon.com/AWSECommerceService/AWSECommerceService.wsdl&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Depends on the network speed, you may need to wait a few moments to let the code generator download the wsdl and generate code, you may also download the wsdl to local and run the code generator with a local wsdl.</p>

<p>The target proxy will be generated in the <code>generated</code> folder you created.</p>

<h2>Step 2 - Create New iOS Project, Add Pico Library and Generated Proxy into Your Project</h2>

<p>Create a new simple iOS single view application named "HelloAWSECommerce", don't choose ARC since Pico does not support ARC yet.</p>

<p>In this tutorial, we will reference Pico as a static library, suppose you have downloaded Pico source project from github site, then:</p>

<blockquote><ol>
<li>Drag the Pico xcodeproj into your project,</li>
<li>In the Build Phases of the target,  add <code>libPico.a</code> and <code>libxml2.dylib</code> to "Link Binary With Libraries" section.</li>
<li>In the Build Setting of the target, add [your path to Pico source] to "User Header Search Paths" setting, choose "recursive" seach path.</li>
</ol>
</blockquote>

<p>Build the project to ensure that it can build successfully.</p>

<p>Now drag the proxy generated in step 1 into the project,  choose "Copy items to destination group's folder" and "add to targets" when prompted.</p>

<p>Build the project again to ensure that it can build successfully. <strong><em>Note</em></strong>, you may get a few compiler warnings, say some property setter does not follow cocoa naming convertion, that's ok, just ignore them.</p>

<p>The code generation will generate both SOAP and XML based interfaces from the WSDL of Amazon Product Advertising for us,
since we will use SOAP based interface in this tutorial, you may now review the generated Amazon ECommerce service(aka Amazon Product Advertising API) SOAP interface(in the generated <code>client</code> folder) to learn what kinds of functions are provided by Amazon ECommerce service, and what kinds of parameters are needed to call the serivce, the interface is posted below:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>AWSECommerceServicePortType_SOAPClient.h </span><a href='https://github.com/bulldog2011/pico/blob/master/Examples/AWSECommerce/AWSECommerce/awsecommerceservice/_2011_08_01/client/AWSECommerceServicePortType_SOAPClient.h'>source </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="c1">// Generated by wsdl compiler for ios/objective-c</span>
</span><span class='line'><span class="c1">// DO NOT CHANGE!&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">Foundation</span><span class="o">/</span><span class="n">Foundation</span><span class="p">.</span><span class="n">h</span><span class="o">&gt;&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;PicoSOAPClient.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;CartAdd.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;ItemLookupResponse.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;CartClearResponse.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;CartClear.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;CartModify.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;CartCreateResponse.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;CartModifyResponse.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;ItemLookup.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;ItemSearchResponse.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;BrowseNodeLookup.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;CartGet.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;CartAddResponse.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;ItemSearch.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;SimilarityLookup.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;CartGetResponse.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;CartCreate.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;SimilarityLookupResponse.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;BrowseNodeLookupResponse.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;*</span>
</span><span class='line'> <span class="n">This</span> <span class="n">class</span> <span class="n">is</span> <span class="n">the</span> <span class="n">SOAP</span> <span class="n">client</span> <span class="n">to</span> <span class="n">the</span> <span class="n">AWSECommerceServicePortType</span> <span class="n">Web</span> <span class="n">Service</span><span class="p">.</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="k">@interface</span> <span class="nc">AWSECommerceServicePortType_SOAPClient</span> : <span class="nc">PicoSOAPClient</span> <span class="p">{</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">itemSearch:</span><span class="p">(</span><span class="n">ItemSearch</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">ItemSearchResponse</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">,</span> <span class="kt">id</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">PicoBindable</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">soapFault</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">itemLookup:</span><span class="p">(</span><span class="n">ItemLookup</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">ItemLookupResponse</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">,</span> <span class="kt">id</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">PicoBindable</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">soapFault</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">browseNodeLookup:</span><span class="p">(</span><span class="n">BrowseNodeLookup</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">BrowseNodeLookupResponse</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">,</span> <span class="kt">id</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">PicoBindable</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">soapFault</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">similarityLookup:</span><span class="p">(</span><span class="n">SimilarityLookup</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">SimilarityLookupResponse</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">,</span> <span class="kt">id</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">PicoBindable</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">soapFault</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">cartGet:</span><span class="p">(</span><span class="n">CartGet</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">CartGetResponse</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">,</span> <span class="kt">id</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">PicoBindable</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">soapFault</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">cartCreate:</span><span class="p">(</span><span class="n">CartCreate</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">CartCreateResponse</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">,</span> <span class="kt">id</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">PicoBindable</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">soapFault</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">cartAdd:</span><span class="p">(</span><span class="n">CartAdd</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">CartAddResponse</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">,</span> <span class="kt">id</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">PicoBindable</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">soapFault</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">cartModify:</span><span class="p">(</span><span class="n">CartModify</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">CartModifyResponse</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">,</span> <span class="kt">id</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">PicoBindable</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">soapFault</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">cartClear:</span><span class="p">(</span><span class="n">CartClear</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">CartClearResponse</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">,</span> <span class="kt">id</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">PicoBindable</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">soapFault</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">@end</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>All the methods in the interface follow same calling paradigm - you call the service with required request object and register success callback(for success handling logic) and failure callback(for error handling logic) using Objective-C block.</p>

<h2>Step 3 - Implement Appliction Logic and UI, Call Proxy to Invoke Web Service as Needed.</h2>

<p>First, create a shared service client as below:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>AWSECommerceServiceClient.h </span><a href='https://github.com/bulldog2011/pico/blob/master/Examples/AWSECommerce/AWSECommerce/AWSECommerceServiceClient.h'>source </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">UIKit</span><span class="o">/</span><span class="n">UIKit</span><span class="p">.</span><span class="n">h</span><span class="o">&gt;&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;AWSECommerceServicePortType_SOAPClient.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">extern</span> <span class="n">NSString</span> <span class="o">*</span><span class="k">const</span> <span class="n">AWSAccessKeyId</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">@interface</span> <span class="nc">AWSECommerceServiceClient</span> : <span class="nc">AWSECommerceServicePortType_SOAPClient</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">ul</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="n">li</span><span class="o">&gt;&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="p">(</span><span class="n">AWSECommerceServiceClient</span> <span class="o">*</span><span class="p">)</span><span class="n">sharedClient</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="n">li</span><span class="o">&gt;&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">authenticateRequest:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="n">action</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">@end</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>AWSECommerceServiceClient.m </span><a href='https://github.com/bulldog2011/pico/blob/master/Examples/AWSECommerce/AWSECommerce/AWSECommerceServiceClient.m'>source  </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;AWSECommerceServiceClient.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;AmazonAuthUtils.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;PicoXMLElement.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">@implementation</span> <span class="nc">AWSECommerceServiceClient</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">update</span> <span class="n">url</span> <span class="n">according</span> <span class="n">to</span> <span class="n">your</span> <span class="n">local</span> <span class="n">location</span><span class="p">,</span> <span class="n">see</span> <span class="n">a</span> <span class="n">list</span> <span class="n">of</span> <span class="n">supported</span> <span class="n">location</span> <span class="n">at</span> <span class="n">the</span> <span class="n">end</span> <span class="n">of</span> <span class="n">the</span> <span class="nl">wsdl:</span>
</span><span class='line'> <span class="nl">http:</span><span class="c1">//webservices.amazon.com/AWSECommerceService/AWSECommerceService.wsdl</span>
</span><span class='line'> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="c1">//static NSString &lt;/em&gt;const AWSECServiceURLString = @&quot;https://webservices.amazon.cn/onca/soap?Service=AWSECommerceService&quot;;</span>
</span><span class='line'><span class="k">static</span> <span class="n">NSString</span> <span class="o">*</span><span class="k">const</span> <span class="n">AWSECServiceURLString</span> <span class="o">=</span> <span class="s">@&quot;https://webservices.amazon.com/onca/soap?Service=AWSECommerceService&quot;</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="n">NSString</span> <span class="o">&lt;</span><span class="n">em</span><span class="o">&gt;</span><span class="k">const</span> <span class="n">AWSAccessKeyId</span> <span class="o">=</span> <span class="s">@&quot;YOUR AWS ACCESS KEY&quot;</span><span class="p">;</span>
</span><span class='line'><span class="n">NSString</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="k">const</span> <span class="n">AWSSecureKeyId</span> <span class="o">=</span> <span class="s">@&quot;YOUR AWS SECURE KEY&quot;</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">static</span> <span class="n">NSString</span> <span class="o">*</span><span class="k">const</span> <span class="n">AuthHeaderNS</span> <span class="o">=</span> <span class="s">@&quot;http://security.amazonaws.com/doc/2007-01-01/&quot;</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">ul</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="n">li</span><span class="o">&gt;</span><span class="p">(</span><span class="n">AWSECommerceServiceClient</span> <span class="o">&lt;</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span><span class="n">sharedClient</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">static</span> <span class="n">AWSECommerceServiceClient</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="n">_sharedClient</span> <span class="o">=</span> <span class="nb">nil</span><span class="p">;</span>
</span><span class='line'>  <span class="k">static</span> <span class="n">dispatch_once_t</span> <span class="n">onceToken</span><span class="p">;</span>
</span><span class='line'>  <span class="n">dispatch_once</span><span class="p">(</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="n">onceToken</span><span class="p">,</span> <span class="o">^</span><span class="p">{</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="n">_sharedClient</span> <span class="o">=</span> <span class="p">[[</span><span class="n">AWSECommerceServiceClient</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithEndpointURL:</span><span class="p">[</span><span class="n">NSURL</span> <span class="nl">URLWithString:</span><span class="n">AWSECServiceURLString</span><span class="p">]];</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="p">});</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="k">return</span> <span class="n">_sharedClient</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">Authentication</span> <span class="n">of</span> <span class="n">SOAP</span> <span class="n">request</span>
</span><span class='line'> <span class="n">see</span> <span class="n">details</span> <span class="nl">here:</span> <span class="nl">http:</span><span class="c1">//docs.aws.amazon.com/AWSECommerceService/latest/DG/NotUsingWSSecurity.html</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">authenticateRequest:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span><span class="n">action</span> <span class="p">{</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="c1">// build timestamp</span>
</span><span class='line'><span class="n">NSDateFormatter</span> <span class="o">*</span><span class="n">dataFormatter</span> <span class="o">=</span> <span class="p">[[[</span><span class="n">NSDateFormatter</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">]</span> <span class="n">autorelease</span><span class="p">];</span>
</span><span class='line'><span class="p">[</span><span class="n">dataFormatter</span> <span class="nl">setDateFormat:</span><span class="s">@&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;</span><span class="p">];</span>
</span><span class='line'><span class="p">[</span><span class="n">dataFormatter</span> <span class="nl">setTimeZone:</span><span class="p">[</span><span class="n">NSTimeZone</span> <span class="nl">timeZoneWithName:</span><span class="s">@&quot;UTC&quot;</span><span class="p">]];</span>
</span><span class='line'><span class="n">NSString</span> <span class="o">*</span><span class="n">timestamp</span> <span class="o">=</span> <span class="p">[</span><span class="n">dataFormatter</span> <span class="nl">stringFromDate:</span><span class="p">[</span><span class="n">NSDate</span> <span class="n">date</span><span class="p">]];</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// build signature</span>
</span><span class='line'><span class="n">NSString</span> <span class="o">*</span><span class="n">signatureInput</span> <span class="o">=</span> <span class="p">[</span><span class="n">action</span> <span class="nl">stringByAppendingString:</span><span class="n">timestamp</span><span class="p">];</span>
</span><span class='line'><span class="n">NSString</span> <span class="o">*</span><span class="n">signature</span> <span class="o">=</span> <span class="p">[</span><span class="n">AmazonAuthUtils</span> <span class="nl">sha256HMac:</span><span class="p">[</span><span class="n">signatureInput</span> <span class="nl">dataUsingEncoding:</span><span class="n">NSUTF8StringEncoding</span><span class="p">]</span> <span class="nl">withKey:</span><span class="n">AWSSecureKeyId</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// add SOAP headers</span>
</span><span class='line'><span class="n">self</span><span class="p">.</span><span class="n">customSoapHeaders</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableArray</span> <span class="n">array</span><span class="p">];</span>
</span><span class='line'><span class="n">PicoXMLElement</span> <span class="o">*</span><span class="n">accessKeyElement</span> <span class="o">=</span> <span class="p">[[[</span><span class="n">PicoXMLElement</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">]</span> <span class="n">autorelease</span><span class="p">];</span>
</span><span class='line'><span class="n">accessKeyElement</span><span class="p">.</span><span class="n">nsUri</span> <span class="o">=</span> <span class="n">AuthHeaderNS</span><span class="p">;</span>
</span><span class='line'><span class="n">accessKeyElement</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">@&quot;AWSAccessKeyId&quot;</span><span class="p">;</span>
</span><span class='line'><span class="n">accessKeyElement</span><span class="p">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">AWSAccessKeyId</span><span class="p">;</span>
</span><span class='line'><span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">customSoapHeaders</span> <span class="nl">addObject:</span><span class="n">accessKeyElement</span><span class="p">];</span>
</span><span class='line'><span class="n">PicoXMLElement</span> <span class="o">*</span><span class="n">timestampElement</span> <span class="o">=</span> <span class="p">[[[</span><span class="n">PicoXMLElement</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">]</span> <span class="n">autorelease</span><span class="p">];</span>
</span><span class='line'><span class="n">timestampElement</span><span class="p">.</span><span class="n">nsUri</span> <span class="o">=</span> <span class="n">AuthHeaderNS</span><span class="p">;</span>
</span><span class='line'><span class="n">timestampElement</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">@&quot;Timestamp&quot;</span><span class="p">;</span>
</span><span class='line'><span class="n">timestampElement</span><span class="p">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">timestamp</span><span class="p">;</span>
</span><span class='line'><span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">customSoapHeaders</span> <span class="nl">addObject:</span><span class="n">timestampElement</span><span class="p">];</span>
</span><span class='line'><span class="n">PicoXMLElement</span> <span class="o">*</span><span class="n">signatureElement</span> <span class="o">=</span> <span class="p">[[[</span><span class="n">PicoXMLElement</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">]</span> <span class="n">autorelease</span><span class="p">];</span>
</span><span class='line'><span class="n">signatureElement</span><span class="p">.</span><span class="n">nsUri</span> <span class="o">=</span> <span class="n">AuthHeaderNS</span><span class="p">;</span>
</span><span class='line'><span class="n">signatureElement</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">@&quot;Signature&quot;</span><span class="p">;</span>
</span><span class='line'><span class="n">signatureElement</span><span class="p">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">signature</span><span class="p">;</span>
</span><span class='line'><span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">customSoapHeaders</span> <span class="nl">addObject:</span><span class="n">signatureElement</span><span class="p">];</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">@end</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Let me give more comments:</p>

<blockquote><ol>
<li>Amazon Product Advertising API requires per-call request authentication, see details <a href="http://docs.aws.amazon.com/AWSECommerceService/latest/DG/NotUsingWSSecurity.html">here</a>, the authentication logic is implemented in the <code>(void)authenticateRequest:(NSString *)action</code> method.</li>
<li>To make the authentication work, you need to fill in your <code>AWSAccessKeyId</code> and <code>AWSSecureKeyId</code> in the shared client, if you are a registed Amazon Product Advertising API developer, you can get these keys from your account on Amazon developer site.</li>
<li>The authentication info is added in the SOAP request as SOAP header, to add SOAP header, we use <code>PicoXMLElement</code>(XML helper class provided in Pico) to build header element, then add the header element one by one into the <code>customSoapHeader</code> property(which is of type <code>NSMuatableArray</code>) of the client, for example: <code>[self.customSoapHeaders addObject:signatureElement]</code>, at runtime, Pico will add these elements into the SOAP request header.</li>
<li>The authentication needs to be done on per-call basis, means everytime you call an Amazon ECommerce service, you need to authenticate the request before the service call, see sample later.</li>
<li>The authentication relies on an utility class called <code>AmazonAuthUtils</code>, copy them from <a href="https://github.com/bulldog2011/pico/blob/master/Examples/AWSECommerce/AWSECommerce/AmazonAuthUtils.h">here</a> and <a href="https://github.com/bulldog2011/pico/blob/master/Examples/AWSECommerce/AWSECommerce/AmazonAuthUtils.m">here</a>.</li>
</ol>
</blockquote>

<p>Now the UI part, we will search one book from Amazon by keywords, since this is a hello world like sample, we just need a UITextField for keyword input and UIButton to trigger Amazon search by invoking method <code>searchButtonPressed</code> which will indirectly call Amazon ECommerce <code>itemSearch</code> API through the proxy, fairly simple, see definition in header file <a href="https://github.com/bulldog2011/pico/blob/master/Examples/AWSECommerce/AWSECommerce/ViewController.h">ViewController.h</a> and instantiation in implementation file <a href="https://github.com/bulldog2011/pico/blob/master/Examples/AWSECommerce/AWSECommerce/ViewController.m">ViewController.m</a>.</p>

<p>Now implement the <code>searchButtonPressed</code> method by invoking service as below:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>ViewController.m </span><a href='https://github.com/bulldog2011/pico/blob/master/Examples/AWSECommerce/AWSECommerce/ViewController.m'>source  </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;ViewController.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;AWSECommerceServiceClient.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;CommonTypes.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Toast+UIView.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;SOAP11Fault.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">ul</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="n">li</span><span class="o">&gt;&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">searchButtonPressed:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="n">sender</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="c1">// Hide the keyboard.</span>
</span><span class='line'>  <span class="p">[</span><span class="n">_searchText</span> <span class="n">resignFirstResponder</span><span class="p">];</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="k">if</span> <span class="p">(</span><span class="n">_searchText</span><span class="p">.</span><span class="n">text</span><span class="p">.</span><span class="n">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="c1">// start progress activity</span>
</span><span class='line'>  <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="n">makeToastActivity</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// get shared client</span>
</span><span class='line'>  <span class="n">AWSECommerceServiceClient</span> <span class="o">*</span><span class="n">client</span> <span class="o">=</span> <span class="p">[</span><span class="n">AWSECommerceServiceClient</span> <span class="n">sharedClient</span><span class="p">];</span>
</span><span class='line'>  <span class="n">client</span><span class="p">.</span><span class="n">debug</span> <span class="o">=</span> <span class="n">YES</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// build request, see details here:</span>
</span><span class='line'>  <span class="n">ItemSearch</span> <span class="o">*</span><span class="n">request</span> <span class="o">=</span> <span class="p">[[[</span><span class="n">ItemSearch</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">]</span> <span class="n">autorelease</span><span class="p">];</span>
</span><span class='line'>  <span class="n">request</span><span class="p">.</span><span class="n">associateTag</span> <span class="o">=</span> <span class="s">@&quot;tag&quot;</span><span class="p">;</span> <span class="c1">// seems any tag is ok</span>
</span><span class='line'>  <span class="n">request</span><span class="p">.</span><span class="n">shared</span> <span class="o">=</span> <span class="p">[[[</span><span class="n">ItemSearchRequest</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">]</span> <span class="n">autorelease</span><span class="p">];</span>
</span><span class='line'>  <span class="n">request</span><span class="p">.</span><span class="n">shared</span><span class="p">.</span><span class="n">searchIndex</span> <span class="o">=</span> <span class="s">@&quot;Books&quot;</span><span class="p">;</span>
</span><span class='line'>  <span class="n">request</span><span class="p">.</span><span class="n">shared</span><span class="p">.</span><span class="n">responseGroup</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableArray</span> <span class="nl">arrayWithObjects:</span><span class="s">@&quot;Images&quot;</span><span class="p">,</span> <span class="s">@&quot;Small&quot;</span><span class="p">,</span> <span class="nb">nil</span><span class="p">];</span>
</span><span class='line'>  <span class="n">ItemSearchRequest</span> <span class="o">*</span><span class="n">itemSearchRequest</span> <span class="o">=</span> <span class="p">[[[</span><span class="n">ItemSearchRequest</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">]</span> <span class="n">autorelease</span><span class="p">];</span>
</span><span class='line'>  <span class="n">itemSearchRequest</span><span class="p">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">_searchText</span><span class="p">.</span><span class="n">text</span><span class="p">;</span>
</span><span class='line'>  <span class="n">request</span><span class="p">.</span><span class="n">request</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableArray</span> <span class="nl">arrayWithObject:</span><span class="n">itemSearchRequest</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// authenticate the request</span>
</span><span class='line'>  <span class="c1">// http://docs.aws.amazon.com/AWSECommerceService/latest/DG/NotUsingWSSecurity.html</span>
</span><span class='line'>  <span class="p">[</span><span class="n">client</span> <span class="nl">authenticateRequest:</span><span class="s">@&quot;ItemSearch&quot;</span><span class="p">];</span>
</span><span class='line'>  <span class="p">[</span><span class="n">client</span> <span class="nl">itemSearch:</span><span class="n">request</span> <span class="nl">success:</span><span class="o">^</span><span class="p">(</span><span class="n">ItemSearchResponse</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="c1">// stop progress activity</span>
</span><span class='line'>      <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="n">hideToastActivity</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>      <span class="c1">// success handling logic</span>
</span><span class='line'>      <span class="k">if</span> <span class="p">(</span><span class="n">responseObject</span><span class="p">.</span><span class="n">items</span><span class="p">.</span><span class="n">count</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>          <span class="n">Items</span> <span class="o">*</span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="n">responseObject</span><span class="p">.</span><span class="n">items</span> <span class="nl">objectAtIndex:</span><span class="mi">0</span><span class="p">];</span>
</span><span class='line'>          <span class="k">if</span> <span class="p">(</span><span class="n">items</span><span class="p">.</span><span class="n">item</span><span class="p">.</span><span class="n">count</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>              <span class="n">Item</span> <span class="o">*</span><span class="n">item</span> <span class="o">=</span> <span class="p">[</span><span class="n">items</span><span class="p">.</span><span class="n">item</span> <span class="nl">objectAtIndex:</span><span class="mi">0</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>              <span class="c1">// start image downloading progress activity</span>
</span><span class='line'>              <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="n">makeToastActivity</span><span class="p">];</span>
</span><span class='line'>              <span class="c1">// get gallery image</span>
</span><span class='line'>              <span class="n">NSURL</span> <span class="o">*</span><span class="n">imageURL</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURL</span> <span class="nl">URLWithString:</span><span class="n">item</span><span class="p">.</span><span class="n">smallImage</span><span class="p">.</span><span class="n">url</span><span class="p">];</span>
</span><span class='line'>              <span class="n">NSData</span> <span class="o">*</span><span class="n">imageData</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSData</span> <span class="nl">dataWithContentsOfURL:</span><span class="n">imageURL</span><span class="p">];</span>
</span><span class='line'>              <span class="c1">// stop progress activity</span>
</span><span class='line'>              <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="n">hideToastActivity</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>              <span class="n">UIImage</span> <span class="o">*</span><span class="n">image</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIImage</span> <span class="nl">imageWithData:</span><span class="n">imageData</span><span class="p">];</span>
</span><span class='line'>              <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="nl">makeToast:</span><span class="n">item</span><span class="p">.</span><span class="n">itemAttributes</span><span class="p">.</span><span class="n">title</span> <span class="nl">duration:</span><span class="mf">3.0</span> <span class="nl">position:</span><span class="s">@&quot;center&quot;</span> <span class="nl">title:</span><span class="s">@&quot;Success&quot;</span> <span class="nl">image:</span><span class="n">image</span><span class="p">];</span>
</span><span class='line'>          <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>              <span class="c1">// no result</span>
</span><span class='line'>              <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="nl">makeToast:</span><span class="s">@&quot;No result&quot;</span> <span class="nl">duration:</span><span class="mf">3.0</span> <span class="nl">position:</span><span class="s">@&quot;center&quot;</span><span class="p">];</span>
</span><span class='line'>          <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>          <span class="c1">// no result</span>
</span><span class='line'>          <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="nl">makeToast:</span><span class="s">@&quot;No result&quot;</span> <span class="nl">duration:</span><span class="mf">3.0</span> <span class="nl">position:</span><span class="s">@&quot;center&quot;</span><span class="p">];</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>      <span class="c1">// TODO</span>
</span><span class='line'>  <span class="p">}</span> <span class="nl">failure:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">,</span> <span class="kt">id</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">PicoBindable</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">soapFault</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="c1">// stop progress activity</span>
</span><span class='line'>      <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="n">hideToastActivity</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>      <span class="c1">// error handling logic</span>
</span><span class='line'>      <span class="k">if</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// http or parsing error</span>
</span><span class='line'>          <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="nl">makeToast:</span><span class="p">[</span><span class="n">error</span> <span class="n">localizedDescription</span><span class="p">]</span> <span class="nl">duration:</span><span class="mf">3.0</span> <span class="nl">position:</span><span class="s">@&quot;center&quot;</span> <span class="nl">title:</span><span class="s">@&quot;Error&quot;</span><span class="p">];</span>
</span><span class='line'>      <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">soapFault</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>          <span class="n">SOAP11Fault</span> <span class="o">*</span><span class="n">soap11Fault</span> <span class="o">=</span> <span class="p">(</span><span class="n">SOAP11Fault</span> <span class="o">*</span><span class="p">)</span><span class="n">soapFault</span><span class="p">;</span>
</span><span class='line'>          <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="nl">makeToast:</span><span class="n">soap11Fault</span><span class="p">.</span><span class="n">faultstring</span> <span class="nl">duration:</span><span class="mf">3.0</span> <span class="nl">position:</span><span class="s">@&quot;center&quot;</span> <span class="nl">title:</span><span class="s">@&quot;SOAP Fault&quot;</span><span class="p">];</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>  <span class="p">}];</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>More comments to the serivce call code:</p>

<blockquote><ol>
<li>I've added comments in the code so the whole service call flow should be easy to understand.</li>
<li>Before service call, the request must be authenticated by the calling <code>authenticateRequest</code> method, such as <code>[client authenticateRequest:@"ItemSearch"];</code>, <code>ItemSearch</code> is the target action or API name.</li>
<li>In the success handling logic, we show the title and the image of the returned item, for demo, the image is downloaded synchronously, but in practice, you should download image asynchronously in order not to block main UI.</li>
<li>In failure handling logic, we need to check both a <code>NSError</code>(indicating http or parsing error) and a <code>SOAPFault</code>(indicating server side returned error), then handle them accordingly.</li>
<li>Amazon ECommerce service supports response resident error(RRE), so even we get success response, we still need to check response for resident error, in the demo code above, I omitted response resident error checking for abbreviation, but in practice, you should check response resident error to make your app robust.</li>
<li>The generated code provides type hint as code comments, if you are confused with the type of a property, just consult the corresponding header file, for example, the <code>responseGroup</code> property of <code>ItemSearchRequest</code> type is of type <code>NSMuatableArray</code>, what's the actual entry type? By checking code comments in the <code>ItemSearchRequest.h</code> file, you will find the entry type is <code>NSString</code>, like below:</li>
</ol>
</blockquote>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>ItemSearchRequest.h </span><a href='https://github.com/bulldog2011/pico/blob/master/Examples/AWSECommerce/AWSECommerce/awsecommerceservice/_2011_08_01/ItemSearchRequest.h'>source  </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;*</span>
</span><span class='line'><span class="p">(</span><span class="n">public</span> <span class="n">property</span><span class="p">)</span>
</span><span class='line'><span class="n">entry</span> <span class="n">type</span> <span class="o">:</span> <span class="n">NSString</span><span class="p">,</span> <span class="n">wrapper</span> <span class="k">for</span> <span class="n">primitive</span> <span class="n">string</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">retain</span><span class="p">)</span> <span class="n">NSMutableArray</span> <span class="o">*</span><span class="n">responseGroup</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>At last, please don't forget to include the shared client and SOAP related header files, it's a best practice to include the generated CommonTypes.h file which can free you from writing many import statements required by request building and response handling.</p>

<h2>Final Step - Run the Demo</h2>

<p>Let's run the demo in iPhone simulator, see a sceen shot below:</p>

<p><img class="center" src="/images/pico/tutorial05/screen_shot1.png" width="300" height="500"></p>

<p>and the debug output:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>2013-03-31 12:33:14.912 HelloAWSECommerce[2604:c07] Sending request to : https://webservices.amazon.com/onca/soap?Service=AWSECommerceService
</span><span class='line'>2013-03-31 12:33:14.913 HelloAWSECommerce[2604:c07] Request message:
</span><span class='line'>2013-03-31 12:33:14.913 HelloAWSECommerce[2604:c07] &lt;?xml version="1.0" encoding="UTF-8" ?>
</span><span class='line'>&lt;soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://webservices.amazon.com/AWSECommerceService/2011-08-01">&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;pre>&lt;code>&lt;soapenv:Header xmlns:ns0="http://security.amazonaws.com/doc/2007-01-01/"&gt;
</span><span class='line'>    &lt;ns0:AWSAccessKeyId&gt;***************&lt;/ns0:AWSAccessKeyId&gt;
</span><span class='line'>    &lt;ns0:Timestamp&gt;2013-03-31T04:33:14Z&lt;/ns0:Timestamp&gt;
</span><span class='line'>    &lt;ns0:Signature&gt;***************&lt;/ns0:Signature&gt;
</span><span class='line'>&lt;/soapenv:Header&gt;
</span><span class='line'>&lt;soapenv:Body&gt;
</span><span class='line'>    &lt;ItemSearch&gt;
</span><span class='line'>        &lt;Request&gt;
</span><span class='line'>            &lt;Title&gt;Ios programming&lt;/Title&gt;
</span><span class='line'>        &lt;/Request&gt;
</span><span class='line'>        &lt;Shared&gt;
</span><span class='line'>            &lt;ResponseGroup&gt;Images&lt;/ResponseGroup&gt;
</span><span class='line'>            &lt;ResponseGroup&gt;Small&lt;/ResponseGroup&gt;
</span><span class='line'>            &lt;SearchIndex&gt;Books&lt;/SearchIndex&gt;
</span><span class='line'>        &lt;/Shared&gt;
</span><span class='line'>        &lt;AssociateTag&gt;tag&lt;/AssociateTag&gt;
</span><span class='line'>    &lt;/ItemSearch&gt;
</span><span class='line'>&lt;/soapenv:Body&gt;
</span><span class='line'>&lt;/code>&lt;/pre>
</span><span class='line'>
</span><span class='line'>&lt;p>&lt;/soapenv:Envelope>
</span><span class='line'>2013-03-31 12:33:14.913 HelloAWSECommerce[2604:c07] Request HTTP Headers :
</span><span class='line'>{&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;pre>&lt;code>Accept = "text/xml";
</span><span class='line'>"Accept-Language" = "en, fr, de, ja, nl, it, es, pt, pt-PT, da, fi, nb, sv, ko, zh-Hans, zh-Hant, ru, pl, tr, uk, ar, hr, cs, el, he, ro, sk, th, id, ms, en-GB, ca, hu, vi, en-us;q=0.8";
</span><span class='line'>"Content-Type" = "text/xml";
</span><span class='line'>SOAPAction = "http://soap.amazon.com/ItemSearch";
</span><span class='line'>"User-Agent" = "HelloAWSECommerce/1.0 (iPhone Simulator; iOS 6.0; Scale/1.00)";
</span><span class='line'>&lt;/code>&lt;/pre>
</span><span class='line'>
</span><span class='line'>&lt;p>}
</span><span class='line'>2013-03-31 12:33:16.963 HelloAWSECommerce[2604:4533] Response HTTP status :
</span><span class='line'>200
</span><span class='line'>2013-03-31 12:33:16.963 HelloAWSECommerce[2604:4533] Response HTTP headers :
</span><span class='line'>{&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;pre>&lt;code>"Content-Encoding" = gzip;
</span><span class='line'>"Content-Type" = "text/xml;charset=UTF-8";
</span><span class='line'>Date = "Sun, 31 Mar 2013 04:33:29 GMT";
</span><span class='line'>Server = Server;
</span><span class='line'>"Transfer-Encoding" = Identity;
</span><span class='line'>Vary = "Accept-Encoding,User-Agent";
</span><span class='line'>nnCoection = close;
</span><span class='line'>&lt;/code>&lt;/pre>
</span><span class='line'>
</span><span class='line'>&lt;p>}
</span><span class='line'>2013-03-31 12:33:16.964 HelloAWSECommerce[2604:3e67] Response message :
</span><span class='line'>2013-03-31 12:33:16.964 HelloAWSECommerce[2604:3e67] &lt;?xml version="1.0" ?>&lt;soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">&lt;soapenv:Body>&lt;ItemSearchResponse xmlns="http://webservices.amazon.com/AWSECommerceService/2011-08-01">&lt;OperationRequest>&lt;HTTPHeaders>&lt;Header Name="UserAgent" Value="HelloAWSECommerce/1.0 (iPhone Simulator; iOS 6.0; Scale/1.00)">&lt;/Header>&lt;/HTTPHeaders>&lt;RequestId>6d6556d8-ec6f-4d8b-8461-bc25398d1244&lt;/RequestId>&lt;Arguments>&lt;Argument Name="Service" Value="AWSECommerceService">&lt;/Argument>&lt;/Arguments>&lt;RequestProcessingTime>0.0923510000000000&lt;/RequestProcessingTime>&lt;/OperationRequest>&lt;Items>&lt;Request>&lt;IsValid>True&lt;/IsValid>&lt;ItemSearchRequest>&lt;ResponseGroup>Images&lt;/ResponseGroup>&lt;ResponseGroup>Small&lt;/ResponseGroup>&lt;SearchIndex>Books&lt;/SearchIndex>&lt;Title>Ios programming&lt;/Title>&lt;/ItemSearchRequest>&lt;/Request>&lt;TotalResults>113&lt;/TotalResults>&lt;TotalPages>12&lt;/TotalPages>&lt;MoreSearchResultsUrl>http://www.amazon.com/gp/redirect.html?camp=2025&amp;creative=386001&amp;location=http%3A%2F%2Fwww.amazon.com%2Fgp%2Fsearch%3Fkeywords%3DIos%2Bprogramming%26url%3Dsearch-alias%253Dstripbooks&amp;linkCode=sp1&amp;tag=tag&amp;SubscriptionId=AKIAIEKQPISXI6IPHDFQ&lt;/MoreSearchResultsUrl>&lt;Item>&lt;ASIN>0321821521&lt;/ASIN>&lt;DetailPageURL>http://www.amazon.com/iOS-Programming-Ranch-Edition-Guides/dp/0321821521%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D165953%26creativeASIN%3D0321821521&lt;/DetailPageURL>&lt;ItemLinks>&lt;ItemLink>&lt;Description>Technical Details&lt;/Description>&lt;URL>http://www.amazon.com/iOS-Programming-Ranch-Edition-Guides/dp/tech-data/0321821521%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321821521&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Baby Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/baby/add-item.html%3Fasin.0%3D0321821521%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321821521&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wedding Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wedding/add-item.html%3Fasin.0%3D0321821521%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321821521&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wishlist&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wishlist/add-item.html%3Fasin.0%3D0321821521%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321821521&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Tell A Friend&lt;/Description>&lt;URL>http://www.amazon.com/gp/pdp/taf/0321821521%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321821521&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Customer Reviews&lt;/Description>&lt;URL>http://www.amazon.com/review/product/0321821521%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321821521&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Offers&lt;/Description>&lt;URL>http://www.amazon.com/gp/offer-listing/0321821521%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321821521&lt;/URL>&lt;/ItemLink>&lt;/ItemLinks>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/41ybikkCyLL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">52&lt;/Width>&lt;/SmallImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/41ybikkCyLL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">112&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/41ybikkCyLL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">349&lt;/Width>&lt;/LargeImage>&lt;ImageSets>&lt;ImageSet Category="primary">&lt;SwatchImage>&lt;URL>http://ecx.images-amazon.com/images/I/41ybikkCyLL.&lt;em>SL30&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">30&lt;/Height>&lt;Width Units="pixels">21&lt;/Width>&lt;/SwatchImage>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/41ybikkCyLL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">52&lt;/Width>&lt;/SmallImage>&lt;ThumbnailImage>&lt;URL>http://ecx.images-amazon.com/images/I/41ybikkCyLL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">52&lt;/Width>&lt;/ThumbnailImage>&lt;TinyImage>&lt;URL>http://ecx.images-amazon.com/images/I/41ybikkCyLL.&lt;em>SL110&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">110&lt;/Height>&lt;Width Units="pixels">77&lt;/Width>&lt;/TinyImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/41ybikkCyLL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">112&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/41ybikkCyLL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">349&lt;/Width>&lt;/LargeImage>&lt;/ImageSet>&lt;/ImageSets>&lt;ItemAttributes>&lt;Author>Joe Conway&lt;/Author>&lt;Author>Aaron Hillegass&lt;/Author>&lt;Manufacturer>Big Nerd Ranch Guides&lt;/Manufacturer>&lt;ProductGroup>Book&lt;/ProductGroup>&lt;Title>iOS Programming: The Big Nerd Ranch Guide (3rd Edition) (Big Nerd Ranch Guides)&lt;/Title>&lt;/ItemAttributes>&lt;/Item>&lt;Item>&lt;ASIN>1449342752&lt;/ASIN>&lt;DetailPageURL>http://www.amazon.com/iOS-Programming-Cookbook-Vandad-Nahavandipoor/dp/1449342752%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D165953%26creativeASIN%3D1449342752&lt;/DetailPageURL>&lt;ItemLinks>&lt;ItemLink>&lt;Description>Technical Details&lt;/Description>&lt;URL>http://www.amazon.com/iOS-Programming-Cookbook-Vandad-Nahavandipoor/dp/tech-data/1449342752%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1449342752&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Baby Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/baby/add-item.html%3Fasin.0%3D1449342752%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1449342752&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wedding Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wedding/add-item.html%3Fasin.0%3D1449342752%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1449342752&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wishlist&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wishlist/add-item.html%3Fasin.0%3D1449342752%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1449342752&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Tell A Friend&lt;/Description>&lt;URL>http://www.amazon.com/gp/pdp/taf/1449342752%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1449342752&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Customer Reviews&lt;/Description>&lt;URL>http://www.amazon.com/review/product/1449342752%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1449342752&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Offers&lt;/Description>&lt;URL>http://www.amazon.com/gp/offer-listing/1449342752%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1449342752&lt;/URL>&lt;/ItemLink>&lt;/ItemLinks>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/51esysk15lL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">57&lt;/Width>&lt;/SmallImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/51esysk15lL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">122&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/51esysk15lL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">381&lt;/Width>&lt;/LargeImage>&lt;ImageSets>&lt;ImageSet Category="primary">&lt;SwatchImage>&lt;URL>http://ecx.images-amazon.com/images/I/51esysk15lL.&lt;em>SL30&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">30&lt;/Height>&lt;Width Units="pixels">23&lt;/Width>&lt;/SwatchImage>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/51esysk15lL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">57&lt;/Width>&lt;/SmallImage>&lt;ThumbnailImage>&lt;URL>http://ecx.images-amazon.com/images/I/51esysk15lL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">57&lt;/Width>&lt;/ThumbnailImage>&lt;TinyImage>&lt;URL>http://ecx.images-amazon.com/images/I/51esysk15lL.&lt;em>SL110&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">110&lt;/Height>&lt;Width Units="pixels">84&lt;/Width>&lt;/TinyImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/51esysk15lL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">122&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/51esysk15lL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">381&lt;/Width>&lt;/LargeImage>&lt;/ImageSet>&lt;ImageSet Category="variant">&lt;SwatchImage>&lt;URL>http://ecx.images-amazon.com/images/I/51m-eUUQZkL.&lt;em>SL30&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">30&lt;/Height>&lt;Width Units="pixels">23&lt;/Width>&lt;/SwatchImage>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/51m-eUUQZkL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">57&lt;/Width>&lt;/SmallImage>&lt;ThumbnailImage>&lt;URL>http://ecx.images-amazon.com/images/I/51m-eUUQZkL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">57&lt;/Width>&lt;/ThumbnailImage>&lt;TinyImage>&lt;URL>http://ecx.images-amazon.com/images/I/51m-eUUQZkL.&lt;em>SL110&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">110&lt;/Height>&lt;Width Units="pixels">84&lt;/Width>&lt;/TinyImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/51m-eUUQZkL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">122&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/51m-eUUQZkL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">381&lt;/Width>&lt;/LargeImage>&lt;/ImageSet>&lt;/ImageSets>&lt;ItemAttributes>&lt;Author>Vandad Nahavandipoor&lt;/Author>&lt;Manufacturer>O'Reilly Media&lt;/Manufacturer>&lt;ProductGroup>Book&lt;/ProductGroup>&lt;Title>iOS 6 Programming Cookbook&lt;/Title>&lt;/ItemAttributes>&lt;/Item>&lt;Item>&lt;ASIN>1449365760&lt;/ASIN>&lt;DetailPageURL>http://www.amazon.com/Programming-iOS-6-Matt-Neuburg/dp/1449365760%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D165953%26creativeASIN%3D1449365760&lt;/DetailPageURL>&lt;ItemLinks>&lt;ItemLink>&lt;Description>Technical Details&lt;/Description>&lt;URL>http://www.amazon.com/Programming-iOS-6-Matt-Neuburg/dp/tech-data/1449365760%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1449365760&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Baby Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/baby/add-item.html%3Fasin.0%3D1449365760%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1449365760&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wedding Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wedding/add-item.html%3Fasin.0%3D1449365760%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1449365760&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wishlist&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wishlist/add-item.html%3Fasin.0%3D1449365760%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1449365760&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Tell A Friend&lt;/Description>&lt;URL>http://www.amazon.com/gp/pdp/taf/1449365760%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1449365760&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Customer Reviews&lt;/Description>&lt;URL>http://www.amazon.com/review/product/1449365760%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1449365760&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Offers&lt;/Description>&lt;URL>http://www.amazon.com/gp/offer-listing/1449365760%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1449365760&lt;/URL>&lt;/ItemLink>&lt;/ItemLinks>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/51ZCvz9cG8L.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">57&lt;/Width>&lt;/SmallImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/51ZCvz9cG8L.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">122&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/51ZCvz9cG8L.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">381&lt;/Width>&lt;/LargeImage>&lt;ImageSets>&lt;ImageSet Category="primary">&lt;SwatchImage>&lt;URL>http://ecx.images-amazon.com/images/I/51ZCvz9cG8L.&lt;em>SL30&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">30&lt;/Height>&lt;Width Units="pixels">23&lt;/Width>&lt;/SwatchImage>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/51ZCvz9cG8L.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">57&lt;/Width>&lt;/SmallImage>&lt;ThumbnailImage>&lt;URL>http://ecx.images-amazon.com/images/I/51ZCvz9cG8L.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">57&lt;/Width>&lt;/ThumbnailImage>&lt;TinyImage>&lt;URL>http://ecx.images-amazon.com/images/I/51ZCvz9cG8L.&lt;em>SL110&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">110&lt;/Height>&lt;Width Units="pixels">84&lt;/Width>&lt;/TinyImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/51ZCvz9cG8L.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">122&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/51ZCvz9cG8L.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">381&lt;/Width>&lt;/LargeImage>&lt;/ImageSet>&lt;/ImageSets>&lt;ItemAttributes>&lt;Author>Matt Neuburg&lt;/Author>&lt;Manufacturer>O'Reilly Media&lt;/Manufacturer>&lt;ProductGroup>Book&lt;/ProductGroup>&lt;Title>Programming iOS 6&lt;/Title>&lt;/ItemAttributes>&lt;/Item>&lt;Item>&lt;ASIN>1118449959&lt;/ASIN>&lt;DetailPageURL>http://www.amazon.com/iOS-Programming-Pushing-Limits-Application/dp/1118449959%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D165953%26creativeASIN%3D1118449959&lt;/DetailPageURL>&lt;ItemLinks>&lt;ItemLink>&lt;Description>Technical Details&lt;/Description>&lt;URL>http://www.amazon.com/iOS-Programming-Pushing-Limits-Application/dp/tech-data/1118449959%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118449959&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Baby Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/baby/add-item.html%3Fasin.0%3D1118449959%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118449959&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wedding Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wedding/add-item.html%3Fasin.0%3D1118449959%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118449959&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wishlist&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wishlist/add-item.html%3Fasin.0%3D1118449959%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118449959&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Tell A Friend&lt;/Description>&lt;URL>http://www.amazon.com/gp/pdp/taf/1118449959%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118449959&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Customer Reviews&lt;/Description>&lt;URL>http://www.amazon.com/review/product/1118449959%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118449959&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Offers&lt;/Description>&lt;URL>http://www.amazon.com/gp/offer-listing/1118449959%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118449959&lt;/URL>&lt;/ItemLink>&lt;/ItemLinks>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/51gEXI6QMZL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">58&lt;/Width>&lt;/SmallImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/51gEXI6QMZL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">124&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/51gEXI6QMZL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">388&lt;/Width>&lt;/LargeImage>&lt;ImageSets>&lt;ImageSet Category="primary">&lt;SwatchImage>&lt;URL>http://ecx.images-amazon.com/images/I/51gEXI6QMZL.&lt;em>SL30&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">30&lt;/Height>&lt;Width Units="pixels">23&lt;/Width>&lt;/SwatchImage>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/51gEXI6QMZL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">58&lt;/Width>&lt;/SmallImage>&lt;ThumbnailImage>&lt;URL>http://ecx.images-amazon.com/images/I/51gEXI6QMZL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">58&lt;/Width>&lt;/ThumbnailImage>&lt;TinyImage>&lt;URL>http://ecx.images-amazon.com/images/I/51gEXI6QMZL.&lt;em>SL110&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">110&lt;/Height>&lt;Width Units="pixels">85&lt;/Width>&lt;/TinyImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/51gEXI6QMZL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">124&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/51gEXI6QMZL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">388&lt;/Width>&lt;/LargeImage>&lt;/ImageSet>&lt;/ImageSets>&lt;ItemAttributes>&lt;Author>Rob Napier&lt;/Author>&lt;Author>Mugunth Kumar&lt;/Author>&lt;Manufacturer>Wiley&lt;/Manufacturer>&lt;ProductGroup>Book&lt;/ProductGroup>&lt;Title>iOS 6 Programming Pushing the Limits: Advanced Application Development for Apple iPhone, iPad and iPod Touch&lt;/Title>&lt;/ItemAttributes>&lt;/Item>&lt;Item>&lt;ASIN>0321741838&lt;/ASIN>&lt;DetailPageURL>http://www.amazon.com/Learning-OpenGL-iOS-Hands-Programming/dp/0321741838%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D165953%26creativeASIN%3D0321741838&lt;/DetailPageURL>&lt;ItemLinks>&lt;ItemLink>&lt;Description>Technical Details&lt;/Description>&lt;URL>http://www.amazon.com/Learning-OpenGL-iOS-Hands-Programming/dp/tech-data/0321741838%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321741838&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Baby Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/baby/add-item.html%3Fasin.0%3D0321741838%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321741838&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wedding Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wedding/add-item.html%3Fasin.0%3D0321741838%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321741838&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wishlist&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wishlist/add-item.html%3Fasin.0%3D0321741838%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321741838&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Tell A Friend&lt;/Description>&lt;URL>http://www.amazon.com/gp/pdp/taf/0321741838%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321741838&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Customer Reviews&lt;/Description>&lt;URL>http://www.amazon.com/review/product/0321741838%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321741838&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Offers&lt;/Description>&lt;URL>http://www.amazon.com/gp/offer-listing/0321741838%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321741838&lt;/URL>&lt;/ItemLink>&lt;/ItemLinks>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/51wqjU0VTSL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">58&lt;/Width>&lt;/SmallImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/51wqjU0VTSL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">124&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/51wqjU0VTSL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">388&lt;/Width>&lt;/LargeImage>&lt;ImageSets>&lt;ImageSet Category="primary">&lt;SwatchImage>&lt;URL>http://ecx.images-amazon.com/images/I/51wqjU0VTSL.&lt;em>SL30&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">30&lt;/Height>&lt;Width Units="pixels">23&lt;/Width>&lt;/SwatchImage>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/51wqjU0VTSL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">58&lt;/Width>&lt;/SmallImage>&lt;ThumbnailImage>&lt;URL>http://ecx.images-amazon.com/images/I/51wqjU0VTSL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">58&lt;/Width>&lt;/ThumbnailImage>&lt;TinyImage>&lt;URL>http://ecx.images-amazon.com/images/I/51wqjU0VTSL.&lt;em>SL110&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">110&lt;/Height>&lt;Width Units="pixels">85&lt;/Width>&lt;/TinyImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/51wqjU0VTSL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">124&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/51wqjU0VTSL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">388&lt;/Width>&lt;/LargeImage>&lt;/ImageSet>&lt;/ImageSets>&lt;ItemAttributes>&lt;Author>Erik M. Buck&lt;/Author>&lt;Manufacturer>Addison-Wesley Professional&lt;/Manufacturer>&lt;ProductGroup>Book&lt;/ProductGroup>&lt;Title>Learning OpenGL ES for iOS: A Hands-on Guide to Modern 3D Graphics Programming&lt;/Title>&lt;/ItemAttributes>&lt;/Item>&lt;Item>&lt;ASIN>0321636848&lt;/ASIN>&lt;DetailPageURL>http://www.amazon.com/Learning-Core-Audio-Hands-On-Programming/dp/0321636848%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D165953%26creativeASIN%3D0321636848&lt;/DetailPageURL>&lt;ItemLinks>&lt;ItemLink>&lt;Description>Technical Details&lt;/Description>&lt;URL>http://www.amazon.com/Learning-Core-Audio-Hands-On-Programming/dp/tech-data/0321636848%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321636848&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Baby Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/baby/add-item.html%3Fasin.0%3D0321636848%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321636848&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wedding Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wedding/add-item.html%3Fasin.0%3D0321636848%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321636848&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wishlist&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wishlist/add-item.html%3Fasin.0%3D0321636848%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321636848&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Tell A Friend&lt;/Description>&lt;URL>http://www.amazon.com/gp/pdp/taf/0321636848%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321636848&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Customer Reviews&lt;/Description>&lt;URL>http://www.amazon.com/review/product/0321636848%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321636848&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Offers&lt;/Description>&lt;URL>http://www.amazon.com/gp/offer-listing/0321636848%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321636848&lt;/URL>&lt;/ItemLink>&lt;/ItemLinks>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/51AzGxb1nNL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">58&lt;/Width>&lt;/SmallImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/51AzGxb1nNL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">124&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/51AzGxb1nNL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">388&lt;/Width>&lt;/LargeImage>&lt;ImageSets>&lt;ImageSet Category="primary">&lt;SwatchImage>&lt;URL>http://ecx.images-amazon.com/images/I/51AzGxb1nNL.&lt;em>SL30&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">30&lt;/Height>&lt;Width Units="pixels">23&lt;/Width>&lt;/SwatchImage>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/51AzGxb1nNL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">58&lt;/Width>&lt;/SmallImage>&lt;ThumbnailImage>&lt;URL>http://ecx.images-amazon.com/images/I/51AzGxb1nNL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">58&lt;/Width>&lt;/ThumbnailImage>&lt;TinyImage>&lt;URL>http://ecx.images-amazon.com/images/I/51AzGxb1nNL.&lt;em>SL110&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">110&lt;/Height>&lt;Width Units="pixels">85&lt;/Width>&lt;/TinyImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/51AzGxb1nNL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">124&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/51AzGxb1nNL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">388&lt;/Width>&lt;/LargeImage>&lt;/ImageSet>&lt;/ImageSets>&lt;ItemAttributes>&lt;Author>Chris Adamson&lt;/Author>&lt;Author>Kevin Avila&lt;/Author>&lt;Manufacturer>Addison-Wesley Professional&lt;/Manufacturer>&lt;ProductGroup>Book&lt;/ProductGroup>&lt;Title>Learning Core Audio: A Hands-On Guide to Audio Programming for Mac and iOS&lt;/Title>&lt;/ItemAttributes>&lt;/Item>&lt;Item>&lt;ASIN>1118362403&lt;/ASIN>&lt;DetailPageURL>http://www.amazon.com/Professional-iOS-Network-Programming-Connecting/dp/1118362403%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D165953%26creativeASIN%3D1118362403&lt;/DetailPageURL>&lt;ItemLinks>&lt;ItemLink>&lt;Description>Technical Details&lt;/Description>&lt;URL>http://www.amazon.com/Professional-iOS-Network-Programming-Connecting/dp/tech-data/1118362403%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118362403&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Baby Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/baby/add-item.html%3Fasin.0%3D1118362403%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118362403&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wedding Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wedding/add-item.html%3Fasin.0%3D1118362403%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118362403&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wishlist&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wishlist/add-item.html%3Fasin.0%3D1118362403%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118362403&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Tell A Friend&lt;/Description>&lt;URL>http://www.amazon.com/gp/pdp/taf/1118362403%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118362403&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Customer Reviews&lt;/Description>&lt;URL>http://www.amazon.com/review/product/1118362403%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118362403&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Offers&lt;/Description>&lt;URL>http://www.amazon.com/gp/offer-listing/1118362403%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118362403&lt;/URL>&lt;/ItemLink>&lt;/ItemLinks>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/519rZ2Pp9aL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">59&lt;/Width>&lt;/SmallImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/519rZ2Pp9aL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">126&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/519rZ2Pp9aL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">394&lt;/Width>&lt;/LargeImage>&lt;ImageSets>&lt;ImageSet Category="primary">&lt;SwatchImage>&lt;URL>http://ecx.images-amazon.com/images/I/519rZ2Pp9aL.&lt;em>SL30&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">30&lt;/Height>&lt;Width Units="pixels">24&lt;/Width>&lt;/SwatchImage>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/519rZ2Pp9aL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">59&lt;/Width>&lt;/SmallImage>&lt;ThumbnailImage>&lt;URL>http://ecx.images-amazon.com/images/I/519rZ2Pp9aL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">59&lt;/Width>&lt;/ThumbnailImage>&lt;TinyImage>&lt;URL>http://ecx.images-amazon.com/images/I/519rZ2Pp9aL.&lt;em>SL110&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">110&lt;/Height>&lt;Width Units="pixels">87&lt;/Width>&lt;/TinyImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/519rZ2Pp9aL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">126&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/519rZ2Pp9aL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">394&lt;/Width>&lt;/LargeImage>&lt;/ImageSet>&lt;/ImageSets>&lt;ItemAttributes>&lt;Author>Jack Cox&lt;/Author>&lt;Author>Nathan Jones&lt;/Author>&lt;Author>John Szumski&lt;/Author>&lt;Manufacturer>Wrox&lt;/Manufacturer>&lt;ProductGroup>Book&lt;/ProductGroup>&lt;Title>Professional iOS Network Programming: Connecting the Enterprise to the iPhone and iPad&lt;/Title>&lt;/ItemAttributes>&lt;/Item>&lt;Item>&lt;ASIN>1449359345&lt;/ASIN>&lt;DetailPageURL>http://www.amazon.com/Learning-iOS-Programming-Xcode-Store/dp/1449359345%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D165953%26creativeASIN%3D1449359345&lt;/DetailPageURL>&lt;ItemLinks>&lt;ItemLink>&lt;Description>Technical Details&lt;/Description>&lt;URL>http://www.amazon.com/Learning-iOS-Programming-Xcode-Store/dp/tech-data/1449359345%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1449359345&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Baby Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/baby/add-item.html%3Fasin.0%3D1449359345%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1449359345&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wedding Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wedding/add-item.html%3Fasin.0%3D1449359345%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1449359345&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wishlist&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wishlist/add-item.html%3Fasin.0%3D1449359345%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1449359345&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Tell A Friend&lt;/Description>&lt;URL>http://www.amazon.com/gp/pdp/taf/1449359345%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1449359345&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Customer Reviews&lt;/Description>&lt;URL>http://www.amazon.com/review/product/1449359345%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1449359345&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Offers&lt;/Description>&lt;URL>http://www.amazon.com/gp/offer-listing/1449359345%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1449359345&lt;/URL>&lt;/ItemLink>&lt;/ItemLinks>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/41N%2BYIc3wTL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">57&lt;/Width>&lt;/SmallImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/41N%2BYIc3wTL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">122&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/41N%2BYIc3wTL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">381&lt;/Width>&lt;/LargeImage>&lt;ImageSets>&lt;ImageSet Category="primary">&lt;SwatchImage>&lt;URL>http://ecx.images-amazon.com/images/I/41N%2BYIc3wTL.&lt;em>SL30&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">30&lt;/Height>&lt;Width Units="pixels">23&lt;/Width>&lt;/SwatchImage>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/41N%2BYIc3wTL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">57&lt;/Width>&lt;/SmallImage>&lt;ThumbnailImage>&lt;URL>http://ecx.images-amazon.com/images/I/41N%2BYIc3wTL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">57&lt;/Width>&lt;/ThumbnailImage>&lt;TinyImage>&lt;URL>http://ecx.images-amazon.com/images/I/41N%2BYIc3wTL.&lt;em>SL110&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">110&lt;/Height>&lt;Width Units="pixels">84&lt;/Width>&lt;/TinyImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/41N%2BYIc3wTL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">122&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/41N%2BYIc3wTL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">381&lt;/Width>&lt;/LargeImage>&lt;/ImageSet>&lt;/ImageSets>&lt;ItemAttributes>&lt;Author>Alasdair Allan&lt;/Author>&lt;Manufacturer>O'Reilly Media&lt;/Manufacturer>&lt;ProductGroup>Book&lt;/ProductGroup>&lt;Title>Learning iOS Programming: From Xcode to App Store&lt;/Title>&lt;/ItemAttributes>&lt;/Item>&lt;Item>&lt;ASIN>0321699424&lt;/ASIN>&lt;DetailPageURL>http://www.amazon.com/Learning-iOS-Game-Programming-Hands-On/dp/0321699424%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D165953%26creativeASIN%3D0321699424&lt;/DetailPageURL>&lt;ItemLinks>&lt;ItemLink>&lt;Description>Technical Details&lt;/Description>&lt;URL>http://www.amazon.com/Learning-iOS-Game-Programming-Hands-On/dp/tech-data/0321699424%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321699424&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Baby Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/baby/add-item.html%3Fasin.0%3D0321699424%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321699424&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wedding Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wedding/add-item.html%3Fasin.0%3D0321699424%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321699424&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wishlist&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wishlist/add-item.html%3Fasin.0%3D0321699424%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321699424&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Tell A Friend&lt;/Description>&lt;URL>http://www.amazon.com/gp/pdp/taf/0321699424%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321699424&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Customer Reviews&lt;/Description>&lt;URL>http://www.amazon.com/review/product/0321699424%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321699424&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Offers&lt;/Description>&lt;URL>http://www.amazon.com/gp/offer-listing/0321699424%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321699424&lt;/URL>&lt;/ItemLink>&lt;/ItemLinks>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/51cbd0Dp-7L.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">57&lt;/Width>&lt;/SmallImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/51cbd0Dp-7L.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">122&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/51cbd0Dp-7L.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">381&lt;/Width>&lt;/LargeImage>&lt;ImageSets>&lt;ImageSet Category="primary">&lt;SwatchImage>&lt;URL>http://ecx.images-amazon.com/images/I/51cbd0Dp-7L.&lt;em>SL30&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">30&lt;/Height>&lt;Width Units="pixels">23&lt;/Width>&lt;/SwatchImage>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/51cbd0Dp-7L.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">57&lt;/Width>&lt;/SmallImage>&lt;ThumbnailImage>&lt;URL>http://ecx.images-amazon.com/images/I/51cbd0Dp-7L.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">57&lt;/Width>&lt;/ThumbnailImage>&lt;TinyImage>&lt;URL>http://ecx.images-amazon.com/images/I/51cbd0Dp-7L.&lt;em>SL110&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">110&lt;/Height>&lt;Width Units="pixels">84&lt;/Width>&lt;/TinyImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/51cbd0Dp-7L.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">122&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/51cbd0Dp-7L.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">381&lt;/Width>&lt;/LargeImage>&lt;/ImageSet>&lt;/ImageSets>&lt;ItemAttributes>&lt;Author>Michael Daley&lt;/Author>&lt;Manufacturer>Addison-Wesley Professional&lt;/Manufacturer>&lt;ProductGroup>Book&lt;/ProductGroup>&lt;Title>Learning iOS Game Programming: A Hands-On Guide to Building Your First iPhone Game&lt;/Title>&lt;/ItemAttributes>&lt;/Item>&lt;Item>&lt;ASIN>0321773772&lt;/ASIN>&lt;DetailPageURL>http://www.amazon.com/iOS-Programming-Ranch-Edition-Guides/dp/0321773772%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D165953%26creativeASIN%3D0321773772&lt;/DetailPageURL>&lt;ItemLinks>&lt;ItemLink>&lt;Description>Technical Details&lt;/Description>&lt;URL>http://www.amazon.com/iOS-Programming-Ranch-Edition-Guides/dp/tech-data/0321773772%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321773772&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Baby Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/baby/add-item.html%3Fasin.0%3D0321773772%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321773772&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wedding Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wedding/add-item.html%3Fasin.0%3D0321773772%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321773772&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wishlist&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wishlist/add-item.html%3Fasin.0%3D0321773772%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321773772&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Tell A Friend&lt;/Description>&lt;URL>http://www.amazon.com/gp/pdp/taf/0321773772%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321773772&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Customer Reviews&lt;/Description>&lt;URL>http://www.amazon.com/review/product/0321773772%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321773772&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Offers&lt;/Description>&lt;URL>http://www.amazon.com/gp/offer-listing/0321773772%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dtag%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321773772&lt;/URL>&lt;/ItemLink>&lt;/ItemLinks>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/412zhvqyIXL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">52&lt;/Width>&lt;/SmallImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/412zhvqyIXL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">110&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/412zhvqyIXL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">345&lt;/Width>&lt;/LargeImage>&lt;ImageSets>&lt;ImageSet Category="primary">&lt;SwatchImage>&lt;URL>http://ecx.images-amazon.com/images/I/412zhvqyIXL.&lt;em>SL30&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">30&lt;/Height>&lt;Width Units="pixels">21&lt;/Width>&lt;/SwatchImage>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/412zhvqyIXL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">52&lt;/Width>&lt;/SmallImage>&lt;ThumbnailImage>&lt;URL>http://ecx.images-amazon.com/images/I/412zhvqyIXL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">52&lt;/Width>&lt;/ThumbnailImage>&lt;TinyImage>&lt;URL>http://ecx.images-amazon.com/images/I/412zhvqyIXL.&lt;em>SL110&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">110&lt;/Height>&lt;Width Units="pixels">76&lt;/Width>&lt;/TinyImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/412zhvqyIXL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">110&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/412zhvqyIXL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">345&lt;/Width>&lt;/LargeImage>&lt;/ImageSet>&lt;/ImageSets>&lt;ItemAttributes>&lt;Author>Joe Conway&lt;/Author>&lt;Author>Aaron Hillegass&lt;/Author>&lt;Manufacturer>Big Nerd Ranch Guides&lt;/Manufacturer>&lt;ProductGroup>Book&lt;/ProductGroup>&lt;Title>iOS Programming: The Big Nerd Ranch Guide (2nd Edition) (Big Nerd Ranch Guides)&lt;/Title>&lt;/ItemAttributes>&lt;/Item>&lt;/Items>&lt;/ItemSearchResponse>&lt;/soapenv:Body>&lt;/soapenv:Envelope>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>If you forget to fill in your AWS Access Key and Secure Key in the shared client, then you will get error like below:</p>

<p><img class="center" src="/images/pico/tutorial05/screen_shot2.png" width="300" height="500"></p>

<p>This is just a bare minimum Amazon ECommerce service based application, for a demo with more functions, please see the AWSECDemoApp sample in the <code>Examples</code> folder of Pico source, AWSECDemoApp calls following APIs in one app:</p>

<blockquote><ol>
<li><strong><em>itemSearch</em></strong> for book search</li>
<li><strong><em>cartCreate</em></strong> to add chosen book into shopping cart</li>
</ol>
</blockquote>

<p>Below is a few screen shots:</p>

<p>Search:
<img class="center" src="/images/pico/tutorial05/screen_shot3.png" width="300" height="500"></p>

<p>Details:
<img class="center" src="/images/pico/tutorial05/screen_shot4.png" width="300" height="500"></p>

<p>Add To Cart:
<img class="center" src="/images/pico/tutorial05/screen_shot5.png" width="300" height="500"></p>

<p>Now it's your turn to create iOS applications based on Amazon ECommerce web serivces, see your next great serivce based app.</p>

<h3>Update 1</h3>

<p>The Amazon Product Advertising API Proxy has been extracted as a standalone project, hosted <a href="https://github.com/bulldog2011/PicoAWSECommerceServiceClient">here</a>, and the corresponding appledoc is hosted <a href="http://bulldog2011.github.com/PicoAWSECommerceServiceClient/">here</a>, the appledoc is a useful programming reference. By the way, the doc annotations in wsdl are not only generted into the proxy code, but into the appledoc, assisting your development.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Pico Tutorial 4 - Hello eBay Shopping]]></title>
    <link href="http://bulldog2011.github.com/blog/2013/03/30/pico-tutorial-4-hello-ebay-shopping/"/>
    <updated>2013-03-30T10:06:00+08:00</updated>
    <id>http://bulldog2011.github.com/blog/2013/03/30/pico-tutorial-4-hello-ebay-shopping</id>
    <content type="html"><![CDATA[<p>This is the fourth tutorial of Pico tutorial series, in this tutorial, I will show you how to integrate <a href="https://github.com/bulldog2011/pico">Pico</a> with <a href="https://www.x.com/developers/ebay/products/shopping-api">eBay Shopping Web Service</a>, if you are not familar with this service, just have a quick reivew on its official site, basically, eBay Shopping service allows you to search for eBay items, products and reviews, user info, and popular items and searches. In previous tutorials, I showed you how to integrate Pico with SOAP based services, while in this tutorial, I will show you how to interate Pico with XML based service, the eBay Shopping service just support XML message format.</p>

<p>The source of this tutorial is <a href="https://github.com/bulldog2011/pico/tree/master/Examples/eBayShopping">here</a>.</p>

<!--more-->


<h2>Step 0 - Prerequisite</h2>

<p>I suppose you have already read previous Pico tutorials, at least 1 and 2, and basically you should know:</p>

<blockquote><ul>
<li>The wsdl driven development process supported by Pico.</li>
<li>How to reference Pico as a static library in your project.</li>
<li>Or How to reference Pico Source directly in your project.</li>
</ul>
</blockquote>

<h2>Step 1 - Generate Objective-C Proxy from WSDL</h2>

<p>Download <a href="https://github.com/bulldog2011/mwsc">mwsc</a> and run following command in terminal to generate the proxy:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>bin/mwsc -pico -d generated -prefix Shopping_ -ebayshopping http://developer.ebay.com/webservices/latest/ShoppingService.wsdl&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Depends on the network speed, you may need to wait a few moments to let the code generator download the wsdl and generate code, you may also download the wsdl and run the code generator with a local wsdl.</p>

<p>A few comments about the codegen options:</p>

<blockquote><ul>
<li>The code generator will throw many warnings, say that the wsdl violates some schema rule, just ignore them, it's ok as long as the final code is generated correctly.</li>
<li>I have added a prefix <code>Shopping_</code> as codegen option, such that all interfaces/types generated will be prefixed with <code>Shopping_</code>. Adding prefix to Objective-C types is a recommended best practice to avoid possible type name conflict with code generated from other services, for example, eBay has a couple of services, and they share a few commons types, without prefixing, you may get conflict if you use two or more eBay services in one application.</li>
<li>I have added a special <code>-ebayshopping</code> codegen option, this is because eBay Shopping service needs a per-call operation name HTTP header(eBay Finding service also needs a similar but different header), I added this special flag in the code generator to let it generate the header for me, since I don't want to add this header everytime I call an eBay Shopping service, so this is just a special flag for eBay Shopping services and for demo only, or a hidden feature, not a generic codegen option.</li>
</ul>
</blockquote>

<h2>Step 2 - Create New iOS Project, Add Pico Library and Generated Proxy into Your Project</h2>

<p>Create a new simple iOS single view application named "HelloeBayShopping", don't choose ARC since Pico does not support ARC yet.</p>

<p>In this tutorial, we will reference Pico as a static library, suppose you have downloaded Pico source project from github site, then:</p>

<blockquote><ol>
<li>Drag the Pico xcodeproj into your project,</li>
<li>In the Build Phases of the target,  add <code>libPico.a</code> and <code>libxml2.dylib</code> to "Link Binary With Libraries" section.</li>
<li>In the Build Setting of the target, add [your path to Pico source] to "User Header Search Paths" setting, choose "recursive" seach path.</li>
</ol>
</blockquote>

<p>Build the project to ensure that it can build successfully.</p>

<p>Now drag the proxy generated in step 1 into the project,  choose "Copy items to destination group's folder" and "add to targets" when prompted.</p>

<p>Build the project again to ensure that it can build successfully.</p>

<p>The code generation will genenrate both SOAP and XML based interfaces from eBay Shopping wsdl for us,
since we will use XML based interface in this tutorial, you may now review the generated eBay Shopping service XML interface to learn what kinds of functions are provided by eBay Shopping service, and what kinds of parameters are needed to call the serivce, the interface is posted below:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>ShoppingInterface_XMLClient.h </span><a href='https://github.com/bulldog2011/pico/blob/master/Examples/eBayShopping/eBayShopping/Proxy/client/ShoppingInterface_XMLClient.h'>source </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
<span class='line-number'>157</span>
<span class='line-number'>158</span>
<span class='line-number'>159</span>
<span class='line-number'>160</span>
<span class='line-number'>161</span>
<span class='line-number'>162</span>
<span class='line-number'>163</span>
<span class='line-number'>164</span>
<span class='line-number'>165</span>
<span class='line-number'>166</span>
<span class='line-number'>167</span>
<span class='line-number'>168</span>
<span class='line-number'>169</span>
<span class='line-number'>170</span>
<span class='line-number'>171</span>
<span class='line-number'>172</span>
<span class='line-number'>173</span>
<span class='line-number'>174</span>
<span class='line-number'>175</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="c1">// Generated by wsdl compiler for ios/objective-c</span>
</span><span class='line'><span class="c1">// DO NOT CHANGE!&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">Foundation</span><span class="o">/</span><span class="n">Foundation</span><span class="p">.</span><span class="n">h</span><span class="o">&gt;&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;PicoXMLClient.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Shopping_GetCategoryInfoResponseType.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Shopping_GetSingleItemResponseType.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Shopping_GetMultipleItemsResponseType.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Shopping_FindProductsRequestType.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Shopping_GetMultipleItemsRequestType.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Shopping_FindReviewsAndGuidesResponseType.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Shopping_FindHalfProductsRequestType.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Shopping_FindPopularSearchesResponseType.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Shopping_FindProductsResponseType.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Shopping_GetCategoryInfoRequestType.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Shopping_GetUserProfileRequestType.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Shopping_GeteBayTimeResponseType.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Shopping_GetShippingCostsRequestType.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Shopping_GetItemStatusResponseType.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Shopping_GetUserProfileResponseType.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Shopping_FindHalfProductsResponseType.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Shopping_GetItemStatusRequestType.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Shopping_FindPopularSearchesRequestType.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Shopping_GetShippingCostsResponseType.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Shopping_FindReviewsAndGuidesRequestType.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Shopping_FindPopularItemsResponseType.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Shopping_GetSingleItemRequestType.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Shopping_GeteBayTimeRequestType.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Shopping_FindPopularItemsRequestType.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;*</span>
</span><span class='line'> <span class="n">This</span> <span class="n">class</span> <span class="n">is</span> <span class="n">the</span> <span class="n">XML</span> <span class="n">client</span> <span class="n">to</span> <span class="n">the</span> <span class="n">ShoppingInterface</span> <span class="n">Web</span> <span class="n">Service</span><span class="p">.</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="k">@interface</span> <span class="nc">ShoppingInterface_XMLClient</span> : <span class="nc">PicoXMLClient</span> <span class="p">{</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">findHalfProducts:</span><span class="p">(</span><span class="n">Shopping_FindHalfProductsRequestType</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">Shopping_FindHalfProductsResponseType</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">findPopularItems:</span><span class="p">(</span><span class="n">Shopping_FindPopularItemsRequestType</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">Shopping_FindPopularItemsResponseType</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">findPopularSearches:</span><span class="p">(</span><span class="n">Shopping_FindPopularSearchesRequestType</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">Shopping_FindPopularSearchesResponseType</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">findProducts:</span><span class="p">(</span><span class="n">Shopping_FindProductsRequestType</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">Shopping_FindProductsResponseType</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">findReviewsAndGuides:</span><span class="p">(</span><span class="n">Shopping_FindReviewsAndGuidesRequestType</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">Shopping_FindReviewsAndGuidesResponseType</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">getCategoryInfo:</span><span class="p">(</span><span class="n">Shopping_GetCategoryInfoRequestType</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">Shopping_GetCategoryInfoResponseType</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">getItemStatus:</span><span class="p">(</span><span class="n">Shopping_GetItemStatusRequestType</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">Shopping_GetItemStatusResponseType</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">getMultipleItems:</span><span class="p">(</span><span class="n">Shopping_GetMultipleItemsRequestType</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">Shopping_GetMultipleItemsResponseType</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">getShippingCosts:</span><span class="p">(</span><span class="n">Shopping_GetShippingCostsRequestType</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">Shopping_GetShippingCostsResponseType</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">getSingleItem:</span><span class="p">(</span><span class="n">Shopping_GetSingleItemRequestType</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">Shopping_GetSingleItemResponseType</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">getUserProfile:</span><span class="p">(</span><span class="n">Shopping_GetUserProfileRequestType</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">Shopping_GetUserProfileResponseType</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">geteBayTime:</span><span class="p">(</span><span class="n">Shopping_GeteBayTimeRequestType</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">Shopping_GeteBayTimeResponseType</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">@end</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>All the methods in the interface follow same calling paradigm - you call the service with required request object and register success callback(for success handling logic) and failure callback(for error handling logic) using Objective-C block.</p>

<p>You may also compare the XML interface with the SOAP interface, they are almost similar, except that SOAP interface will give you an additional SOAPFault object in the failure callback, this is obvious, since XML based service has no concept of SOAPFault, usually, the error is returned as response resident error(RRE) in the XML response message.</p>

<h2>Step 3 - Implement Appliction Logic and UI, Call Proxy to Invoke Web Service as Needed.</h2>

<p>First, create a shared service client as below:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>ShoppingInterface_XMLClient.h </span><a href='https://github.com/bulldog2011/pico/blob/master/Examples/eBayShopping/eBayShopping/EBayShoppingServiceClient.h'>source </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;ShoppingInterface_XMLClient.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">@interface</span> <span class="nc">EBayShoppingServiceClient</span> : <span class="nc">ShoppingInterface_XMLClient</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">ul</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="n">li</span><span class="o">&gt;</span><span class="p">(</span><span class="n">EBayShoppingServiceClient</span> <span class="o">*</span><span class="p">)</span><span class="n">sharedClient</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">@end</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><strong><em>Note</em></strong>, unlike shared clients created in previous tutorials, the <code>EBayShoppingServiceClient</code> extends <code>ShoppingInterface_XMLClient</code>, which means we are using XML service interface supported by Pico.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>ShoppingInterface_XMLClient.m </span><a href='https://github.com/bulldog2011/pico/blob/master/Examples/eBayShopping/eBayShopping/EBayShoppingServiceClient.m'>source  </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;EBayShoppingServiceClient.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">static</span> <span class="n">NSString</span> <span class="o">*</span><span class="k">const</span> <span class="n">eBayAppId</span> <span class="o">=</span> <span class="s">@&quot;YOUR APPID HERE&quot;</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="c1">// production</span>
</span><span class='line'><span class="k">static</span> <span class="n">NSString</span> <span class="o">&lt;</span><span class="n">em</span><span class="o">&gt;</span><span class="k">const</span> <span class="n">eBayShoppingServiceURLString</span> <span class="o">=</span> <span class="s">@&quot;http://open.api.ebay.com/shopping?&quot;</span><span class="p">;</span>
</span><span class='line'><span class="c1">// sandbox</span>
</span><span class='line'><span class="c1">//static NSString &lt;/em&gt;const eBayShoppingServiceURLString = @&quot;http://open.api.sandbox.ebay.com/shopping&quot;;&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">static</span> <span class="n">NSString</span> <span class="o">&lt;</span><span class="n">em</span><span class="o">&gt;</span><span class="k">const</span> <span class="n">targetAPIVersion</span> <span class="o">=</span> <span class="s">@&quot;809&quot;</span><span class="p">;</span>
</span><span class='line'><span class="o">/**</span>
</span><span class='line'> <span class="k">for</span> <span class="n">site</span> <span class="kt">id</span> <span class="n">list</span><span class="p">,</span> <span class="n">see</span> <span class="nl">http:</span><span class="c1">//developer.ebay.com/DevZone/shopping/docs/CallRef/types/SiteCodeType.html</span>
</span><span class='line'> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="k">static</span> <span class="n">NSString</span> <span class="o">*</span><span class="k">const</span> <span class="n">targetSiteId</span> <span class="o">=</span> <span class="s">@&quot;0&quot;</span><span class="p">;</span> <span class="c1">// 0 for US&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">@implementation</span> <span class="nc">EBayShoppingServiceClient</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">ul</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="n">li</span><span class="o">&gt;&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="p">(</span><span class="n">EBayShoppingServiceClient</span> <span class="o">&lt;</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span><span class="n">sharedClient</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">static</span> <span class="n">EBayShoppingServiceClient</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="n">_sharedClient</span> <span class="o">=</span> <span class="nb">nil</span><span class="p">;</span>
</span><span class='line'>  <span class="k">static</span> <span class="n">dispatch_once_t</span> <span class="n">onceToken</span><span class="p">;</span>
</span><span class='line'>  <span class="n">dispatch_once</span><span class="p">(</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="n">onceToken</span><span class="p">,</span> <span class="o">^</span><span class="p">{</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="n">_sharedClient</span> <span class="o">=</span> <span class="p">[[</span><span class="n">EBayShoppingServiceClient</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithEndpointURL:</span><span class="p">[</span><span class="n">NSURL</span> <span class="nl">URLWithString:</span><span class="n">eBayShoppingServiceURLString</span><span class="p">]];</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="p">});</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="k">return</span> <span class="n">_sharedClient</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="n">li</span><span class="o">&gt;&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nl">initWithEndpointURL:</span><span class="p">(</span><span class="n">NSURL</span> <span class="o">*</span><span class="p">)</span><span class="n">URL</span> <span class="p">{</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="n">self</span> <span class="o">=</span> <span class="p">[</span><span class="n">super</span> <span class="nl">initWithEndpointURL:</span><span class="n">URL</span><span class="p">];</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">self</span><span class="p">)</span> <span class="p">{</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="k">return</span> <span class="nb">nil</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="p">}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="p">[</span><span class="n">super</span> <span class="nl">setDefaultHeader:</span><span class="s">@&quot;X-EBAY-API-APP-ID&quot;</span> <span class="nl">value:</span><span class="n">eBayAppId</span><span class="p">];</span>
</span><span class='line'>  <span class="p">[</span><span class="n">super</span> <span class="nl">setDefaultHeader:</span><span class="s">@&quot;X-EBAY-API-REQUEST-ENCODING&quot;</span> <span class="nl">value:</span><span class="s">@&quot;XML&quot;</span><span class="p">];</span>
</span><span class='line'>  <span class="p">[</span><span class="n">super</span> <span class="nl">setDefaultHeader:</span><span class="s">@&quot;X-EBAY-API-VERSION&quot;</span> <span class="nl">value:</span><span class="n">targetAPIVersion</span><span class="p">];</span>
</span><span class='line'>  <span class="p">[</span><span class="n">super</span> <span class="nl">setDefaultHeader:</span><span class="s">@&quot;X-EBAY-API-SITE-ID&quot;</span><span class="nl">value:</span><span class="n">targetSiteId</span><span class="p">];</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="k">return</span> <span class="n">self</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">@end</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Like eBay Finding service, the eBay Shopping service needs a few HTTP headers set to work, let me give more comments:</p>

<blockquote><ol>
<li>eBay Shopping service needs to set a few HTTP headers to work, for a list of required headers, please refer to doc <a href="http://developer.ebay.com/DevZone/shopping/docs/Concepts/ShoppingAPI_FormatOverview.html">here</a>.</li>
<li>One mandatory header for eBay Shopping service is <code>eBayAppId</code>, you need to register on eBay developer site as an eBay developer then get this id, before your can run this demo, you must fill in your own eBayAppId in the shared client.</li>
<li>Another mandatory header for eBay Shopping service is <code>targetAPIVersion</code>, aka the API version you want to use, usually, you use the latest one, at the time of this writing, the latest version is <code>809</code>, you may update this according to your real needs.</li>
<li>We also set <code>X-EBAY-API-REQUEST-ENCODING</code> to <code>XML</code>, indicating we want to call XML service supported by eBay Shopping service.</li>
</ol>
</blockquote>

<p>Now the UI part, we will find one popular item from eBay by keywords, since this is a hello world like sample, we just need a UITextField for keyword input and UIButton to trigger eBay search by invoking method <code>searchButtonPressed</code> which will indirectly call eBay Shopping <code>findPopularItems</code> API through the proxy, fairly simple, see definition in header file <a href="https://github.com/bulldog2011/pico/blob/master/Examples/eBayShopping/eBayShopping/ViewController.h">ViewController.h</a> and instantiation in implementation file <a href="https://github.com/bulldog2011/pico/blob/master/Examples/eBayShopping/eBayShopping/ViewController.m">ViewController.m</a>.</p>

<p>Now implement the <code>searchButtonPressed</code> method by invoking service as below:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>ViewController.m </span><a href='https://github.com/bulldog2011/pico/blob/master/Examples/eBayShopping/eBayShopping/ViewController.m'>source  </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;ViewController.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Shopping_CommonTypes.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;EBayShoppingServiceClient.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Toast+UIView.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">ul</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="n">li</span><span class="o">&gt;&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">searchButtonPressed:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="n">sender</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="c1">// Hide the keyboard.</span>
</span><span class='line'>  <span class="p">[</span><span class="n">_searchText</span> <span class="n">resignFirstResponder</span><span class="p">];</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="k">if</span> <span class="p">(</span><span class="n">_searchText</span><span class="p">.</span><span class="n">text</span><span class="p">.</span><span class="n">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="c1">// start progress activity</span>
</span><span class='line'>  <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="n">makeToastActivity</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// Get shared service client</span>
</span><span class='line'>  <span class="n">EBayShoppingServiceClient</span> <span class="o">*</span><span class="n">shoppingClient</span> <span class="o">=</span> <span class="p">[</span><span class="n">EBayShoppingServiceClient</span> <span class="n">sharedClient</span><span class="p">];</span>
</span><span class='line'>  <span class="n">shoppingClient</span><span class="p">.</span><span class="n">debug</span> <span class="o">=</span> <span class="n">YES</span><span class="p">;</span> <span class="c1">// enable request/response message logging</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// Build request object</span>
</span><span class='line'>  <span class="n">Shopping_FindPopularItemsRequestType</span> <span class="o">*</span><span class="n">request</span> <span class="o">=</span> <span class="p">[[[</span><span class="n">Shopping_FindPopularItemsRequestType</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">]</span> <span class="n">autorelease</span><span class="p">];</span>
</span><span class='line'>  <span class="n">request</span><span class="p">.</span><span class="n">queryKeywords</span> <span class="o">=</span> <span class="n">_searchText</span><span class="p">.</span><span class="n">text</span><span class="p">;</span>
</span><span class='line'>  <span class="c1">// only need one item for demo</span>
</span><span class='line'>  <span class="n">request</span><span class="p">.</span><span class="n">maxEntries</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSNumber</span> <span class="nl">numberWithInt:</span><span class="mi">1</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// make API call and register callbacks</span>
</span><span class='line'>  <span class="p">[</span><span class="n">shoppingClient</span> <span class="nl">findPopularItems:</span><span class="n">request</span> <span class="nl">success:</span><span class="o">^</span><span class="p">(</span><span class="n">Shopping_FindPopularItemsResponseType</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>      <span class="c1">// stop progress activity</span>
</span><span class='line'>      <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="n">hideToastActivity</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">if</span> <span class="p">([</span><span class="n">Shopping_AckCodeType_SUCCESS</span> <span class="nl">isEqualToString:</span><span class="n">responseObject</span><span class="p">.</span><span class="n">ack</span><span class="p">])</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>          <span class="k">if</span> <span class="p">(</span><span class="n">responseObject</span><span class="p">.</span><span class="n">itemArray</span><span class="p">.</span><span class="n">item</span><span class="p">.</span><span class="n">count</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>              <span class="c1">// show the title of the first found item</span>
</span><span class='line'>              <span class="n">Shopping_SimpleItemType</span> <span class="o">*</span><span class="n">item</span> <span class="o">=</span> <span class="p">[</span><span class="n">responseObject</span><span class="p">.</span><span class="n">itemArray</span><span class="p">.</span><span class="n">item</span> <span class="nl">objectAtIndex:</span><span class="mi">0</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>              <span class="c1">// start image downloading progress activity</span>
</span><span class='line'>              <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="n">makeToastActivity</span><span class="p">];</span>
</span><span class='line'>              <span class="c1">// get gallery image</span>
</span><span class='line'>              <span class="n">NSURL</span> <span class="o">*</span><span class="n">imageURL</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURL</span> <span class="nl">URLWithString:</span><span class="n">item</span><span class="p">.</span><span class="n">galleryURL</span><span class="p">];</span>
</span><span class='line'>              <span class="n">NSData</span> <span class="o">*</span><span class="n">imageData</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSData</span> <span class="nl">dataWithContentsOfURL:</span><span class="n">imageURL</span><span class="p">];</span>
</span><span class='line'>              <span class="c1">// stop progress activity</span>
</span><span class='line'>              <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="n">hideToastActivity</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>              <span class="n">UIImage</span> <span class="o">*</span><span class="n">image</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIImage</span> <span class="nl">imageWithData:</span><span class="n">imageData</span><span class="p">];</span>
</span><span class='line'>              <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="nl">makeToast:</span><span class="n">item</span><span class="p">.</span><span class="n">title</span> <span class="nl">duration:</span><span class="mf">3.0</span> <span class="nl">position:</span><span class="s">@&quot;center&quot;</span> <span class="nl">title:</span><span class="s">@&quot;Success&quot;</span> <span class="nl">image:</span><span class="n">image</span><span class="p">];</span>
</span><span class='line'>          <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>              <span class="c1">// no result</span>
</span><span class='line'>              <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="nl">makeToast:</span><span class="s">@&quot;No result&quot;</span> <span class="nl">duration:</span><span class="mf">3.0</span> <span class="nl">position:</span><span class="s">@&quot;center&quot;</span><span class="p">];</span>
</span><span class='line'>          <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="c1">// response resident error</span>
</span><span class='line'>          <span class="n">Shopping_ErrorType</span> <span class="o">*</span><span class="n">error</span> <span class="o">=</span> <span class="p">[</span><span class="n">responseObject</span><span class="p">.</span><span class="n">errors</span> <span class="nl">objectAtIndex:</span><span class="mi">0</span><span class="p">];</span>
</span><span class='line'>          <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="nl">makeToast:</span><span class="n">error</span><span class="p">.</span><span class="n">shortMessage</span> <span class="nl">duration:</span><span class="mf">3.0</span> <span class="nl">position:</span><span class="s">@&quot;center&quot;</span> <span class="nl">title:</span><span class="s">@&quot;Error&quot;</span><span class="p">];</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span> <span class="nl">failure:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>      <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="nl">makeToast:</span><span class="p">[</span><span class="n">error</span> <span class="n">localizedDescription</span><span class="p">]</span> <span class="nl">duration:</span><span class="mf">3.0</span> <span class="nl">position:</span><span class="s">@&quot;center&quot;</span> <span class="nl">title:</span><span class="s">@&quot;Error&quot;</span><span class="p">];</span>
</span><span class='line'>  <span class="p">}];</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>More comments to the serivce call code:</p>

<blockquote><ol>
<li>I've added comments in the code so the whole service call flow should be easy to understand.</li>
<li>We used the eBay Shopping <code>findPopularItems</code> call, which takes a keyword as input, and will return a list of matched popular items on eBay, for demo, we just need one item to display, so we set <code>maxEntries</code> to 1.</li>
<li>In the success handling logic, we show the title and the image of the returned item, for demo, the image is downloaded synchronously, but in practice, you should download image asynchronously in order not to block main UI.</li>
<li>eBay Shopping service supports response resident error(RRE), so even we get a success response, we still need to check the response for resident error and handle it accordingly.</li>
<li>We used a thrid party library called "Toast" for producing toast like message, this is just for the convenience of demo, not necessary in your real project.</li>
<li>The <code>maxEntries</code> property of <code>Shopping_FindPopularItemsRequestType</code> is of type <code>NSNumber</code>,  you may get confused what kind of number should be put in maxEntries, short, int or long? please just consult the source of  <code>Shopping_FindPopularItemsRequestType.h</code>, it provides type hint as code comments, see [NSNumber type hint] below. Indeed, every type generated from wsdl has sufficient type hint to assist your development. Xsd annotations in wsdl/schema are also generated into corresponding interfaces/types, further facilitating your development.</li>
<li>Similarly, in response handling, the <code>item</code> property of <code>Shopping_SimpleItemArrayType</code> is of type <code>NSMutableArray</code>, you may get confused what is the actual entry type? please just consult the source of <code>Shopping_SimpleItemArrayType.h</code> for type hint, see [NSMuatableArray entry type hint] below.</li>
<li>Xsd enumeration is mapped to Objective-C <code>NSString</code> in Pico framework, for example, the <code>ack</code> property of <code>Shopping_FindPopularItemsResponseType</code> is of type <code>NSString</code>, in wsdl, it's an xsd enumeration of type <code>AckCodeType</code>, the type hint in <code>Shopping_AbstractResponseType.h</code>(from which <code>Shopping_FindPopularItemsResponseType.h</code> extends) will tell you where to find the enum constants allowed by <code>ack</code> property, in this case, the allowed enum constants are in <code>Shopping_AckCodeType.h</code>, see [Enum type hint below] :</li>
</ol>
</blockquote>

<p>NSNumber type hint:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Shopping_FindPopularItemsRequestType.h </span><a href='https://github.com/bulldog2011/pico/blob/master/Examples/eBayShopping/eBayShopping/Proxy/Shopping_FindPopularItemsRequestType.h'>source  </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'><span class="n">Specifies</span> <span class="n">the</span> <span class="n">maximum</span> <span class="n">number</span> <span class="n">of</span> <span class="n">entries</span> <span class="n">to</span> <span class="k">return</span> <span class="k">in</span> <span class="n">a</span> <span class="n">single</span> <span class="n">call</span><span class="p">.</span>
</span><span class='line'><span class="n">type</span> <span class="o">:</span> <span class="n">NSNumber</span><span class="p">,</span> <span class="n">wrapper</span> <span class="k">for</span> <span class="n">primitive</span> <span class="kt">int</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">retain</span><span class="p">)</span> <span class="n">NSNumber</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="n">maxEntries</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>NSMutableArray entry type hint:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Shopping_SimpleItemArrayType.h </span><a href='https://github.com/bulldog2011/pico/blob/master/Examples/eBayShopping/eBayShopping/Proxy/Shopping_SimpleItemArrayType.h'>source  </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;*</span>
</span><span class='line'><span class="n">Contains</span> <span class="n">data</span> <span class="k">for</span> <span class="n">an</span> <span class="n">item</span> <span class="n">listing</span><span class="p">.</span>
</span><span class='line'><span class="n">entry</span> <span class="n">type</span> <span class="o">:</span> <span class="n">class</span> <span class="n">Shopping_SimpleItemType</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">retain</span><span class="p">)</span> <span class="n">NSMutableArray</span> <span class="o">*</span><span class="n">item</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Enum type hint:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Shopping_AbstractResponseType.h </span><a href='https://github.com/bulldog2011/pico/blob/master/Examples/eBayShopping/eBayShopping/Proxy/Shopping_AbstractResponseType.h'>source  </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="cm">/**</span>
</span><span class='line'>
</span><span class='line'><span class="cm"> Indicates whether the call was successfully processed by eBay.</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="cm"> type: string constant in Shopping_AckCodeType.h</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">retain</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">ack</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Please don't forget to include the shared client header file, it's a best practice to include the generated Shopping_CommonTypes.h file which can free you from writing many import statements required by request building and response handling.</p>

<h2>Final Step - Run the Demo</h2>

<p>Let's run the demo in iPhone simulator, see a sceen shot below:</p>

<p><img class="center" src="/images/pico/tutorial04/screen_shot1.png" width="300" height="500"></p>

<p>and the debug output:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>2013-03-30 11:50:48.084 HelloeBayShopping[3746:c07] Sending request to : http://open.api.ebay.com/shopping?
</span><span class='line'>2013-03-30 11:50:48.086 HelloeBayShopping[3746:c07] Request message:
</span><span class='line'>2013-03-30 11:50:48.086 HelloeBayShopping[3746:c07] &lt;?xml version="1.0" encoding="UTF-8" ?>
</span><span class='line'>&lt;FindPopularItemsRequest xmlns="urn:ebay:apis:eBLBaseComponents">&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;pre>&lt;code>&lt;QueryKeywords&gt;Ipad mini&lt;/QueryKeywords&gt;
</span><span class='line'>&lt;MaxEntries&gt;1&lt;/MaxEntries&gt;
</span><span class='line'>&lt;/code>&lt;/pre>
</span><span class='line'>
</span><span class='line'>&lt;p>&lt;/FindPopularItemsRequest>
</span><span class='line'>2013-03-30 11:50:48.086 HelloeBayShopping[3746:c07] Request HTTP Headers :
</span><span class='line'>{&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;pre>&lt;code>Accept = "text/xml";
</span><span class='line'>"Accept-Language" = "en, fr, de, ja, nl, it, es, pt, pt-PT, da, fi, nb, sv, ko, zh-Hans, zh-Hant, ru, pl, tr, uk, ar, hr, cs, el, he, ro, sk, th, id, ms, en-GB, ca, hu, vi, en-us;q=0.8";
</span><span class='line'>"Content-Type" = "text/xml";
</span><span class='line'>"User-Agent" = "HelloeBayShopping/1.0 (iPhone Simulator; iOS 6.0; Scale/1.00)";
</span><span class='line'>"X-EBAY-API-APP-ID" = **************;
</span><span class='line'>"X-EBAY-API-CALL-NAME" = FindPopularItems;
</span><span class='line'>"X-EBAY-API-REQUEST-ENCODING" = XML;
</span><span class='line'>"X-EBAY-API-SITE-ID" = 0;
</span><span class='line'>"X-EBAY-API-VERSION" = 809;
</span><span class='line'>&lt;/code>&lt;/pre>
</span><span class='line'>
</span><span class='line'>&lt;p>}
</span><span class='line'>2013-03-30 11:50:49.057 HelloeBayShopping[3746:1a03] Response HTTP headers :
</span><span class='line'>{&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;pre>&lt;code>"Cache-Control" = "no-cache";
</span><span class='line'>Connection = "keep-alive";
</span><span class='line'>"Content-Type" = "text/xml;charset=utf-8";
</span><span class='line'>Date = "Sat, 30 Mar 2013 03:50:59 GMT";
</span><span class='line'>Expires = "Sat, 25 Dec 1999 00:00:00 GMT";
</span><span class='line'>"Last-Modified" = "Sat, 30 Mar 2013 03:51:00 GMT";
</span><span class='line'>Pragma = "no-cache";
</span><span class='line'>Server = "Apache-Coyote/1.1";
</span><span class='line'>"Transfer-Encoding" = Identity;
</span><span class='line'>"X-EBAY-API-BUILD-TAG" = "E817_CORE_APILW2_15902151_R1";
</span><span class='line'>"X-EBAY-API-POOL-NAME" = "___cDRidW9rdDdlaHFg";
</span><span class='line'>"X-EBAY-API-SERVER-NAME" = "___dWtgMWQ3MmYrNTE1YygyNSg+Nys3MDUrNDM5PTY/Mw==";
</span><span class='line'>"X-EBAY-ESB-GUID" = "urn:uuid:A94C3221C939E291D6329443603678959471486594422";
</span><span class='line'>&lt;/code>&lt;/pre>
</span><span class='line'>
</span><span class='line'>&lt;p>}
</span><span class='line'>2013-03-30 11:50:49.057 HelloeBayShopping[3746:4303] Response message :
</span><span class='line'>2013-03-30 11:50:49.057 HelloeBayShopping[3746:4303] &lt;?xml version="1.0" encoding="UTF-8"?>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>  &lt;FindPopularItemsResponse xmlns="urn:ebay:apis:eBLBaseComponents">
</span><span class='line'>   &lt;Timestamp>2013-03-30T03:51:00.322Z&lt;/Timestamp>
</span><span class='line'>   &lt;Ack>Success&lt;/Ack>
</span><span class='line'>   &lt;Build>E817_CORE_APILW2_15902151_R1&lt;/Build>
</span><span class='line'>   &lt;Version>817&lt;/Version>
</span><span class='line'>   &lt;ItemArray>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;pre>&lt;code>&lt;Item&gt;
</span><span class='line'> &lt;ItemID&gt;350692808075&lt;/ItemID&gt;
</span><span class='line'> &lt;EndTime&gt;2013-04-15T17:23:27.000Z&lt;/EndTime&gt;
</span><span class='line'> &lt;ViewItemURLForNaturalSearch&gt;http://www.ebay.com/itm/Apple-iPad-Mini-NEW-360-Degree-Rotating-PU-Leather-Case-Cover-w-Swivel-Stand-/350692808075&lt;/ViewItemURLForNaturalSearch&gt;
</span><span class='line'> &lt;ListingType&gt;StoresFixedPrice&lt;/ListingType&gt;
</span><span class='line'> &lt;GalleryURL&gt;http://thumbs4.ebaystatic.com/pict/3506928080758080_4.jpg&lt;/GalleryURL&gt;
</span><span class='line'> &lt;PrimaryCategoryID&gt;176973&lt;/PrimaryCategoryID&gt;
</span><span class='line'> &lt;PrimaryCategoryName&gt;Computers/Tablets &amp;amp; Networking:iPad/Tablet/eBook Accessories:Cases, Covers, Keyboard Folios&lt;/PrimaryCategoryName&gt;
</span><span class='line'> &lt;BidCount&gt;9529&lt;/BidCount&gt;
</span><span class='line'> &lt;ConvertedCurrentPrice currencyID="USD"&gt;7.75&lt;/ConvertedCurrentPrice&gt;
</span><span class='line'> &lt;ListingStatus&gt;Active&lt;/ListingStatus&gt;
</span><span class='line'> &lt;TimeLeft&gt;P16DT13H32M27S&lt;/TimeLeft&gt;
</span><span class='line'> &lt;Title&gt;For Apple iPad Mini NEW 360 Degree Rotating PU Leather Case Cover w Swivel Stand&lt;/Title&gt;
</span><span class='line'> &lt;ShippingCostSummary&gt;
</span><span class='line'>  &lt;ShippingServiceCost currencyID="USD"&gt;0.0&lt;/ShippingServiceCost&gt;
</span><span class='line'>  &lt;ShippingType&gt;Flat&lt;/ShippingType&gt;
</span><span class='line'>  &lt;ListedShippingServiceCost currencyID="USD"&gt;0.0&lt;/ListedShippingServiceCost&gt;
</span><span class='line'> &lt;/ShippingCostSummary&gt;
</span><span class='line'> &lt;WatchCount&gt;1681&lt;/WatchCount&gt;
</span><span class='line'>&lt;/Item&gt;
</span><span class='line'>&lt;/code>&lt;/pre>
</span><span class='line'>
</span><span class='line'>&lt;p>   &lt;/ItemArray>
</span><span class='line'>  &lt;/FindPopularItemsResponse>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>let's also try a error case, for example, if you forget to fill in your <code>eBayAppId</code> in the shared client, then you will get:
<img class="center" src="/images/pico/tutorial04/screen_shot2.png" width="300" height="500"></p>

<p>This is just a bare minimum eBay Shopping service based application, for a demo with more functions, please see the eBayDemoApp sample in the <code>Examples</code> folder of Pico source, eBayDemoApp is a composite app which calls two eBay serivces behind, this app searches eBay by calling eBay Fining service, showes a list of matched items on UI, when an item is clicked, it will show item details by calling eBay Shopping service, see a screen shot below.</p>

<p><img class="center" src="/images/pico/tutorial04/screen_shot3.png" width="300" height="500"></p>

<p>Now it's your turn to create iOS applications based on eBay Shopping and eBay Finding web serivces, see your next great serivce based app.</p>

<h3>Update 1</h3>

<p>The eBay Shopping Service Proxy has been extracted as a standalone project, hosted <a href="https://github.com/bulldog2011/PicoEBayShoppingClient">here</a>, and the corresponding appledoc is hosted <a href="http://bulldog2011.github.com/PicoEBayShoppingClient/">here</a>, the appledoc is a useful programming reference. By the way, the doc annotations in wsdl are not only generted into the proxy code, but into the appledoc, assisting your development.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Pico Tutorial 3 - Hello eBay Finding]]></title>
    <link href="http://bulldog2011.github.com/blog/2013/03/29/pico-tutorial-3-hello-ebay-finding/"/>
    <updated>2013-03-29T10:25:00+08:00</updated>
    <id>http://bulldog2011.github.com/blog/2013/03/29/pico-tutorial-3-hello-ebay-finding</id>
    <content type="html"><![CDATA[<p>This is the third tutorial of Pico tutorial series, in <a href="http://bulldog2011.github.com/blog/2013/03/27/pico-tutorial-a-stockquote-sample/">first</a> and <a href="">second</a> tutorials, I showed you how to use Pico with simple web serivces like <a href="StockQuote](http://www.webservicex.net/ws/WSDetails.aspx?CATID=2&amp;WSID=9">StockQuote</a> and <a href="http://www.webservicex.net/ws/WSDetails.aspx?CATID=2&amp;WSID=10">CurrencyConverter</a>. These services are quite simple, only support one or two calls, and the request/response structures are fairly simple, supporting these simple services only can't show the full power of Pico. So in this and later tutorials, I will show you how to use Pico with industrial grade services, let's start with <a href="http://developer.ebay.com/DevZone/finding/CallRef/index.html">eBay Finding service</a>, please reivew its official site if you are not familar with this service, bastially, it let you search items on eBay. eBay Finding service supports SOAP12, so I will also show you how to configure Pico to support SOAP12 protocol, also I will show how to set service required HTTP headers on Pico client.</p>

<p>The source of this tutorial is <a href="https://github.com/bulldog2011/pico/tree/master/Examples/eBayFinding">here</a></p>

<!--more-->


<h2>Step 0 - Prerequisite</h2>

<p>I suppose you have already read Pico tutorial 1 and 2, and basically you should know:</p>

<blockquote><ul>
<li>The wsdl driven development process supported by Pico.</li>
<li>How to reference Pico as a static library in your project.</li>
<li>Or How to reference Pico Source directly in your project.</li>
</ul>
</blockquote>

<h2>Step 1 - Generate Objective-C Proxy from WSDL</h2>

<p>Download <a href="https://github.com/bulldog2011/mwsc">mwsc</a> and run following command in terminal to generate the proxy:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>bin/mwsc -pico -d generated -prefix Finding_ -ebaysoa http://developer.ebay.com/webservices/Finding/latest/FindingService.wsdl&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Depends on the network speed, you may need to wait a few moments to let the code generator download the wsdl and generate code, you may also download the wsdl and run the code generator with a local wsdl.</p>

<p>A few comments about the codegen options:</p>

<blockquote><ul>
<li>I have added a prefix <code>Finding_</code> as codegen option, such that all interfaces/types generated will be prefixed. Adding prefix to Objective-C types is a recommended best practice to avoid possible type name conflict with code generated from other services, for example, eBay has a couple of SOA services, and they share a few commons types, without prefixing, you may get conflict if you use two or more eBay SOA services in one application.</li>
<li>I have added a special <code>-ebaysoa</code> codegen option, this is because eBay Finding service needs a per-call operation name HTTP header, I added this special flag in the code generator to let it generate the header for me, since I don't want to add this header everytime I call an eBay Finding service, so this is just a special flag for eBay SOA services and for demo, or a hidden feature, not a generic codegen option.</li>
</ul>
</blockquote>

<h2>Step 2 - Create New iOS Project, Add Pico Library and Generated Proxy into Your Project</h2>

<p>Create a new simple iOS single view application named "HelloeBayFinding", don't choose ARC since Pico does not support ARC yet.</p>

<p>In this tutorial, we will reference Pico as a static library, suppose you have downloaded Pico source project from github site, then:</p>

<blockquote><ol>
<li>Drag the Pico xcodeproj into your project,</li>
<li>In the Build Phases of the target,  add <code>libPico.a</code> and <code>libxml2.dylib</code> to "Link Binary With Libraries" section.</li>
<li>In the Build Setting of the target, add [your path to Pico source] to "User Header Search Paths" setting, choose "recursive" seach path.</li>
</ol>
</blockquote>

<p>Build the project to ensure that it can build successfully.</p>

<p>Now drag the proxy generated in step 1 into the project,  choose "Copy items to destination group's folder" and "add to targets" when prompted.</p>

<p>Build the project again to ensure that it can build successfully.</p>

<p>You may now review the eBay Finding service SOAP interface generated from wsdl, to learn what kinds of functions are provided by eBay Finding service, and what kinds of parameters are needed to call the serivce, the interface is posted below:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>FindingServicePortType_SOAPClient.h </span><a href='https://github.com/bulldog2011/pico/blob/master/Examples/eBayFinding/eBayFinding/Proxy/client/FindingServicePortType_SOAPClient.h'>source </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
<span class='line-number'>157</span>
<span class='line-number'>158</span>
<span class='line-number'>159</span>
<span class='line-number'>160</span>
<span class='line-number'>161</span>
<span class='line-number'>162</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="c1">// Generated by wsdl compiler for ios/objective-c</span>
</span><span class='line'><span class="c1">// DO NOT CHANGE!&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">Foundation</span><span class="o">/</span><span class="n">Foundation</span><span class="p">.</span><span class="n">h</span><span class="o">&gt;&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;PicoSOAPClient.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Finding_GetVersionResponse.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Finding_FindItemsAdvancedRequest.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Finding_FindItemsAdvancedResponse.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Finding_FindItemsForFavoriteSearchResponse.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Finding_FindCompletedItemsRequest.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Finding_GetSearchKeywordsRecommendationResponse.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Finding_FindCompletedItemsResponse.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Finding_FindItemsByImageResponse.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Finding_FindItemsByProductRequest.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Finding_FindItemsByImageRequest.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Finding_FindItemsByKeywordsRequest.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Finding_FindItemsByProductResponse.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Finding_FindItemsIneBayStoresRequest.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Finding_FindItemsByCategoryRequest.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Finding_GetHistogramsRequest.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Finding_GetSearchKeywordsRecommendationRequest.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Finding_FindItemsIneBayStoresResponse.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Finding_GetVersionRequest.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Finding_FindItemsByCategoryResponse.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Finding_FindItemsByKeywordsResponse.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Finding_FindItemsForFavoriteSearchRequest.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Finding_GetHistogramsResponse.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;*</span>
</span><span class='line'> <span class="n">This</span> <span class="n">class</span> <span class="n">is</span> <span class="n">the</span> <span class="n">SOAP</span> <span class="n">client</span> <span class="n">to</span> <span class="n">the</span> <span class="n">FindingServicePortType</span> <span class="n">Web</span> <span class="n">Service</span><span class="p">.</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="k">@interface</span> <span class="nc">FindingServicePortType_SOAPClient</span> : <span class="nc">PicoSOAPClient</span> <span class="p">{</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">getSearchKeywordsRecommendation:</span><span class="p">(</span><span class="n">Finding_GetSearchKeywordsRecommendationRequest</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">Finding_GetSearchKeywordsRecommendationResponse</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">,</span> <span class="kt">id</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">PicoBindable</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">soapFault</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">findItemsByKeywords:</span><span class="p">(</span><span class="n">Finding_FindItemsByKeywordsRequest</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">Finding_FindItemsByKeywordsResponse</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">,</span> <span class="kt">id</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">PicoBindable</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">soapFault</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">findItemsByCategory:</span><span class="p">(</span><span class="n">Finding_FindItemsByCategoryRequest</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">Finding_FindItemsByCategoryResponse</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">,</span> <span class="kt">id</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">PicoBindable</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">soapFault</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">findItemsAdvanced:</span><span class="p">(</span><span class="n">Finding_FindItemsAdvancedRequest</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">Finding_FindItemsAdvancedResponse</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">,</span> <span class="kt">id</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">PicoBindable</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">soapFault</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">findItemsByProduct:</span><span class="p">(</span><span class="n">Finding_FindItemsByProductRequest</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">Finding_FindItemsByProductResponse</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">,</span> <span class="kt">id</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">PicoBindable</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">soapFault</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">findItemsIneBayStores:</span><span class="p">(</span><span class="n">Finding_FindItemsIneBayStoresRequest</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">Finding_FindItemsIneBayStoresResponse</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">,</span> <span class="kt">id</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">PicoBindable</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">soapFault</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">findItemsByImage:</span><span class="p">(</span><span class="n">Finding_FindItemsByImageRequest</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">Finding_FindItemsByImageResponse</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">,</span> <span class="kt">id</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">PicoBindable</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">soapFault</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">getHistograms:</span><span class="p">(</span><span class="n">Finding_GetHistogramsRequest</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">Finding_GetHistogramsResponse</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">,</span> <span class="kt">id</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">PicoBindable</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">soapFault</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">findCompletedItems:</span><span class="p">(</span><span class="n">Finding_FindCompletedItemsRequest</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">Finding_FindCompletedItemsResponse</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">,</span> <span class="kt">id</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">PicoBindable</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">soapFault</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">getVersion:</span><span class="p">(</span><span class="n">Finding_GetVersionRequest</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">Finding_GetVersionResponse</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">,</span> <span class="kt">id</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">PicoBindable</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">soapFault</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'> <span class="n">public</span> <span class="n">method</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">findItemsForFavoriteSearch:</span><span class="p">(</span><span class="n">Finding_FindItemsForFavoriteSearchRequest</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">requestObject</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="nl">success:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">Finding_FindItemsForFavoriteSearchResponse</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">))</span><span class="n">success</span>
</span><span class='line'>  <span class="nl">failure:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">,</span> <span class="kt">id</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">PicoBindable</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">soapFault</span><span class="p">))</span><span class="n">failure</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">@end</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>All the methods in the interface follow same calling paradigm - you call the service with required request object and register success callback(for success handling logic) and failure callback(for error handling logic) using Objective-C block.</p>

<h2>Step 3 - Implement Appliction Logic and UI, Call Proxy to Invoke Web Service as Needed.</h2>

<p>First, create a shared service client as below:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>EBayFindingServiceClient.h </span><a href='https://github.com/bulldog2011/pico/blob/master/Examples/eBayFinding/eBayFinding/EBayFindingServiceClient.h'>source </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;FindingServicePortType_SOAPClient.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">@interface</span> <span class="nc">EBayFindingServiceClient</span> : <span class="nc">FindingServicePortType_SOAPClient</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">ul</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="n">li</span><span class="o">&gt;</span><span class="p">(</span><span class="n">EBayFindingServiceClient</span> <span class="o">*</span><span class="p">)</span><span class="n">sharedClient</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">@end</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>EBayFindingServiceClient.m </span><a href='https://github.com/bulldog2011/pico/blob/master/Examples/eBayFinding/eBayFinding/EBayFindingServiceClient.m'>source  </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;EBayFindingServiceClient.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">static</span> <span class="n">NSString</span> <span class="o">*</span><span class="k">const</span> <span class="n">eBayAppId</span> <span class="o">=</span> <span class="s">@&quot;YOUR APPID HERE&quot;</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="c1">// production</span>
</span><span class='line'><span class="k">static</span> <span class="n">NSString</span> <span class="o">*</span><span class="k">const</span> <span class="n">eBayFindingServiceURLString</span> <span class="o">=</span> <span class="s">@&quot;http://svcs.ebay.com/services/search/FindingService/v1&quot;</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="c1">// sandbox</span>
</span><span class='line'><span class="c1">//static NSString *const eBayFindingServiceURLString = @&quot;http://svcs.sandbox.ebay.com/services/search/FindingService/v1&quot;;&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">@implementation</span> <span class="nc">EBayFindingServiceClient</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">ul</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="n">li</span><span class="o">&gt;&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="p">(</span><span class="n">EBayFindingServiceClient</span> <span class="o">&lt;</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span><span class="n">sharedClient</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">static</span> <span class="n">EBayFindingServiceClient</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="n">_sharedClient</span> <span class="o">=</span> <span class="nb">nil</span><span class="p">;</span>
</span><span class='line'>  <span class="k">static</span> <span class="n">dispatch_once_t</span> <span class="n">onceToken</span><span class="p">;</span>
</span><span class='line'>  <span class="n">dispatch_once</span><span class="p">(</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="n">onceToken</span><span class="p">,</span> <span class="o">^</span><span class="p">{</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="n">_sharedClient</span> <span class="o">=</span> <span class="p">[[</span><span class="n">EBayFindingServiceClient</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithEndpointURL:</span><span class="p">[</span><span class="n">NSURL</span> <span class="nl">URLWithString:</span><span class="n">eBayFindingServiceURLString</span><span class="p">]];</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="p">});</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="k">return</span> <span class="n">_sharedClient</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="n">li</span><span class="o">&gt;&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nl">initWithEndpointURL:</span><span class="p">(</span><span class="n">NSURL</span> <span class="o">*</span><span class="p">)</span><span class="n">URL</span> <span class="p">{</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="n">self</span> <span class="o">=</span> <span class="p">[</span><span class="n">super</span> <span class="nl">initWithEndpointURL:</span><span class="n">URL</span><span class="p">];</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">self</span><span class="p">)</span> <span class="p">{</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="k">return</span> <span class="nb">nil</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="p">}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="n">self</span><span class="p">.</span><span class="n">soapVersion</span> <span class="o">=</span> <span class="n">SOAP12</span><span class="p">;</span> <span class="c1">// eBay finding service supports SOAP 12</span>
</span><span class='line'>  <span class="p">[</span><span class="n">self</span> <span class="nl">setDefaultHeader:</span><span class="s">@&quot;Accept&quot;</span> <span class="nl">value:</span><span class="s">@&quot;application/soap+xml&quot;</span><span class="p">];</span>
</span><span class='line'>  <span class="p">[</span><span class="n">self</span> <span class="nl">setDefaultHeader:</span><span class="s">@&quot;Content-Type&quot;</span> <span class="nl">value:</span><span class="s">@&quot;application/soap+xml&quot;</span><span class="p">];</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="p">[</span><span class="n">super</span> <span class="nl">setDefaultHeader:</span><span class="s">@&quot;X-EBAY-SOA-SECURITY-APPNAME&quot;</span> <span class="nl">value:</span><span class="n">eBayAppId</span><span class="p">];</span>
</span><span class='line'>  <span class="p">[</span><span class="n">super</span> <span class="nl">setDefaultHeader:</span><span class="s">@&quot;X-EBAY-SOA-MESSAGE-PROTOCOL&quot;</span> <span class="nl">value:</span><span class="s">@&quot;SOAP12&quot;</span><span class="p">];</span>
</span><span class='line'>  <span class="p">[</span><span class="n">super</span> <span class="nl">setDefaultHeader:</span><span class="s">@&quot;X-EBAY-SOA-REQUEST-DATA-FORMAT&quot;</span> <span class="nl">value:</span><span class="s">@&quot;SOAP&quot;</span><span class="p">];</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="k">return</span> <span class="n">self</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">@end</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>The shared client for eBay Finding service is a little more complex than the simple serivce client in tutorial 1 and 2, this is because that eBay Finding service needs a few HTTP headers set to work, let me give more comments:</p>

<blockquote><ol>
<li>eBay Finding service support SOAP12, so we set the client to use <code>SOAP12</code> protocol, this is not necessary since eBay Finding serivce also support SOAP11(which is Pico default), we use SOAP12 here just for demo and to show the capability of Pico.</li>
<li>eBay Finding service needs to set a few HTTP headers to work, for a list of required headers, please refer to doc <a href="http://developer.ebay.com/DevZone/finding/Concepts/MakingACall.html">here</a>.</li>
<li>One mandatory header for eBay Finding service is <code>eBayAppId</code>, you need to register on eBay developer site as an eBay developer then get this id, before your can run this demo, you must fill in your own eBayAppId in the shared client.</li>
</ol>
</blockquote>

<p>Now the UI part, for this hello world like sample, we just need a UITextField for keyword input and UIButton to trigger eBay search by invoking method <code>searchButtonPressed</code> which will indirectly call eBay Finding service through the proxy, fairly simple, see definition in header file <a href="https://github.com/bulldog2011/pico/blob/master/Examples/eBayFinding/eBayFinding/ViewController.h">ViewController.h</a> and instantiation in implementation file <a href="https://github.com/bulldog2011/pico/blob/master/Examples/eBayFinding/eBayFinding/ViewController.m">ViewController.m</a>.</p>

<p>Now implement the <code>searchButtonPressed</code> method by invoking service as below:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>ViewController.m </span><a href='https://github.com/bulldog2011/pico/blob/master/Examples/eBayFinding/eBayFinding/ViewController.m'>source  </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;ViewController.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;EBayFindingServiceClient.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Finding_CommonTypes.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;SOAP12Fault.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;SOAP12Faultreason.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;SOAP12Detail.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;SOAP12Reasontext.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;Toast+UIView.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">ul</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="n">li</span><span class="o">&gt;&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">searchButtonPressed:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="n">sender</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="c1">// Hide the keyboard.</span>
</span><span class='line'>  <span class="p">[</span><span class="n">_searchText</span> <span class="n">resignFirstResponder</span><span class="p">];</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="k">if</span> <span class="p">(</span><span class="n">_searchText</span><span class="p">.</span><span class="n">text</span><span class="p">.</span><span class="n">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="c1">// start progress activity</span>
</span><span class='line'>  <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="n">makeToastActivity</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// Get shared service client</span>
</span><span class='line'>  <span class="n">EBayFindingServiceClient</span> <span class="o">*</span><span class="n">findingClient</span> <span class="o">=</span> <span class="p">[</span><span class="n">EBayFindingServiceClient</span> <span class="n">sharedClient</span><span class="p">];</span>
</span><span class='line'>  <span class="n">findingClient</span><span class="p">.</span><span class="n">debug</span> <span class="o">=</span> <span class="n">YES</span><span class="p">;</span> <span class="c1">// enable request/response message logging</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// Build request object</span>
</span><span class='line'>  <span class="n">Finding_FindItemsByKeywordsRequest</span> <span class="o">*</span><span class="n">request</span> <span class="o">=</span> <span class="p">[[[</span><span class="n">Finding_FindItemsByKeywordsRequest</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">]</span> <span class="n">autorelease</span><span class="p">];</span>
</span><span class='line'>  <span class="n">request</span><span class="p">.</span><span class="n">keywords</span> <span class="o">=</span> <span class="n">_searchText</span><span class="p">.</span><span class="n">text</span><span class="p">;</span>
</span><span class='line'>  <span class="c1">// only need one item for demo</span>
</span><span class='line'>  <span class="n">Finding_PaginationInput</span> <span class="o">*</span><span class="n">pagination</span> <span class="o">=</span> <span class="p">[[</span><span class="n">Finding_PaginationInput</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'>  <span class="n">pagination</span><span class="p">.</span><span class="n">pageNumber</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSNumber</span> <span class="nl">numberWithInt:</span><span class="mi">1</span><span class="p">];</span>
</span><span class='line'>  <span class="n">pagination</span><span class="p">.</span><span class="n">entriesPerPage</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSNumber</span> <span class="nl">numberWithInt:</span><span class="mi">1</span><span class="p">];</span>
</span><span class='line'>  <span class="n">request</span><span class="p">.</span><span class="n">paginationInput</span> <span class="o">=</span> <span class="n">pagination</span><span class="p">;</span>
</span><span class='line'>  <span class="p">[</span><span class="n">pagination</span> <span class="n">release</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// make API call and register callbacks</span>
</span><span class='line'>  <span class="p">[</span><span class="n">findingClient</span> <span class="nl">findItemsByKeywords:</span><span class="n">request</span> <span class="nl">success:</span><span class="o">^</span><span class="p">(</span><span class="n">Finding_FindItemsByKeywordsResponse</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>      <span class="c1">// stop progress activity</span>
</span><span class='line'>      <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="n">hideToastActivity</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">if</span> <span class="p">([</span><span class="n">Finding_AckValue_SUCCESS</span> <span class="nl">isEqualToString:</span><span class="n">responseObject</span><span class="p">.</span><span class="n">ack</span><span class="p">])</span> <span class="p">{</span>
</span><span class='line'>          <span class="k">if</span> <span class="p">(</span><span class="n">responseObject</span><span class="p">.</span><span class="n">searchResult</span><span class="p">.</span><span class="n">count</span> <span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>              <span class="c1">// show the title of the first found item</span>
</span><span class='line'>              <span class="n">Finding_SearchItem</span> <span class="o">*</span><span class="n">item</span> <span class="o">=</span> <span class="p">[</span><span class="n">responseObject</span><span class="p">.</span><span class="n">searchResult</span><span class="p">.</span><span class="n">item</span> <span class="nl">objectAtIndex:</span><span class="mi">0</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>              <span class="c1">// start image downloading progress activity</span>
</span><span class='line'>              <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="n">makeToastActivity</span><span class="p">];</span>
</span><span class='line'>              <span class="c1">// get gallery image</span>
</span><span class='line'>              <span class="n">NSURL</span> <span class="o">*</span><span class="n">imageURL</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURL</span> <span class="nl">URLWithString:</span><span class="n">item</span><span class="p">.</span><span class="n">galleryURL</span><span class="p">];</span>
</span><span class='line'>              <span class="n">NSData</span> <span class="o">*</span><span class="n">imageData</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSData</span> <span class="nl">dataWithContentsOfURL:</span><span class="n">imageURL</span><span class="p">];</span>
</span><span class='line'>              <span class="c1">// stop progress activity</span>
</span><span class='line'>              <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="n">hideToastActivity</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>              <span class="n">UIImage</span> <span class="o">*</span><span class="n">image</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIImage</span> <span class="nl">imageWithData:</span><span class="n">imageData</span><span class="p">];</span>
</span><span class='line'>              <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="nl">makeToast:</span><span class="n">item</span><span class="p">.</span><span class="n">title</span> <span class="nl">duration:</span><span class="mf">3.0</span> <span class="nl">position:</span><span class="s">@&quot;center&quot;</span> <span class="nl">title:</span><span class="s">@&quot;Success&quot;</span> <span class="nl">image:</span><span class="n">image</span><span class="p">];</span>
</span><span class='line'>          <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>              <span class="c1">// no result</span>
</span><span class='line'>              <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="nl">makeToast:</span><span class="s">@&quot;No result&quot;</span> <span class="nl">duration:</span><span class="mf">3.0</span> <span class="nl">position:</span><span class="s">@&quot;center&quot;</span><span class="p">];</span>
</span><span class='line'>          <span class="p">}</span>
</span><span class='line'>      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="c1">// response residenet error</span>
</span><span class='line'>          <span class="n">Finding_ErrorData</span> <span class="o">*</span><span class="n">errorData</span> <span class="o">=</span> <span class="p">[</span><span class="n">responseObject</span><span class="p">.</span><span class="n">errorMessage</span><span class="p">.</span><span class="n">error</span> <span class="nl">objectAtIndex:</span><span class="mi">0</span><span class="p">];</span>
</span><span class='line'>          <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="nl">makeToast:</span><span class="n">errorData</span><span class="p">.</span><span class="n">message</span> <span class="nl">duration:</span><span class="mf">3.0</span> <span class="nl">position:</span><span class="s">@&quot;center&quot;</span> <span class="nl">title:</span><span class="s">@&quot;Error&quot;</span><span class="p">];</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span> <span class="nl">failure:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">,</span> <span class="kt">id</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="n">PicoBindable</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">soapFault</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>      <span class="c1">// stop progress activity</span>
</span><span class='line'>      <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="n">hideToastActivity</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">if</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>          <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="nl">makeToast:</span><span class="p">[</span><span class="n">error</span> <span class="n">localizedDescription</span><span class="p">]</span> <span class="nl">duration:</span><span class="mf">3.0</span> <span class="nl">position:</span><span class="s">@&quot;center&quot;</span> <span class="nl">title:</span><span class="s">@&quot;Error&quot;</span><span class="p">];</span>
</span><span class='line'>      <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">soapFault</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>          <span class="n">SOAP12Fault</span> <span class="o">*</span><span class="n">soap12Fault</span> <span class="o">=</span> <span class="p">(</span><span class="n">SOAP12Fault</span> <span class="o">*</span><span class="p">)</span><span class="n">soapFault</span><span class="p">;</span>
</span><span class='line'>          <span class="n">SOAP12Reasontext</span> <span class="o">*</span><span class="n">reasonText</span> <span class="o">=</span> <span class="p">[</span><span class="n">soap12Fault</span><span class="p">.</span><span class="n">reason</span><span class="p">.</span><span class="n">text</span> <span class="nl">objectAtIndex:</span><span class="mi">0</span><span class="p">];</span>
</span><span class='line'>          <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="nl">makeToast:</span><span class="n">reasonText</span><span class="p">.</span><span class="n">value</span> <span class="nl">duration:</span><span class="mf">3.0</span> <span class="nl">position:</span><span class="s">@&quot;center&quot;</span> <span class="nl">title:</span><span class="s">@&quot;SOAP Fault&quot;</span><span class="p">];</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>  <span class="p">}];</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>More comments to the serivce call code:</p>

<blockquote><ol>
<li>I've added comments in the code so the whole service call flow should be easy to understand.</li>
<li>We used the eBay Finding <code>FindItemsByKeywords</code> call, which takes a keyword as input, and will return a list of matched items, for demo, we just need one item to display, so we set entries per page to 1.</li>
<li>In the success handling logic, we show the title and the image of the returned item, for demo, the image is downloaded synchronously, but in practice, you should download image asynchronously in order not to block main UI.</li>
<li>Since we set the client to use SOAP12 protocol, in the error handling logic, we need to cast the soapFault variable to type <code>SOAP12Fault</code> and handle it accordingly.</li>
<li>eBay Finding service support response resident error(RRE), so even we get a success response, we still need to check the response for resident error and handle it accordingly.</li>
<li>We used a thrid party library called "Toast" for producing toast like message, this is just for the convenience of demo, not necessary in your real project.</li>
</ol>
</blockquote>

<p>Regarding type hint:</p>

<p>The <code>pageNumber</code> property of <code>Finding_PaginationInput</code> is of type <code>NSNumber</code>, you may get confused what kind of number should be put in PageNumber, short, int or long? Please just consult the source of <code>Finding_PaginationInput.h</code>, it provides type hint as code comments, see sample below. Indeed, every type generated from wsdl has sufficient type hint to assist your development. Xsd annotations in wsdl/schema are also generated into corresponding interfaces/types, further facilitating your development</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Finding_PaginationInput.h </span><a href='https://github.com/bulldog2011/pico/blob/master/Examples/eBayFinding/eBayFinding/Proxy/Finding_PaginationInput.h'>source  </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;&lt;</span><span class="n">em</span><span class="o">&gt;</span>
</span><span class='line'><span class="n">Specifies</span> <span class="n">which</span> <span class="n">subset</span> <span class="n">of</span> <span class="n">data</span> <span class="p">(</span><span class="n">or</span> <span class="s">&quot;page&quot;</span><span class="p">)</span> <span class="n">to</span> <span class="k">return</span> <span class="k">in</span> <span class="n">the</span> <span class="n">call</span>
</span><span class='line'><span class="n">response</span><span class="p">.</span> <span class="n">The</span> <span class="n">number</span> <span class="n">of</span> <span class="n">data</span> <span class="n">pages</span> <span class="n">is</span> <span class="n">determined</span> <span class="n">by</span> <span class="n">the</span> <span class="n">total</span> <span class="n">number</span> <span class="n">of</span>
</span><span class='line'><span class="n">items</span> <span class="n">matching</span> <span class="n">the</span> <span class="n">request</span> <span class="n">search</span> <span class="n">criteria</span> <span class="p">(</span><span class="n">returned</span> <span class="k">in</span>
</span><span class='line'><span class="n">paginationOutput</span><span class="p">.</span><span class="n">totalEntries</span><span class="p">)</span> <span class="n">divided</span> <span class="n">by</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">entries</span> <span class="n">to</span>
</span><span class='line'><span class="n">display</span> <span class="k">in</span> <span class="n">each</span> <span class="n">response</span> <span class="p">(</span><span class="n">entriesPerPage</span><span class="p">).</span> <span class="n">You</span> <span class="n">can</span> <span class="k">return</span> <span class="n">up</span> <span class="n">to</span> <span class="n">the</span> <span class="n">first</span>
</span><span class='line'><span class="mi">100</span> <span class="n">pages</span> <span class="n">of</span> <span class="n">the</span> <span class="n">result</span> <span class="n">set</span> <span class="n">by</span> <span class="n">issuing</span> <span class="n">multiple</span> <span class="n">requests</span> <span class="n">and</span> <span class="n">specifying</span><span class="p">,</span>
</span><span class='line'><span class="k">in</span> <span class="n">sequence</span><span class="p">,</span> <span class="n">the</span> <span class="n">pages</span> <span class="n">to</span> <span class="k">return</span><span class="p">.</span>
</span><span class='line'><span class="n">type</span> <span class="o">:</span> <span class="n">NSNumber</span><span class="p">,</span> <span class="n">wrapper</span> <span class="k">for</span> <span class="n">primitive</span> <span class="kt">int</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">retain</span><span class="p">)</span> <span class="n">NSNumber</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="n">pageNumber</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>In response handling, the <code>item</code> property of <code>Finding_SearchResult</code> is of type <code>NSMutableArray</code>, you may get confused what is the actual entry type? please just consult the source of <code>Finding_SearchResult.h</code> for type hint, see sample below:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Finding_SearchResult.h </span><a href='https://github.com/bulldog2011/pico/blob/master/Examples/eBayFinding/eBayFinding/Proxy/Finding_SearchResult.h'>source  </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="cm">/**&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="cm">&lt;p&gt; Container for the data of a single item that matches the search criteria.&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="cm">&lt;p&gt; entry type : class Finding_SearchItem</span>
</span><span class='line'><span class="cm">*/</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">retain</span><span class="p">)</span> <span class="n">NSMutableArray</span> <span class="o">*</span><span class="n">item</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Xsd enumeration is mapped to Objective-C <code>NSString</code> in Pico framework, for example, the <code>ack</code> property of <code>Finding_FindItemsByKeywordsResponse</code> is of type <code>NSString</code>, in wsdl, it's an xsd enumeration of type <code>AckValue</code>, the type hint in <code>Finding_BaseServiceResponse.h</code>(from which <code>Finding_FindItemsByKeywordsResponse.h</code> extends) will tell you where to find the enum constants allowed by <code>ack</code> property, in this case, the allowed enum constants are in <code>Finding_AckValue.h</code>, see sample below :</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>Finding_BaseServiceResponse.h</span><a href='https://github.com/bulldog2011/pico/blob/master/Examples/eBayFinding/eBayFinding/Proxy/Finding_BaseServiceResponse.h'>source  </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/**&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span> <span class="n">Indicates</span> <span class="n">whether</span> <span class="n">or</span> <span class="n">not</span> <span class="n">errors</span> <span class="n">or</span> <span class="n">warnings</span> <span class="n">were</span> <span class="n">generated</span> <span class="n">during</span> <span class="n">the</span>
</span><span class='line'> <span class="n">processing</span> <span class="n">of</span> <span class="n">the</span> <span class="n">request</span><span class="p">.</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span> <span class="nl">type:</span> <span class="n">string</span> <span class="n">constant</span> <span class="k">in</span> <span class="n">Finding_AckValue</span><span class="p">.</span><span class="n">h</span>
</span><span class='line'><span class="o">&lt;</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">retain</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="n">ack</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>At last, please don't forget to include the shared client and SOAP12 related header files, it's a best practice to include the generated Finding_CommonTypes.h file which can free you from writing many import statements required by request building and response handling.</p>

<h2>Final Step - Run the Demo</h2>

<p>This time let's run the demo on a real iPod Touch 4 device with iOS 4.3.3, see a sceen shot below:</p>

<p><img class="center" src="/images/pico/tutorial03/screen_shot1.png" width="300" height="500"></p>

<p>and the debug output:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>2013-03-29 12:21:53.963 HelloeBayFinding[180:607] Sending request to : http://svcs.ebay.com/services/search/FindingService/v1
</span><span class='line'>2013-03-29 12:21:53.979 HelloeBayFinding[180:607] Request message:
</span><span class='line'>2013-03-29 12:21:53.981 HelloeBayFinding[180:607] &lt;?xml version="1.0" encoding="UTF-8" ?>
</span><span class='line'>&lt;soapenv:Envelope xmlns:soapenv="http://www.w3.org/2003/05/soap-envelope" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://www.ebay.com/marketplace/search/v1/services">&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;pre>&lt;code>&lt;soapenv:Body&gt;
</span><span class='line'>    &lt;findItemsByKeywordsRequest&gt;
</span><span class='line'>        &lt;paginationInput&gt;
</span><span class='line'>            &lt;pageNumber&gt;1&lt;/pageNumber&gt;
</span><span class='line'>            &lt;entriesPerPage&gt;1&lt;/entriesPerPage&gt;
</span><span class='line'>        &lt;/paginationInput&gt;
</span><span class='line'>        &lt;keywords&gt;iPad 3&lt;/keywords&gt;
</span><span class='line'>    &lt;/findItemsByKeywordsRequest&gt;
</span><span class='line'>&lt;/soapenv:Body&gt;
</span><span class='line'>&lt;/code>&lt;/pre>
</span><span class='line'>
</span><span class='line'>&lt;p>&lt;/soapenv:Envelope>
</span><span class='line'>2013-03-29 12:21:53.989 HelloeBayFinding[180:607] Request HTTP Headers :
</span><span class='line'>{&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;pre>&lt;code>Accept = "application/soap+xml";
</span><span class='line'>"Accept-Language" = "zh-Hans, en, fr, de, ja, nl, it, es, pt, pt-PT, da, fi, nb, sv, ko, zh-Hant, ru, pl, tr, uk, ar, hr, cs, el, he, ro, sk, th, id, ms, en-GB, ca, hu, vi, en-us;q=0.8";
</span><span class='line'>"Content-Type" = "application/soap+xml";
</span><span class='line'>"User-Agent" = "HelloeBayFinding/1.0 (iPod touch; iOS 4.3.3; Scale/2.00)";
</span><span class='line'>"X-Ebay-Soa-Message-Protocol" = SOAP12;
</span><span class='line'>"X-Ebay-Soa-Operation-Name" = findItemsByKeywords;
</span><span class='line'>"X-Ebay-Soa-Request-Data-Format" = SOAP;
</span><span class='line'>"X-Ebay-Soa-Security-Appname" = ************;
</span><span class='line'>&lt;/code>&lt;/pre>
</span><span class='line'>
</span><span class='line'>&lt;p>}
</span><span class='line'>2013-03-29 12:21:55.446 HelloeBayFinding[180:1a03] Response HTTP status :
</span><span class='line'>200
</span><span class='line'>2013-03-29 12:21:55.452 HelloeBayFinding[180:1a03] Response HTTP headers :
</span><span class='line'>{&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;pre>&lt;code>Connection = "keep-alive";
</span><span class='line'>"Content-Encoding" = gzip;
</span><span class='line'>"Content-Type" = "application/soap+xml;charset=UTF-8";
</span><span class='line'>Date = "Fri, 29 Mar 2013 04:21:59 GMT";
</span><span class='line'>Server = "Apache-Coyote/1.1";
</span><span class='line'>"Transfer-Encoding" = Identity;
</span><span class='line'>"X-Ebay-Esb-Endpointurl" = "/Root/ESBFunctions/Services/Ports/7002/profile/search/v1/FindingService/destination_default/address_synapse";
</span><span class='line'>"X-Ebay-Esb-Guid" = "urn:uuid:E626354F8F2A3156CE1365170887318";
</span><span class='line'>"X-Ebay-Soa-Locale-List" = "en-US_US";
</span><span class='line'>"X-Ebay-Soa-Message-Protocol" = SOAP12;
</span><span class='line'>"X-Ebay-Soa-Operation-Name" = findItemsByKeywords;
</span><span class='line'>"X-Ebay-Soa-Request-Id" = "13db4617-6bd0-a0a2-2d44-7514ffcfbc4b!FindingService!10.10.34.212!v3apifindingcore[!FindItemServiceNextGen!10.10.34.212!v3apifindingcore[!MetadataDependencyService!10.86.122.59!v3mddscore[]]]";
</span><span class='line'>"X-Ebay-Soa-Response-Data-Format" = XML;
</span><span class='line'>"X-Ebay-Soa-Service-Metrics" = 266275234;
</span><span class='line'>"X-Ebay-Soa-Service-Name" = "{http://www.ebay.com/marketplace/search/v1/services}FindingService";
</span><span class='line'>"X-Ebay-Soa-Service-Version" = "1.12.0";
</span><span class='line'>&lt;/code>&lt;/pre>
</span><span class='line'>
</span><span class='line'>&lt;p>}
</span><span class='line'>2013-03-29 12:21:55.460 HelloeBayFinding[180:650f] Response message :
</span><span class='line'>2013-03-29 12:21:55.467 HelloeBayFinding[180:650f] &lt;?xml version='1.0' encoding='utf-8'?>&lt;soapenv:Envelope xmlns:soapenv="http://www.w3.org/2003/05/soap-envelope">&lt;soapenv:Header/>&lt;soapenv:Body>&lt;findItemsByKeywordsResponse xmlns="http://www.ebay.com/marketplace/search/v1/services">&lt;ack>Success&lt;/ack>&lt;version>1.12.0&lt;/version>&lt;timestamp>2013-03-29T04:21:59.429Z&lt;/timestamp>&lt;searchResult count="1">&lt;item>&lt;itemId>200910323546&lt;/itemId>&lt;title>Apple iPad 3rd Generation 16GB, Wi-Fi, 9.7in - White Grade B&lt;/title>&lt;globalId>EBAY-US&lt;/globalId>&lt;primaryCategory>&lt;categoryId>171485&lt;/categoryId>&lt;categoryName>iPads, Tablets &amp; eBook Readers&lt;/categoryName>&lt;/primaryCategory>&lt;galleryURL>http://thumbs3.ebaystatic.com/m/mdIP8tQ1uohjPjsWmhz9q8w/140.jpg&lt;/galleryURL>&lt;viewItemURL>http://www.ebay.com/itm/Apple-iPad-3rd-Generation-16GB-Wi-Fi-9-7in-White-Grade-B-/200910323546?pt=US_Tablets&lt;/viewItemURL>&lt;productId type="ReferenceID">109304845&lt;/productId>&lt;paymentMethod>CashOnPickup&lt;/paymentMethod>&lt;paymentMethod>PayPal&lt;/paymentMethod>&lt;autoPay>false&lt;/autoPay>&lt;postalCode>08753&lt;/postalCode>&lt;location>Toms River,NJ,USA&lt;/location>&lt;country>US&lt;/country>&lt;shippingInfo>&lt;shippingServiceCost currencyId="USD">0.0&lt;/shippingServiceCost>&lt;shippingType>Free&lt;/shippingType>&lt;shipToLocations>US&lt;/shipToLocations>&lt;expeditedShipping>false&lt;/expeditedShipping>&lt;oneDayShippingAvailable>false&lt;/oneDayShippingAvailable>&lt;handlingTime>1&lt;/handlingTime>&lt;/shippingInfo>&lt;sellingStatus>&lt;currentPrice currencyId="USD">402.99&lt;/currentPrice>&lt;convertedCurrentPrice currencyId="USD">402.99&lt;/convertedCurrentPrice>&lt;sellingState>Active&lt;/sellingState>&lt;timeLeft>P29DT10H4M7S&lt;/timeLeft>&lt;/sellingStatus>&lt;listingInfo>&lt;bestOfferEnabled>false&lt;/bestOfferEnabled>&lt;buyItNowAvailable>false&lt;/buyItNowAvailable>&lt;startTime>2013-03-28T14:21:06.000Z&lt;/startTime>&lt;endTime>2013-04-27T14:26:06.000Z&lt;/endTime>&lt;listingType>FixedPrice&lt;/listingType>&lt;gift>false&lt;/gift>&lt;/listingInfo>&lt;returnsAccepted>true&lt;/returnsAccepted>&lt;condition>&lt;conditionId>2500&lt;/conditionId>&lt;conditionDisplayName>Seller refurbished&lt;/conditionDisplayName>&lt;/condition>&lt;isMultiVariationListing>false&lt;/isMultiVariationListing>&lt;topRatedListing>true&lt;/topRatedListing>&lt;/item>&lt;/searchResult>&lt;paginationOutput>&lt;pageNumber>1&lt;/pageNumber>&lt;entriesPerPage>1&lt;/entriesPerPage>&lt;totalPages>113843&lt;/totalPages>&lt;totalEntries>113843&lt;/totalEntries>&lt;/paginationOutput>&lt;itemSearchURL>http://www.ebay.com/sch/i.html?&lt;em>nkw=iPad+3&amp;&lt;/em>ddo=1&amp;&lt;em>ipg=1&amp;&lt;/em>pgn=1&lt;/itemSearchURL>&lt;/findItemsByKeywordsResponse>&lt;/soapenv:Body>&lt;/soapenv:Envelope>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>let's also try a soap fault case, for example, if you forget to fill in your <code>eBayAppId</code> in the shared client, then you will get:
<img class="center" src="/images/pico/tutorial03/screen_shot2.png" width="300" height="500"></p>

<p>This is just a bare minimum eBay Finding service based application, for a demo with more functions, please see the eBayDemoApp sample in the <code>Examples</code> folder of Pico source, eBayDemoApp is a composite app which calls two eBay serivces behind, this app searches eBay by calling eBay Fining service, showes a list of matched items on UI, when an item is clicked, it will show item details by calling eBay Shopping service, see a screen shot below.</p>

<p><img class="center" src="/images/pico/tutorial03/screen_shot3.png" width="300" height="500"></p>

<p>Now it's your turn to create iOS applications based on eBay Finding web serivce, see your next great serivce based app.</p>

<h3>Update 1</h3>

<p>The eBay Finding Service Proxy has been extracted as a standalone project, hosted <a href="https://github.com/bulldog2011/PicoEBayFindingClient">here</a>, and the corresponding appledoc is hosted <a href="http://bulldog2011.github.com/PicoEBayFindingClient/">here</a>, the appledoc is a useful programming reference. By the way, the doc annotations in wsdl are not only generted into the proxy code, but into the appledoc, assisting your development.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Pico Tutorial 2 - a Currency Converter Sample]]></title>
    <link href="http://bulldog2011.github.com/blog/2013/03/28/pico-tutorial-2-a-currency-converter-sample/"/>
    <updated>2013-03-28T20:38:00+08:00</updated>
    <id>http://bulldog2011.github.com/blog/2013/03/28/pico-tutorial-2-a-currency-converter-sample</id>
    <content type="html"><![CDATA[<p>This is the second tutorial of Pico Tutorial series, in the <a href="http://bulldog2011.github.com/blog/2013/03/27/pico-tutorial-a-stockquote-sample/">first tutorial</a>, I showed how to use Pico with a service called <a href="http://www.webservicex.net/ws/WSDetails.aspx?CATID=2&amp;WSID=9">StockQuote</a> from webserivceX.NET. Today I will show you how to use Pico with another service called <a href="http://www.webservicex.net/ws/WSDetails.aspx?CATID=2&amp;WSID=10">CurrencyConverter</a>, also from webserviceX.NET, in first tutorial, I showed you how to reference Pico as a static library, in this tutorial, I will show you how to reference the Pico source in your project. By the way, since the wsdl driven development process in both tutorials are quite similar, I won't repeat too much details in this tutorial, I suppose you have already read tutorial one and basically understand the wsdl driven development process supported by Pico.</p>

<p>The whole source of this tutorial is <a href="https://github.com/bulldog2011/pico/tree/master/Examples/CurrencyConverter">here</a>.</p>

<p>Let's cut to to the point:</p>

<!--more-->


<h2>Step 1 - Generate Objective-C Proxy from WSDL</h2>

<p>Download <a href="https://github.com/bulldog2011/mwsc">mwsc</a> and run following command in terminal to generate the proxy:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>bin/mwsc -pico -d generated http://www.webservicex.net/CurrencyConvertor.asmx?WSDL&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>A few comments to the generated code:</p>

<blockquote><ul>
<li>By default, the proxy code will be generated in the sub-folder corresponding to the target namespace of the wsdl.</li>
<li>There is a geneated folder called <code>client</code>, the SOAP and XML proxy interface will be generated in this folder.</li>
<li>There is a generted folder called <code>common</code>, a common header file will be generated in this folder, the common header includes headers of all types generated from wsdl/schema, use this header file can free you from writing many import statements in your project when you build request or handle response needed by service call.</li>
</ul>
</blockquote>

<h2>Step 2 - Create New iOS Project, Add Pico Library and Generated Proxy into Your Project</h2>

<p>Create a new simple iOS single view application named "CurrencyConverter", don't choose ARC, download Pico source and drag the whole <code>PicoSource</code> folder into the project, choose "Copy items to destination group's folder" and "add to targets" when prompted. Then do following settings to the project:</p>

<blockquote><ol>
<li>In Target Build Setting, add the <code>-ObjC</code> flag to your "Other Linker flags".</li>
<li>In Target Build Setting, add <code>/usr/include/libxml2</code> to your "Header Search Paths"</li>
<li>In Target Build Phases, link binary with library <code>libxml2.dylib</code></li>
</ol>
</blockquote>

<p>Build the the project to ensure that it can build successfully.</p>

<p>Now drag the proxy generated in step 1 into the project,  choose "Copy items to destination group's folder" and "add to targets" when prompted.</p>

<p>Build the the project again to ensure that it can build successfully.</p>

<p>The finished project should look like the screen shot below:</p>

<p><img class="center" src="/images/pico/tutorial02/screen_shot1.png" width="600" height="800"></p>

<h2>Step 3 - Implement Appliction Logic and UI, Call Proxy to Invoke Web Service as Needed.</h2>

<p>First, create a shared serivice client as below:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>CurrencyConverterSerivceClient.h </span><a href='https://github.com/bulldog2011/pico/blob/master/Examples/CurrencyConverter/CurrencyConverter/CurrencyConverterSerivceClient.h'>source </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;CurrencyConvertorSoap_SOAPClient.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">@interface</span> <span class="nc">CurrencyConverterSerivceClient</span> : <span class="nc">CurrencyConvertorSoap_SOAPClient</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">ul</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="n">li</span><span class="o">&gt;</span><span class="p">(</span><span class="n">CurrencyConverterSerivceClient</span> <span class="o">*</span><span class="p">)</span><span class="n">sharedClient</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">@end</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>CurrencyConverterSerivceClient.m </span><a href='https://github.com/bulldog2011/pico/blob/master/Examples/CurrencyConverter/CurrencyConverter/CurrencyConverterSerivceClient.m'>source  </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;CurrencyConverterSerivceClient.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">static</span> <span class="n">NSString</span> <span class="o">*</span><span class="k">const</span> <span class="n">currencyConverterServiceURLString</span> <span class="o">=</span> <span class="s">@&quot;http://www.webservicex.net/CurrencyConvertor.asmx&quot;</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">@implementation</span> <span class="nc">CurrencyConverterSerivceClient</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">ul</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="n">li</span><span class="o">&gt;</span><span class="p">(</span><span class="n">CurrencyConverterSerivceClient</span> <span class="o">&lt;</span><span class="n">em</span><span class="o">&gt;</span><span class="p">)</span><span class="n">sharedClient</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">static</span> <span class="n">CurrencyConverterSerivceClient</span> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="n">_sharedClient</span> <span class="o">=</span> <span class="nb">nil</span><span class="p">;</span>
</span><span class='line'>  <span class="k">static</span> <span class="n">dispatch_once_t</span> <span class="n">onceToken</span><span class="p">;</span>
</span><span class='line'>  <span class="n">dispatch_once</span><span class="p">(</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="n">onceToken</span><span class="p">,</span> <span class="o">^</span><span class="p">{</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="n">_sharedClient</span> <span class="o">=</span> <span class="p">[[</span><span class="n">CurrencyConverterSerivceClient</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithEndpointURL:</span><span class="p">[</span><span class="n">NSURL</span> <span class="nl">URLWithString:</span><span class="n">currencyConverterServiceURLString</span><span class="p">]];</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="p">});</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="k">return</span> <span class="n">_sharedClient</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">@end</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Now open ViewController_iPhone.xib in interface builder, then add a few UI components like following screen shot:</p>

<p><img class="center" src="/images/pico/tutorial02/ui.png" width="300" height="500"></p>

<p>Add <code>IBOutlet</code> properties and <code>IBAction</code> method in <a href="https://github.com/bulldog2011/pico/blob/master/Examples/CurrencyConverter/CurrencyConverter/ViewController.h">ViewController.h</a>, then wire the properties and method with UI components accordingly, bascially, the application will convert the <code>From</code> currency to <code>To</code> currency and show conversion rate, when the <code>Convert</code> button is clicked(which will trigger <code>onConvertClicked</code> method internally).</p>

<p>Now implement the <code>onConvertClicked</code> method by invoking service as below:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>ViewController.m </span><a href='https://github.com/bulldog2011/pico/blob/master/Examples/CurrencyConverter/CurrencyConverter/ViewController.m'>source  </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;ViewController.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;CurrencyConverterSerivceClient.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">import</span> <span class="s">&quot;SOAP11Fault.h&quot;</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="n">pragma</span> <span class="n">mark</span> <span class="o">-</span> <span class="n">UI</span> <span class="n">Event</span> <span class="n">Handlers</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">ul</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="n">li</span><span class="o">&gt;&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="p">(</span><span class="kt">IBAction</span><span class="p">)</span><span class="nl">onConvertClicked:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="n">sender</span> <span class="p">{</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">self</span><span class="p">.</span><span class="n">fromCurrencyTextField</span><span class="p">.</span><span class="n">text</span><span class="p">.</span><span class="n">length</span> <span class="o">||</span> <span class="o">!</span><span class="n">self</span><span class="p">.</span><span class="n">toCurrencyTextField</span><span class="p">.</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="n">UIAlertView</span><span class="o">*</span> <span class="n">alert</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UIAlertView</span> <span class="n">alloc</span><span class="p">]</span><span class="nl">initWithTitle:</span><span class="s">@&quot;Invalid Parameters&quot;</span> <span class="nl">message:</span><span class="s">@&quot;Please enter valid from and to currency types and try again&quot;</span> <span class="nl">delegate:</span><span class="n">self</span> <span class="nl">cancelButtonTitle:</span><span class="s">@&quot;OK&quot;</span> <span class="nl">otherButtonTitles:</span> <span class="nb">nil</span><span class="p">];</span>
</span><span class='line'>  <span class="p">[</span><span class="n">alert</span> <span class="n">show</span><span class="p">];</span>
</span><span class='line'>  <span class="k">return</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="p">}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">activityIndicator</span> <span class="nl">setHidden:</span><span class="n">NO</span><span class="p">];</span>
</span><span class='line'>  <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">activityIndicator</span> <span class="n">startAnimating</span><span class="p">];</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="c1">// Get shared client</span>
</span><span class='line'>  <span class="n">CurrencyConverterSerivceClient</span> <span class="o">*</span><span class="n">client</span> <span class="o">=</span> <span class="p">[</span><span class="n">CurrencyConverterSerivceClient</span> <span class="n">sharedClient</span><span class="p">];</span>
</span><span class='line'>  <span class="n">client</span><span class="p">.</span><span class="n">debug</span> <span class="o">=</span> <span class="n">YES</span><span class="p">;</span> <span class="c1">// enable message logging</span>
</span><span class='line'>  <span class="n">client</span><span class="p">.</span><span class="n">timeoutInverval</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span> <span class="c1">// http timeout in seconds&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="c1">// build request</span>
</span><span class='line'>  <span class="n">ConversionRate</span> <span class="o">*</span><span class="n">request</span> <span class="o">=</span> <span class="p">[[[</span><span class="n">ConversionRate</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">]</span> <span class="n">autorelease</span><span class="p">];</span>
</span><span class='line'>  <span class="n">request</span><span class="p">.</span><span class="n">fromCurrency</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">fromCurrencyTextField</span><span class="p">.</span><span class="n">text</span><span class="p">;</span>
</span><span class='line'>  <span class="n">request</span><span class="p">.</span><span class="n">toCurrency</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">toCurrencyTextField</span><span class="p">.</span><span class="n">text</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="c1">// make API call</span>
</span><span class='line'>  <span class="p">[</span><span class="n">client</span> <span class="nl">conversionRate:</span><span class="n">request</span> <span class="nl">success:</span><span class="o">&lt;</span><span class="n">sup</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ConversionRateResponse</span><span class="o">&lt;/</span><span class="n">sup</span><span class="o">&gt;</span> <span class="o">*</span><span class="n">responseObject</span><span class="p">)</span> <span class="p">{</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="c1">// success handling logic</span>
</span><span class='line'>  <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">activityIndicator</span> <span class="n">stopAnimating</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">UIAlertView</span><span class="o">*</span> <span class="n">alert</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UIAlertView</span> <span class="n">alloc</span><span class="p">]</span><span class="nl">initWithTitle:</span><span class="s">@&quot;Success!&quot;</span> <span class="nl">message:</span><span class="p">[</span><span class="n">NSString</span> <span class="nl">stringWithFormat:</span><span class="s">@&quot;Currency Conversion Rate is %@&quot;</span><span class="p">,</span><span class="n">responseObject</span><span class="p">.</span><span class="n">conversionRateResult</span><span class="p">]</span> <span class="nl">delegate:</span><span class="n">self</span> <span class="nl">cancelButtonTitle:</span><span class="s">@&quot;OK&quot;</span> <span class="nl">otherButtonTitles:</span> <span class="nb">nil</span><span class="p">];</span>
</span><span class='line'>  <span class="p">[</span><span class="n">alert</span> <span class="n">show</span><span class="p">];</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="p">}</span> <span class="nl">failure:</span><span class="o">&lt;</span><span class="n">sup</span><span class="o">&gt;</span><span class="p">(</span><span class="n">NSError</span><span class="o">&lt;/</span><span class="n">sup</span><span class="o">&gt;</span> <span class="o">*</span><span class="n">error</span><span class="p">,</span> <span class="kt">id</span><span class="o">&lt;</span><span class="n">PicoBindable</span><span class="o">&gt;</span> <span class="n">soapFault</span><span class="p">)</span> <span class="p">{</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span>  <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">activityIndicator</span> <span class="n">stopAnimating</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// error handling logic</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// http or parsing error</span>
</span><span class='line'>      <span class="n">UIAlertView</span><span class="o">*</span> <span class="n">alert</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UIAlertView</span> <span class="n">alloc</span><span class="p">]</span><span class="nl">initWithTitle:</span><span class="s">@&quot;Error&quot;</span> <span class="nl">message:</span><span class="n">error</span><span class="p">.</span><span class="n">localizedDescription</span> <span class="nl">delegate:</span><span class="n">self</span> <span class="nl">cancelButtonTitle:</span><span class="s">@&quot;OK&quot;</span> <span class="nl">otherButtonTitles:</span> <span class="nb">nil</span><span class="p">];</span>
</span><span class='line'>      <span class="p">[</span><span class="n">alert</span> <span class="n">show</span><span class="p">];</span>
</span><span class='line'>  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">soapFault</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// soap fault</span>
</span><span class='line'>      <span class="n">SOAP11Fault</span> <span class="o">*</span><span class="n">soap11Fault</span> <span class="o">=</span> <span class="p">(</span><span class="n">SOAP11Fault</span> <span class="o">*</span><span class="p">)</span><span class="n">soapFault</span><span class="p">;</span>
</span><span class='line'>      <span class="n">UIAlertView</span><span class="o">*</span> <span class="n">alert</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UIAlertView</span> <span class="n">alloc</span><span class="p">]</span><span class="nl">initWithTitle:</span><span class="s">@&quot;SOAP Fault&quot;</span> <span class="nl">message:</span><span class="n">soap11Fault</span><span class="p">.</span><span class="n">faultstring</span> <span class="nl">delegate:</span><span class="n">self</span> <span class="nl">cancelButtonTitle:</span><span class="s">@&quot;OK&quot;</span> <span class="nl">otherButtonTitles:</span> <span class="nb">nil</span><span class="p">];</span>
</span><span class='line'>      <span class="p">[</span><span class="n">alert</span> <span class="n">show</span><span class="p">];</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="p">}];</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Please don't forget to include the shared CurrencyConverterSerivceClient.</p>

<h2>Final Step - Run the Demo</h2>

<p>See a sceen shot below:</p>

<p><img class="center" src="/images/pico/tutorial02/screen_shot2.png" width="300" height="500"></p>

<p>And the debug output:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>2013-03-28 21:45:27.641 CurrencyConverter[2153:c07] Sending request to : http://www.webservicex.net/CurrencyConvertor.asmx
</span><span class='line'>2013-03-28 21:45:27.642 CurrencyConverter[2153:c07] Request message:
</span><span class='line'>2013-03-28 21:45:27.643 CurrencyConverter[2153:c07] &lt;?xml version="1.0" encoding="UTF-8" ?>
</span><span class='line'>&lt;soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://www.webserviceX.NET/">&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;pre>&lt;code>&lt;soapenv:Body&gt;
</span><span class='line'>    &lt;ConversionRate&gt;
</span><span class='line'>        &lt;FromCurrency&gt;USD&lt;/FromCurrency&gt;
</span><span class='line'>        &lt;ToCurrency&gt;CAD&lt;/ToCurrency&gt;
</span><span class='line'>    &lt;/ConversionRate&gt;
</span><span class='line'>&lt;/soapenv:Body&gt;
</span><span class='line'>&lt;/code>&lt;/pre>
</span><span class='line'>
</span><span class='line'>&lt;p>&lt;/soapenv:Envelope>
</span><span class='line'>2013-03-28 21:45:27.643 CurrencyConverter[2153:c07] Request HTTP Headers :
</span><span class='line'>{&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;pre>&lt;code>Accept = "text/xml";
</span><span class='line'>"Accept-Language" = "en, fr, de, ja, nl, it, es, pt, pt-PT, da, fi, nb, sv, ko, zh-Hans, zh-Hant, ru, pl, tr, uk, ar, hr, cs, el, he, ro, sk, th, id, ms, en-GB, ca, hu, vi, en-us;q=0.8";
</span><span class='line'>"Content-Type" = "text/xml";
</span><span class='line'>SOAPAction = "http://www.webserviceX.NET/ConversionRate";
</span><span class='line'>"User-Agent" = "CurrencyConverter/1.0 (iPhone Simulator; iOS 6.0; Scale/1.00)";
</span><span class='line'>&lt;/code>&lt;/pre>
</span><span class='line'>
</span><span class='line'>&lt;p>}
</span><span class='line'>2013-03-28 21:45:28.495 CurrencyConverter[2153:1b03] Response HTTP status :
</span><span class='line'>200
</span><span class='line'>2013-03-28 21:45:28.495 CurrencyConverter[2153:1b03] Response HTTP headers :
</span><span class='line'>{&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;pre>&lt;code>"Cache-Control" = "private, max-age=0";
</span><span class='line'>"Content-Encoding" = gzip;
</span><span class='line'>"Content-Length" = 316;
</span><span class='line'>"Content-Type" = "text/xml; charset=utf-8";
</span><span class='line'>Date = "Thu, 28 Mar 2013 13:45:47 GMT";
</span><span class='line'>Server = "Microsoft-IIS/7.0";
</span><span class='line'>Vary = "Accept-Encoding";
</span><span class='line'>"X-AspNet-Version" = "4.0.30319";
</span><span class='line'>"X-Powered-By" = "ASP.NET";
</span><span class='line'>&lt;/code>&lt;/pre>
</span><span class='line'>
</span><span class='line'>&lt;p>}
</span><span class='line'>2013-03-28 21:45:28.495 CurrencyConverter[2153:5503] Response message :
</span><span class='line'>2013-03-28 21:45:28.495 CurrencyConverter[2153:5503] &lt;?xml version="1.0" encoding="utf-8"?>&lt;soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">&lt;soap:Body>&lt;ConversionRateResponse xmlns="http://www.webserviceX.NET/">&lt;ConversionRateResult>1.0167&lt;/ConversionRateResult>&lt;/ConversionRateResponse>&lt;/soap:Body>&lt;/soap:Envelope>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>There are other similar demos in the <a href="https://github.com/bulldog2011/pico/tree/master/Examples">Examples</a> folder of Pico source, like the <a href="https://github.com/bulldog2011/pico/tree/master/Examples/BarCode">BarCode</a> demo which calls web service that will return base64 encoded barcode data and the <a href="https://github.com/bulldog2011/pico/tree/master/Examples/Weather">Weather</a> demo which shows the weather given a zip code, see screen shots below, I won't create tuturials for all these simple demos, since they are quite similar. Next time, I plan to show you how to use Pico with industrial level web serivces, like Amazon and eBay web serivces, just stay tuned.</p>

<p>The screen shot of barcode demo:
<img class="center" src="/images/pico/tutorial02/screen_shot3.png" width="300" height="500"></p>

<p>The screen shot of weather demo:
<img class="center" src="/images/pico/tutorial02/screen_shot4.png" width="300" height="500"></p>
]]></content>
  </entry>
  
</feed>
