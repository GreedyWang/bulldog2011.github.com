<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: nano | Abstraction Builder]]></title>
  <link href="http://bulldog2011.github.com/blog/categories/nano/atom.xml" rel="self"/>
  <link href="http://bulldog2011.github.com/"/>
  <updated>2013-04-19T19:17:36+08:00</updated>
  <id>http://bulldog2011.github.com/</id>
  <author>
    <name><![CDATA[Bulldog]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Nano Tutorial 5 - Hello Amazon Product Advertising API]]></title>
    <link href="http://bulldog2011.github.com/blog/2013/04/18/nano-tutorial-5-hello-amazon-product-advertising-api/"/>
    <updated>2013-04-18T19:18:00+08:00</updated>
    <id>http://bulldog2011.github.com/blog/2013/04/18/nano-tutorial-5-hello-amazon-product-advertising-api</id>
    <content type="html"><![CDATA[<p>This is the fifth tutorial of Nano tutorial series, in this tutorial, I will show you how to integrate <a href="https://github.com/bulldog2011/nano">Nano</a> with <a href="https://affiliate-program.amazon.com/gp/advertising/api/detail/main.html">Amazon Product Advertising API</a>, if you are not familiar with this API, just have a quick review on its official site, basically, the Product Advertising API provides programmatic access to Amazon's product selection and discovery functionality so that developers like you can advertise Amazon products to monetize your website. In this tutorial, I will show you how to add custom SOAP header which is required by the authentication of Amazon Product Advertising API.</p>

<!--more-->


<p><strong><em>NOTE</em></strong></p>

<p>Per Amazon:</p>

<p><blockquote><p>You will not, without our express prior written approval, use any Product Advertising Content on or in connection with any site or application designed or intended for use with a mobile phone or other handheld device.</p></blockquote></p>

<p>So please consult Amazon for permission before you can use its Product Advertising Content on any Android devices.</p>

<p>The source of this tutorial is <a href="https://github.com/bulldog2011/nano/tree/master/sample/webservice/HelloAmazonProductAdvertising">here</a>.</p>

<h2>Step 0 - Prerequisite</h2>

<p>I suppose you have already read previous Nano tutorials, at least 1 and 2, and basically you should know:</p>

<blockquote><ul>
<li>The wsdl driven development process supported by Nano.</li>
<li>How to add the Nano library and the generated service proxy into your Android project.</li>
</ul>
</blockquote>

<h2>Step 1 - Generate Java Proxy from WSDL</h2>

<p>Download <a href="https://github.com/bulldog2011/mwsc">mwsc</a> and run following command in terminal to generate the proxy:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>bin\mwsc.bat -nano -d generated http://webservices.amazon.com/AWSECommerceService/AWSECommerceService.wsdl&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Depends on the network speed, you may need to wait a few moments to let the code generator download the wsdl and generate code, you may also download the wsdl and run the code generator with a local wsdl.</p>

<h2>Step 2 - Create New Android Project, Add Nano Library and Generated Proxy into Your Project</h2>

<p>Create a simple Android project called <code>HelloAmazonProductAdvertising</code> in eclipse(or other IDE you prefer), then:</p>

<blockquote><ol>
<li>Download <a href="https://github.com/bulldog2011/bulldog-repo/blob/master/repo/releases/com/leansoft/nano/0.7.0/nano-0.7.0.jar">latest nano library jar</a> and add it to the <code>libs</code> folder of your Android project.</li>
<li>Drag the above generated proxy into the <code>src</code> folder of your Android project.</li>
<li>Add following user permissions in the <code>AndroidManifest.xml</code> file to enable network access. <br/>
<code>xml
 &lt;uses-permission android:name="android.permission.INTERNET" /&gt;
 &lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /&gt;
</code></li>
</ol>
</blockquote>

<p>Now build the project to ensure it can build successfully.</p>

<p>The code generation will generate both SOAP and XML based interfaces from Amazon Product Advertising wsdl for us,
since we will use SOAP based interface in this tutorial, you may now review the generated Amazon Product Advertising SOAP interface(in the generated <code>client</code> sub-folder) to learn what kind of functions are provided by Amazon Product Advertising service, and what kind of parameters are needed to call the service, the interface is posted below:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>AWSECommerceServicePortType_SOAPClient.java </span><a href='https://github.com/bulldog2011/nano/blob/master/sample/webservice/HelloAmazonProductAdvertising/src/com/amazon/webservices/awsecommerceservice/_2011_08_01/client/AWSECommerceServicePortType_SOAPClient.java'>source </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="c1">// Generated by wsdl compiler for android/java</span>
</span><span class='line'><span class="c1">// DO NOT CHANGE!</span>
</span><span class='line'><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">amazon</span><span class="o">.</span><span class="na">webservices</span><span class="o">.</span><span class="na">awsecommerceservice</span><span class="o">.</span><span class="na">_2011_08_01</span><span class="o">.</span><span class="na">client</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">com.leansoft.nano.ws.SOAPServiceCallback</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.leansoft.nano.ws.NanoSOAPClient</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.amazon.webservices.awsecommerceservice.</span><span class="o">&lt;</span><span class="n">em</span><span class="o">&gt;</span><span class="mi">2011</span><span class="n">_08_01</span><span class="o">.</span><span class="na">CartClear</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.amazon.webservices.awsecommerceservice.</span><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="mi">2011</span><span class="n">_08_01</span><span class="o">.</span><span class="na">CartModify</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.amazon.webservices.awsecommerceservice.</span><span class="o">&lt;</span><span class="n">em</span><span class="o">&gt;</span><span class="mi">2011</span><span class="n">_08_01</span><span class="o">.</span><span class="na">SimilarityLookup</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.amazon.webservices.awsecommerceservice.</span><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="mi">2011</span><span class="n">_08_01</span><span class="o">.</span><span class="na">SimilarityLookupResponse</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.amazon.webservices.awsecommerceservice.</span><span class="o">&lt;</span><span class="n">em</span><span class="o">&gt;</span><span class="mi">2011</span><span class="n">_08_01</span><span class="o">.</span><span class="na">ItemSearch</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.amazon.webservices.awsecommerceservice.</span><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="mi">2011</span><span class="n">_08_01</span><span class="o">.</span><span class="na">ItemSearchResponse</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.amazon.webservices.awsecommerceservice.</span><span class="o">&lt;</span><span class="n">em</span><span class="o">&gt;</span><span class="mi">2011</span><span class="n">_08_01</span><span class="o">.</span><span class="na">CartClearResponse</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.amazon.webservices.awsecommerceservice.</span><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="mi">2011</span><span class="n">_08_01</span><span class="o">.</span><span class="na">CartGet</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.amazon.webservices.awsecommerceservice.</span><span class="o">&lt;</span><span class="n">em</span><span class="o">&gt;</span><span class="mi">2011</span><span class="n">_08_01</span><span class="o">.</span><span class="na">ItemLookup</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.amazon.webservices.awsecommerceservice.</span><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="mi">2011</span><span class="n">_08_01</span><span class="o">.</span><span class="na">BrowseNodeLookup</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.amazon.webservices.awsecommerceservice.</span><span class="o">&lt;</span><span class="n">em</span><span class="o">&gt;</span><span class="mi">2011</span><span class="n">_08_01</span><span class="o">.</span><span class="na">ItemLookupResponse</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.amazon.webservices.awsecommerceservice.</span><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="mi">2011</span><span class="n">_08_01</span><span class="o">.</span><span class="na">CartAdd</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.amazon.webservices.awsecommerceservice.</span><span class="o">&lt;</span><span class="n">em</span><span class="o">&gt;</span><span class="mi">2011</span><span class="n">_08_01</span><span class="o">.</span><span class="na">CartAddResponse</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.amazon.webservices.awsecommerceservice.</span><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="mi">2011</span><span class="n">_08_01</span><span class="o">.</span><span class="na">CartGetResponse</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.amazon.webservices.awsecommerceservice.</span><span class="o">&lt;</span><span class="n">em</span><span class="o">&gt;</span><span class="mi">2011</span><span class="n">_08_01</span><span class="o">.</span><span class="na">CartCreate</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.amazon.webservices.awsecommerceservice.</span><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="mi">2011</span><span class="n">_08_01</span><span class="o">.</span><span class="na">BrowseNodeLookupResponse</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.amazon.webservices.awsecommerceservice.</span><span class="o">&lt;</span><span class="n">em</span><span class="o">&gt;</span><span class="mi">2011</span><span class="n">_08_01</span><span class="o">.</span><span class="na">CartCreateResponse</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.amazon.webservices.awsecommerceservice.</span><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="mi">2011</span><span class="n">_08_01</span><span class="o">.</span><span class="na">CartModifyResponse</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;*</span>
</span><span class='line'> <span class="n">This</span> <span class="kd">class</span> <span class="nc">is</span> <span class="n">the</span> <span class="n">SOAP</span> <span class="n">client</span> <span class="n">to</span> <span class="n">the</span> <span class="n">AWSECommerceServicePortType</span> <span class="n">Web</span> <span class="n">Service</span><span class="o">.</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">AWSECommerceServicePortType_SOAPClient</span> <span class="kd">extends</span> <span class="n">NanoSOAPClient</span> <span class="o">{&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">itemSearch</span><span class="o">(</span><span class="n">ItemSearch</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">SOAPServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">ItemSearchResponse</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">ItemSearchResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">itemLookup</span><span class="o">(</span><span class="n">ItemLookup</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">SOAPServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">ItemLookupResponse</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">ItemLookupResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">browseNodeLookup</span><span class="o">(</span><span class="n">BrowseNodeLookup</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">SOAPServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">BrowseNodeLookupResponse</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">BrowseNodeLookupResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">similarityLookup</span><span class="o">(</span><span class="n">SimilarityLookup</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">SOAPServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">SimilarityLookupResponse</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">SimilarityLookupResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">cartGet</span><span class="o">(</span><span class="n">CartGet</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">SOAPServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">CartGetResponse</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">CartGetResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">cartCreate</span><span class="o">(</span><span class="n">CartCreate</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">SOAPServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">CartCreateResponse</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">CartCreateResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">cartAdd</span><span class="o">(</span><span class="n">CartAdd</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">SOAPServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">CartAddResponse</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">CartAddResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">cartModify</span><span class="o">(</span><span class="n">CartModify</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">SOAPServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">CartModifyResponse</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">CartModifyResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">cartClear</span><span class="o">(</span><span class="n">CartClear</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">SOAPServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">CartClearResponse</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">CartClearResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>All the methods in the interface follow same calling paradigm - you call the service with required request object and a callback object implementing interface <a href="https://github.com/bulldog2011/nano/blob/master/src/main/java/com/leansoft/nano/ws/SOAPServiceCallback.java">SOAPServiceCallback</a>.</p>

<h2>Step 3 - Implement Appliction Logic and UI, Call Proxy to Invoke Web Service as Needed.</h2>

<p>First, create a shared service client as below:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>AWSECommerceClient.java </span><a href='https://github.com/bulldog2011/nano/blob/master/sample/webservice/HelloAmazonProductAdvertising/src/com/amazon/service/ecommerce/AWSECommerceClient.java'>source </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
<span class='line-number'>157</span>
<span class='line-number'>158</span>
<span class='line-number'>159</span>
<span class='line-number'>160</span>
<span class='line-number'>161</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">amazon</span><span class="o">.</span><span class="na">service</span><span class="o">.</span><span class="na">ecommerce</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">java.io.UnsupportedEncodingException</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.security.InvalidKeyException</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.security.NoSuchAlgorithmException</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.text.SimpleDateFormat</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.util.Calendar</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.util.TimeZone</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">javax.crypto.Mac</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.crypto.spec.SecretKeySpec</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.xml.parsers.DocumentBuilder</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.xml.parsers.DocumentBuilderFactory</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.xml.parsers.ParserConfigurationException</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">org.w3c.dom.Document</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">org.w3c.dom.Element</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">com.amazon.webservices.awsecommerceservice._2011_08_01.client.AWSECommerceServicePortType_SOAPClient</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.leansoft.nano.util.Base64</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">AWSECommerceClient</span> <span class="o">{&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="cm">/**</span>
</span><span class='line'><span class="cm">    Update url according to your local location, see a list of supported location at the end of the wsdl:</span>
</span><span class='line'><span class="cm">    http://webservices.amazon.com/AWSECommerceService/AWSECommerceService.wsdl</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">AWSCEServiceURLString</span> <span class="o">=</span> <span class="s">&quot;https://webservices.amazon.com/onca/soap?Service=AWSECommerceService&quot;</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/** Use this to specify the AWS Access Key ID */</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">AWSAccessKeyId</span> <span class="o">=</span> <span class="s">&quot;YOUR ACCESS KEY HERE&quot;</span><span class="o">;</span>
</span><span class='line'><span class="cm">/** Use this to specify the AWS Secret Key */</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">AWSSecureKeyId</span> <span class="o">=</span> <span class="s">&quot;YOUR SECURE KEY HERE&quot;</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/** Namespace for all AWS Security elements */</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">AuthHeaderNS</span> <span class="o">=</span> <span class="s">&quot;http://security.amazonaws.com/doc/2007-01-01/&quot;</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kd">private</span> <span class="kd">static</span> <span class="n">AWSECommerceServicePortType_SOAPClient</span> <span class="n">client</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/** Algorithm used to calculate string hashes */</span>
</span><span class='line'><span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">SIGNATURE_ALGORITHM</span> <span class="o">=</span> <span class="s">&quot;HmacSHA256&quot;</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kd">private</span> <span class="kd">static</span> <span class="n">Mac</span> <span class="n">mac</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kd">public</span> <span class="kd">static</span> <span class="n">AWSECommerceServicePortType_SOAPClient</span> <span class="nf">getSharedClient</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="o">(</span><span class="n">client</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="kd">synchronized</span><span class="o">(</span><span class="n">AWSECommerceClient</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">if</span> <span class="o">(</span><span class="n">client</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AWSECommerceServicePortType_SOAPClient</span><span class="o">();</span>
</span><span class='line'>                <span class="n">client</span><span class="o">.</span><span class="na">setEndpointUrl</span><span class="o">(</span><span class="n">AWSCEServiceURLString</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>                <span class="c1">// init security</span>
</span><span class='line'>                <span class="k">try</span> <span class="o">{</span>
</span><span class='line'>                    <span class="kt">byte</span><span class="o">[]</span> <span class="n">bytes</span> <span class="o">=</span> <span class="n">AWSSecureKeyId</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="s">&quot;UTF-8&quot;</span><span class="o">);</span>
</span><span class='line'>                    <span class="n">SecretKeySpec</span> <span class="n">keySpec</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SecretKeySpec</span><span class="o">(</span><span class="n">bytes</span><span class="o">,</span> <span class="n">SIGNATURE_ALGORITHM</span><span class="o">);</span>
</span><span class='line'>                    <span class="n">mac</span> <span class="o">=</span> <span class="n">Mac</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">SIGNATURE_ALGORITHM</span><span class="o">);</span>
</span><span class='line'>                    <span class="n">mac</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">keySpec</span><span class="o">);</span>
</span><span class='line'>                <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">UnsupportedEncodingException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                    <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span><span class="n">e</span><span class="o">);</span>
</span><span class='line'>                <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">NoSuchAlgorithmException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                    <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span><span class="n">e</span><span class="o">);</span>
</span><span class='line'>                <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">InvalidKeyException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                    <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span><span class="n">e</span><span class="o">);</span>
</span><span class='line'>                <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>            <span class="o">}</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">client</span><span class="o">;</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm">Authentication of SOAP request</span>
</span><span class='line'><span class="cm">see details here: http://docs.aws.amazon.com/AWSECommerceService/latest/DG/NotUsingWSSecurity.html</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">authenticateRequest</span><span class="o">(</span><span class="n">String</span> <span class="n">action</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">String</span> <span class="n">timestamp</span> <span class="o">=</span> <span class="n">getTimestamp</span><span class="o">();</span>
</span><span class='line'>    <span class="n">String</span> <span class="n">signature</span> <span class="o">=</span> <span class="n">calculateSignature</span><span class="o">(</span><span class="n">action</span><span class="o">,</span> <span class="n">timestamp</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">List</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">Object</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">securityHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">Object</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;();</span>
</span><span class='line'>    <span class="n">Document</span> <span class="n">document</span> <span class="o">=</span> <span class="n">getDocument</span><span class="o">();</span>
</span><span class='line'>    <span class="n">Element</span> <span class="n">accessKeyElement</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="na">createElementNS</span><span class="o">(</span><span class="n">AuthHeaderNS</span><span class="o">,</span> <span class="s">&quot;AWSAccessKeyId&quot;</span><span class="o">);</span>
</span><span class='line'>    <span class="n">accessKeyElement</span><span class="o">.</span><span class="na">appendChild</span><span class="o">(</span><span class="n">document</span><span class="o">.</span><span class="na">createTextNode</span><span class="o">(</span><span class="n">AWSAccessKeyId</span><span class="o">));</span>
</span><span class='line'>    <span class="n">securityHeaders</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">accessKeyElement</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">Element</span> <span class="n">timestampElement</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="na">createElementNS</span><span class="o">(</span><span class="n">AuthHeaderNS</span><span class="o">,</span> <span class="s">&quot;Timestamp&quot;</span><span class="o">);</span>
</span><span class='line'>    <span class="n">timestampElement</span><span class="o">.</span><span class="na">appendChild</span><span class="o">(</span><span class="n">document</span><span class="o">.</span><span class="na">createTextNode</span><span class="o">(</span><span class="n">timestamp</span><span class="o">));</span>
</span><span class='line'>    <span class="n">securityHeaders</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">timestampElement</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">Element</span> <span class="n">signatureElement</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="na">createElementNS</span><span class="o">(</span><span class="n">AuthHeaderNS</span><span class="o">,</span> <span class="s">&quot;Signature&quot;</span><span class="o">);</span>
</span><span class='line'>    <span class="n">signatureElement</span><span class="o">.</span><span class="na">appendChild</span><span class="o">(</span><span class="n">document</span><span class="o">.</span><span class="na">createTextNode</span><span class="o">(</span><span class="n">signature</span><span class="o">));</span>
</span><span class='line'>    <span class="n">securityHeaders</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">signatureElement</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">client</span><span class="o">.</span><span class="na">setCustomSOAPHeaders</span><span class="o">(</span><span class="n">securityHeaders</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> * Calculates a time stamp from &quot;now&quot; in UTC and returns it in ISO8601 string</span>
</span><span class='line'><span class="cm"> * format. The soap message expires 15 minutes after this time stamp.</span>
</span><span class='line'><span class="cm"> * AWS only supports UTC and it&#39;s canonical representation as &#39;Z&#39; in an</span>
</span><span class='line'><span class="cm"> * ISO8601 time string. E.g.  2008-02-10T23:59:59Z</span>
</span><span class='line'><span class="cm"> * </span>
</span><span class='line'><span class="cm"> * See http://www.w3.org/TR/xmlschema-2/#dateTime for more details.</span>
</span><span class='line'><span class="cm"> * </span>
</span><span class='line'><span class="cm"> * @return ISO8601 time stamp string for &quot;now&quot; in UTC.</span>
</span><span class='line'><span class="cm"> */</span>
</span><span class='line'><span class="kd">private</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">getTimestamp</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">Calendar</span>         <span class="n">calendar</span>  <span class="o">=</span> <span class="n">Calendar</span><span class="o">.</span><span class="na">getInstance</span><span class="o">();</span>
</span><span class='line'>    <span class="n">SimpleDateFormat</span> <span class="n">is08601</span>   <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleDateFormat</span><span class="o">(</span><span class="s">&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">is08601</span><span class="o">.</span><span class="na">setTimeZone</span><span class="o">(</span><span class="n">TimeZone</span><span class="o">.</span><span class="na">getTimeZone</span><span class="o">(</span><span class="s">&quot;UTC&quot;</span><span class="o">));</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">is08601</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">calendar</span><span class="o">.</span><span class="na">getTime</span><span class="o">());</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> * Method borrowed from AWS example code at http://developer.amazonwebservices.com/</span>
</span><span class='line'><span class="cm"> * @param  action The single SOAP body element that is the action the</span>
</span><span class='line'><span class="cm"> *                      request is taking.</span>
</span><span class='line'><span class="cm"> * @param  timestamp  The time stamp string as provided in the &amp;amp;lt;aws:Timestamp&amp;amp;gt;</span>
</span><span class='line'><span class="cm"> *                      header element.</span>
</span><span class='line'><span class="cm"> * @return A hash calculated according to AWS security rules to be provided in the</span>
</span><span class='line'><span class="cm"> *         &amp;amp;lt;aws:signature&amp;amp;gt; header element.</span>
</span><span class='line'><span class="cm"> * @throws Exception If there were errors or missing, required classes when</span>
</span><span class='line'><span class="cm"> *                   trying to calculate the hash.</span>
</span><span class='line'><span class="cm"> */</span>
</span><span class='line'><span class="kd">private</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">calculateSignature</span><span class="o">(</span><span class="n">String</span> <span class="n">action</span><span class="o">,</span> <span class="n">String</span> <span class="n">timestamp</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">String</span> <span class="n">toSign</span> <span class="o">=</span> <span class="o">(</span><span class="n">action</span> <span class="o">+</span> <span class="n">timestamp</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kt">byte</span><span class="o">[]</span> <span class="n">sigBytes</span> <span class="o">=</span> <span class="n">mac</span><span class="o">.</span><span class="na">doFinal</span><span class="o">(</span><span class="n">toSign</span><span class="o">.</span><span class="na">getBytes</span><span class="o">());</span>
</span><span class='line'>    <span class="k">return</span> <span class="k">new</span> <span class="nf">String</span><span class="o">(</span><span class="n">Base64</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="n">sigBytes</span><span class="o">));</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> * Get a W3C XML Document</span>
</span><span class='line'><span class="cm"> * </span>
</span><span class='line'><span class="cm"> * @return a document</span>
</span><span class='line'><span class="cm"> */</span>
</span><span class='line'><span class="kd">private</span> <span class="kd">static</span> <span class="n">Document</span> <span class="nf">getDocument</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="k">try</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">DocumentBuilderFactory</span> <span class="n">dbf</span> <span class="o">=</span> <span class="n">DocumentBuilderFactory</span><span class="o">.</span><span class="na">newInstance</span><span class="o">();</span>
</span><span class='line'>        <span class="n">dbf</span><span class="o">.</span><span class="na">setNamespaceAware</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">DocumentBuilder</span> <span class="n">db</span> <span class="o">=</span> <span class="n">dbf</span><span class="o">.</span><span class="na">newDocumentBuilder</span><span class="o">();</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">db</span><span class="o">.</span><span class="na">newDocument</span><span class="o">();</span>
</span><span class='line'>    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">ParserConfigurationException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span>
</span><span class='line'>                <span class="s">&quot;Failed to create DocumentBuilder!&quot;</span><span class="o">,</span> <span class="n">e</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>The logic to build shared client is a little complex, let me give more comments:</p>

<blockquote><ol>
<li>Amazon Product Advertising API requires per-call request authentication, see details <a href="http://docs.aws.amazon.com/AWSECommerceService/latest/DG/NotUsingWSSecurity.html">here</a>, the authentication logic is implemented in the <code>public static void authenticateRequest(String action)</code> method.</li>
<li>To make the authentication work, you need to fill in your <code>AWSAccessKeyId</code> and <code>AWSSecureKeyId</code> in the shared client, if you are a registered Amazon Product Advertising API developer, you can get these keys from your account on Amazon developer site.</li>
<li>The authentication info is added in the SOAP request as SOAP header, to add SOAP header, we use <code>Document</code>(W3C DOM built in Android) to build header elements, populate the elements with authentication information, then add the header element list on the client, at runtime, Nano will add these elements to the SOAP request message header.</li>
<li>The authentication needs to be done on per-call basis, means everytime you call an Amazon Product Advertising service, you need to authenticate the request before the service call, see sample later.</li>
</ol>
</blockquote>

<p>Now the UI part and application logic, for this hello world like sample, we just need an <code>EditText</code> for book keyword input and a <code>Button</code> to trigger Amazon book search by invoking listening method <code>onClick</code> which will indirectly call Amazon Product Advertising <code>itemSearch</code> API through the proxy, fairly simple, see the full application logic in <code>MainActivity</code> class below:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>MainActivity.java </span><a href='https://github.com/bulldog2011/nano/blob/master/sample/webservice/HelloAmazonProductAdvertising/src/com/leansoft/nano/sample/MainActivity.java'>source  </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">leansoft</span><span class="o">.</span><span class="na">nano</span><span class="o">.</span><span class="na">sample</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">com.amazon.service.ecommerce.AWSECommerceClient</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.amazon.webservices.awsecommerceservice.</span><span class="o">&lt;</span><span class="n">em</span><span class="o">&gt;</span><span class="mi">2011</span><span class="n">_08_01</span><span class="o">.</span><span class="na">Errors</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.amazon.webservices.awsecommerceservice.</span><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="mi">2011</span><span class="n">_08_01</span><span class="o">.</span><span class="na">Item</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.amazon.webservices.awsecommerceservice.</span><span class="o">&lt;</span><span class="n">em</span><span class="o">&gt;</span><span class="mi">2011</span><span class="n">_08_01</span><span class="o">.</span><span class="na">ItemSearch</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.amazon.webservices.awsecommerceservice.</span><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="mi">2011</span><span class="n">_08_01</span><span class="o">.</span><span class="na">ItemSearchRequest</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.amazon.webservices.awsecommerceservice.</span><span class="o">&lt;</span><span class="n">em</span><span class="o">&gt;</span><span class="mi">2011</span><span class="n">_08_01</span><span class="o">.</span><span class="na">ItemSearchResponse</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.amazon.webservices.awsecommerceservice.</span><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;</span><span class="mi">2011</span><span class="n">_08_01</span><span class="o">.</span><span class="na">Items</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.amazon.webservices.awsecommerceservice._2011_08_01.client.AWSECommerceServicePortType_SOAPClient</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.leansoft.nano.ws.SOAPServiceCallback</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.app.Activity</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.view.View</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.view.View.OnClickListener</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.widget.Button</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.widget.EditText</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.widget.Toast</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="n">Activity</span> <span class="o">{&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="nd">@Override</span>
</span><span class='line'><span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
</span><span class='line'>    <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">Button</span> <span class="n">searchButton</span> <span class="o">=</span> <span class="o">(</span><span class="n">Button</span><span class="o">)</span> <span class="k">this</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">search_button</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">searchButton</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>        <span class="nd">@Override</span>
</span><span class='line'>        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">arg0</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="c1">// Get shared client</span>
</span><span class='line'>            <span class="n">AWSECommerceServicePortType_SOAPClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">AWSECommerceClient</span><span class="o">.</span><span class="na">getSharedClient</span><span class="o">();</span>
</span><span class='line'>            <span class="n">client</span><span class="o">.</span><span class="na">setDebug</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>            <span class="c1">// Build request</span>
</span><span class='line'>            <span class="n">ItemSearch</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ItemSearch</span><span class="o">();</span>
</span><span class='line'>            <span class="n">request</span><span class="o">.</span><span class="na">associateTag</span> <span class="o">=</span> <span class="s">&quot;teg&quot;</span><span class="o">;</span> <span class="c1">// seems any tag is ok</span>
</span><span class='line'>            <span class="n">request</span><span class="o">.</span><span class="na">shared</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ItemSearchRequest</span><span class="o">();</span>
</span><span class='line'>            <span class="n">request</span><span class="o">.</span><span class="na">shared</span><span class="o">.</span><span class="na">searchIndex</span> <span class="o">=</span> <span class="s">&quot;Books&quot;</span><span class="o">;</span>
</span><span class='line'>            <span class="n">request</span><span class="o">.</span><span class="na">shared</span><span class="o">.</span><span class="na">responseGroup</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">String</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;();</span>
</span><span class='line'>            <span class="n">request</span><span class="o">.</span><span class="na">shared</span><span class="o">.</span><span class="na">responseGroup</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&quot;Images&quot;</span><span class="o">);</span>
</span><span class='line'>            <span class="n">request</span><span class="o">.</span><span class="na">shared</span><span class="o">.</span><span class="na">responseGroup</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&quot;Small&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>            <span class="n">ItemSearchRequest</span> <span class="n">itemSearchRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ItemSearchRequest</span><span class="o">();</span>
</span><span class='line'>            <span class="n">itemSearchRequest</span><span class="o">.</span><span class="na">title</span> <span class="o">=</span> <span class="o">((</span><span class="n">EditText</span><span class="o">)</span><span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">keyword_input</span><span class="o">)).</span><span class="na">getText</span><span class="o">().</span><span class="na">toString</span><span class="o">();</span>
</span><span class='line'>            <span class="n">request</span><span class="o">.</span><span class="na">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">ItemSearchRequest</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;();</span>
</span><span class='line'>            <span class="n">request</span><span class="o">.</span><span class="na">request</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">itemSearchRequest</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>            <span class="c1">// authenticate the request</span>
</span><span class='line'>            <span class="c1">// http://docs.aws.amazon.com/AWSECommerceService/latest/DG/NotUsingWSSecurity.html</span>
</span><span class='line'>            <span class="n">AWSECommerceClient</span><span class="o">.</span><span class="na">authenticateRequest</span><span class="o">(</span><span class="s">&quot;ItemSearch&quot;</span><span class="o">);</span>
</span><span class='line'>            <span class="c1">// Make API call and register callbacks</span>
</span><span class='line'>            <span class="n">client</span><span class="o">.</span><span class="na">itemSearch</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="k">new</span> <span class="n">SOAPServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">ItemSearchResponse</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;()</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>                <span class="nd">@Override</span>
</span><span class='line'>                <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSuccess</span><span class="o">(</span><span class="n">ItemSearchResponse</span> <span class="n">responseObject</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                    <span class="c1">// success handling logic</span>
</span><span class='line'>                    <span class="k">if</span> <span class="o">(</span><span class="n">responseObject</span><span class="o">.</span><span class="na">items</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;</span><span class="n">amp</span><span class="o">;&amp;</span><span class="n">amp</span><span class="o">;</span> <span class="n">responseObject</span><span class="o">.</span><span class="na">items</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                        <span class="n">Items</span> <span class="n">items</span> <span class="o">=</span> <span class="n">responseObject</span><span class="o">.</span><span class="na">items</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
</span><span class='line'>                        <span class="k">if</span> <span class="o">(</span><span class="n">items</span><span class="o">.</span><span class="na">item</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;</span><span class="n">amp</span><span class="o">;&amp;</span><span class="n">amp</span><span class="o">;</span> <span class="n">items</span><span class="o">.</span><span class="na">item</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                            <span class="n">Item</span> <span class="n">item</span> <span class="o">=</span> <span class="n">items</span><span class="o">.</span><span class="na">item</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
</span><span class='line'>                            <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="n">item</span><span class="o">.</span><span class="na">itemAttributes</span><span class="o">.</span><span class="na">title</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_LONG</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
</span><span class='line'>                        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
</span><span class='line'>                            <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="s">&quot;No result&quot;</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_LONG</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
</span><span class='line'>                        <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>                    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
</span><span class='line'>                        <span class="k">if</span> <span class="o">(</span><span class="n">responseObject</span><span class="o">.</span><span class="na">operationRequest</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;</span><span class="n">amp</span><span class="o">;&amp;</span><span class="n">amp</span><span class="o">;</span> <span class="n">responseObject</span><span class="o">.</span><span class="na">operationRequest</span><span class="o">.</span><span class="na">errors</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                            <span class="n">Errors</span> <span class="n">errors</span> <span class="o">=</span> <span class="n">responseObject</span><span class="o">.</span><span class="na">operationRequest</span><span class="o">.</span><span class="na">errors</span><span class="o">;</span>
</span><span class='line'>                            <span class="k">if</span> <span class="o">(</span><span class="n">errors</span><span class="o">.</span><span class="na">error</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;</span><span class="n">amp</span><span class="o">;&amp;</span><span class="n">amp</span><span class="o">;</span> <span class="n">errors</span><span class="o">.</span><span class="na">error</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                                <span class="n">com</span><span class="o">.</span><span class="na">amazon</span><span class="o">.</span><span class="na">webservices</span><span class="o">.</span><span class="na">awsecommerceservice</span><span class="o">.</span><span class="na">_2011_08_01</span><span class="o">.</span><span class="na">errors</span><span class="o">.</span><span class="na">Error</span> <span class="n">error</span> <span class="o">=</span> <span class="n">errors</span><span class="o">.</span><span class="na">error</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
</span><span class='line'>                                <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="n">error</span><span class="o">.</span><span class="na">message</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_LONG</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
</span><span class='line'>                            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
</span><span class='line'>                                <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="s">&quot;No result&quot;</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_LONG</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
</span><span class='line'>                            <span class="o">}</span>
</span><span class='line'>                        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
</span><span class='line'>                            <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="s">&quot;No result&quot;</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_LONG</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
</span><span class='line'>                        <span class="o">}</span>
</span><span class='line'>                    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>                <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>                <span class="nd">@Override</span>
</span><span class='line'>                <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">Throwable</span> <span class="n">error</span><span class="o">,</span> <span class="n">String</span> <span class="n">errorMessage</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// http or parsing error</span>
</span><span class='line'>                    <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="n">errorMessage</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_LONG</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
</span><span class='line'>                <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>                <span class="nd">@Override</span>
</span><span class='line'>                <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSOAPFault</span><span class="o">(</span><span class="n">Object</span> <span class="n">soapFault</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// soap fault</span>
</span><span class='line'>                    <span class="n">com</span><span class="o">.</span><span class="na">leansoft</span><span class="o">.</span><span class="na">nano</span><span class="o">.</span><span class="na">soap11</span><span class="o">.</span><span class="na">Fault</span> <span class="n">fault</span> <span class="o">=</span> <span class="o">(</span><span class="n">com</span><span class="o">.</span><span class="na">leansoft</span><span class="o">.</span><span class="na">nano</span><span class="o">.</span><span class="na">soap11</span><span class="o">.</span><span class="na">Fault</span><span class="o">)</span><span class="n">soapFault</span><span class="o">;</span>
</span><span class='line'>                    <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="n">fault</span><span class="o">.</span><span class="na">faultstring</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_LONG</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
</span><span class='line'>                <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>            <span class="o">});</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="o">});</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>More comments to the serivce call code:</p>

<blockquote><ol>
<li>I've added comments in the code so the whole service call flow should be easy to understand.</li>
<li>Before service call, the request must be authenticated by calling the <code>authenticateRequest</code> method, such as <code>AWSECommerceClient.authenticateRequest("ItemSearch")</code>, <code>ItemSearch</code> is the target action or API name.</li>
<li>In the success handling logic, we just show the title of the first result item.</li>
<li>In <code>onSOAPFault</code> failure handling logic, since we are using SOAP 1.1, we need to cast the soapFault object to type of <code>com.leansoft.nano.soap11.Fault</code> and handle it accordingly.</li>
<li>Amazon Product Advertising service supports response resident error(RRE), so even we get success response, we still need to check response for resident error and handle it accordingly.</li>
</ol>
</blockquote>

<h2>Final Step - Run the Demo</h2>

<p>Let's run the demo in Android simulator, see a screen shot below:</p>

<p><img class="center" src="/images/nano/tutorial05/screen_shot1.png" width="400" height="600"></p>

<p>and the debug output:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>04-18 12:52:49.706: D/NanoSOAPClient(279): Sending request to : https://webservices.amazon.com/onca/soap?Service=AWSECommerceService
</span><span class='line'>04-18 12:52:49.706: D/NanoSOAPClient(279): Request HTTP headers :
</span><span class='line'>04-18 12:52:49.706: D/NanoSOAPClient(279): {
</span><span class='line'>04-18 12:52:49.706: D/NanoSOAPClient(279):     Accept="text/xml"
</span><span class='line'>04-18 12:52:49.706: D/NanoSOAPClient(279): }
</span><span class='line'>04-18 12:52:49.706: D/NanoSOAPClient(279): Request message :
</span><span class='line'>04-18 12:52:49.706: D/NanoSOAPClient(279): &lt;?xml version='1.0' encoding='UTF-8' ?>
</span><span class='line'>04-18 12:52:49.706: D/NanoSOAPClient(279): &lt;soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://webservices.amazon.com/AWSECommerceService/2011-08-01">
</span><span class='line'>04-18 12:52:49.706: D/NanoSOAPClient(279):   &lt;soapenv:Header>
</span><span class='line'>04-18 12:52:49.706: D/NanoSOAPClient(279):     &lt;n0:AWSAccessKeyId xmlns:n0="http://security.amazonaws.com/doc/2007-01-01/">********&lt;/n0:AWSAccessKeyId>
</span><span class='line'>04-18 12:52:49.706: D/NanoSOAPClient(279):     &lt;n1:Timestamp xmlns:n1="http://security.amazonaws.com/doc/2007-01-01/">2013-04-18T12:52:49Z&lt;/n1:Timestamp>
</span><span class='line'>04-18 12:52:49.706: D/NanoSOAPClient(279):     &lt;n2:Signature xmlns:n2="http://security.amazonaws.com/doc/2007-01-01/">XRvrzbtkXiwvn3whk7+v1KY2o516hDaup1WfUea0f6Q=&lt;/n2:Signature>
</span><span class='line'>04-18 12:52:49.706: D/NanoSOAPClient(279):   &lt;/soapenv:Header>
</span><span class='line'>04-18 12:52:49.706: D/NanoSOAPClient(279):   &lt;soapenv:Body>
</span><span class='line'>04-18 12:52:49.706: D/NanoSOAPClient(279):     &lt;ItemSearch>
</span><span class='line'>04-18 12:52:49.706: D/NanoSOAPClient(279):       &lt;AssociateTag>teg&lt;/AssociateTag>
</span><span class='line'>04-18 12:52:49.706: D/NanoSOAPClient(279):       &lt;Shared>
</span><span class='line'>04-18 12:52:49.706: D/NanoSOAPClient(279):         &lt;ResponseGroup>Images&lt;/ResponseGroup>
</span><span class='line'>04-18 12:52:49.706: D/NanoSOAPClient(279):         &lt;ResponseGroup>Small&lt;/ResponseGroup>
</span><span class='line'>04-18 12:52:49.706: D/NanoSOAPClient(279):         &lt;SearchIndex>Books&lt;/SearchIndex>
</span><span class='line'>04-18 12:52:49.706: D/NanoSOAPClient(279):       &lt;/Shared>
</span><span class='line'>04-18 12:52:49.706: D/NanoSOAPClient(279):       &lt;Request>
</span><span class='line'>04-18 12:52:49.706: D/NanoSOAPClient(279):         &lt;Title>android programming&lt;/Title>
</span><span class='line'>04-18 12:52:49.706: D/NanoSOAPClient(279):       &lt;/Request>
</span><span class='line'>04-18 12:52:49.706: D/NanoSOAPClient(279):     &lt;/ItemSearch>
</span><span class='line'>04-18 12:52:49.706: D/NanoSOAPClient(279):   &lt;/soapenv:Body>
</span><span class='line'>04-18 12:52:49.706: D/NanoSOAPClient(279): &lt;/soapenv:Envelope>
</span><span class='line'>04-18 12:52:51.106: D/dalvikvm(279): GC_FOR_MALLOC freed 6267 objects / 346808 bytes in 35ms
</span><span class='line'>04-18 12:52:51.786: D/dalvikvm(279): GC_FOR_MALLOC freed 509 objects / 54216 bytes in 30ms
</span><span class='line'>04-18 12:52:51.816: D/dalvikvm(279): GC_FOR_MALLOC freed 43 objects / 105384 bytes in 29ms
</span><span class='line'>04-18 12:52:51.856: D/dalvikvm(279): GC_FOR_MALLOC freed 46 objects / 2424 bytes in 28ms
</span><span class='line'>04-18 12:52:51.856: I/dalvikvm-heap(279): Grow heap (frag case) to 3.005MB for 84132-byte allocation
</span><span class='line'>04-18 12:52:51.966: D/dalvikvm(279): GC_FOR_MALLOC freed 0 objects / 0 bytes in 114ms
</span><span class='line'>04-18 12:52:51.966: D/SOAPHttpResponseHandler(279): Response HTTP status : 200
</span><span class='line'>04-18 12:52:51.966: D/SOAPHttpResponseHandler(279): Response HTTP headers :
</span><span class='line'>04-18 12:52:51.966: D/SOAPHttpResponseHandler(279): {
</span><span class='line'>04-18 12:52:51.966: D/SOAPHttpResponseHandler(279):     Content-Encoding="gzip"
</span><span class='line'>04-18 12:52:51.966: D/SOAPHttpResponseHandler(279):     Transfer-Encoding="chunked"
</span><span class='line'>04-18 12:52:51.966: D/SOAPHttpResponseHandler(279):     nnCoection="close"
</span><span class='line'>04-18 12:52:51.966: D/SOAPHttpResponseHandler(279):     Vary="Accept-Encoding,User-Agent"
</span><span class='line'>04-18 12:52:51.966: D/SOAPHttpResponseHandler(279):     Content-Type="text/xml;charset=UTF-8"
</span><span class='line'>04-18 12:52:51.966: D/SOAPHttpResponseHandler(279):     Date="Thu, 18 Apr 2013 12:53:17 GMT"
</span><span class='line'>04-18 12:52:51.966: D/SOAPHttpResponseHandler(279):     Server="Server"
</span><span class='line'>04-18 12:52:51.966: D/SOAPHttpResponseHandler(279): }
</span><span class='line'>04-18 12:52:51.966: D/SOAPHttpResponseHandler(279): Response message :
</span><span class='line'>04-18 12:52:51.976: D/SOAPHttpResponseHandler(279): &lt;?xml version="1.0" ?>&lt;soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">&lt;soapenv:Body>&lt;ItemSearchResponse xmlns="http://webservices.amazon.com/AWSECommerceService/2011-08-01">&lt;OperationRequest>&lt;HTTPHeaders>&lt;Header Name="UserAgent" Value="android-async-http/1.4.3 (http://loopj.com/android-async-http)">&lt;/Header>&lt;/HTTPHeaders>&lt;RequestId>897bda30-928a-41f9-b48a-965d79800864&lt;/RequestId>&lt;Arguments>&lt;Argument Name="Service" Value="AWSECommerceService">&lt;/Argument>&lt;/Arguments>&lt;RequestProcessingTime>0.0608990000000000&lt;/RequestProcessingTime>&lt;/OperationRequest>&lt;Items>&lt;Request>&lt;IsValid>True&lt;/IsValid>&lt;ItemSearchRequest>&lt;ResponseGroup>Images&lt;/ResponseGroup>&lt;ResponseGroup>Small&lt;/ResponseGroup>&lt;SearchIndex>Books&lt;/SearchIndex>&lt;Title>android programming&lt;/Title>&lt;/ItemSearchRequest>&lt;/Request>&lt;TotalResults>131&lt;/TotalResults>&lt;TotalPages>14&lt;/TotalPages>&lt;MoreSearchResultsUrl>http://www.amazon.com/gp/redirect.html?camp=2025&amp;creative=386001&amp;location=http%3A%2F%2Fwww.amazon.com%2Fgp%2Fsearch%3Fkeywords%3Dandroid%2Bprogramming%26url%3Dsearch-alias%253Dstripbooks&amp;linkCode=sp1&amp;tag=teg&amp;SubscriptionId=AKIAIEKQPISXI6IPHDFQ&lt;/MoreSearchResultsUrl>&lt;Item>&lt;ASIN>1449316646&lt;/ASIN>&lt;DetailPageURL>http://www.amazon.com/Programming-Android-Generation-Mobile-Devices/dp/1449316646%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D165953%26creativeASIN%3D1449316646&lt;/DetailPageURL>&lt;ItemLinks>&lt;ItemLink>&lt;Description>Technical Details&lt;/Description>&lt;URL>http://www.amazon.com/Programming-Android-Generation-Mobile-Devices/dp/tech-data/1449316646%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1449316646&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Baby Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/baby/add-item.html%3Fasin.0%3D1449316646%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1449316646&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wedding Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wedding/add-item.html%3Fasin.0%3D1449316646%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1449316646&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wishlist&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wishlist/add-item.html%3Fasin.0%3D1449316646%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1449316646&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Tell A Friend&lt;/Description>&lt;URL>http://www.amazon.com/gp/pdp/taf/1449316646%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1449316646&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Customer Reviews&lt;/Description>&lt;URL>http://www.amazon.com/review/product/1449316646%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1449316646&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Offers&lt;/Description>&lt;URL>http://www.amazon.com/gp/offer-listing/1449316646%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1449316646&lt;/URL>&lt;/ItemLink>&lt;/ItemLinks>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/5150hKq826L.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">57&lt;/Width>&lt;/SmallImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/5150hKq826L.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">122&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/5150hKq826L.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">381&lt;/Width>&lt;/LargeImage>&lt;ImageSets>&lt;ImageSet Category="primary">&lt;SwatchImage>&lt;URL>http://ecx.images-amazon.com/images/I/5150hKq826L.&lt;em>SL30&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">30&lt;/Height>&lt;Width Units="pixels">23&lt;/Wid
</span><span class='line'>04-18 12:52:51.976: D/SOAPHttpResponseHandler(279): e>&lt;URL>http://ecx.images-amazon.com/images/I/5150hKq826L.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">57&lt;/Width>&lt;/SmallImage>&lt;ThumbnailImage>&lt;URL>http://ecx.images-amazon.com/images/I/5150hKq826L.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">57&lt;/Width>&lt;/ThumbnailImage>&lt;TinyImage>&lt;URL>http://ecx.images-amazon.com/images/I/5150hKq826L.&lt;em>SL110&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">110&lt;/Height>&lt;Width Units="pixels">84&lt;/Width>&lt;/TinyImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/5150hKq826L.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">122&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/5150hKq826L.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">381&lt;/Width>&lt;/LargeImage>&lt;/ImageSet>&lt;/ImageSets>&lt;ItemAttributes>&lt;Author>Zigurd Mednieks&lt;/Author>&lt;Author>Laird Dornin&lt;/Author>&lt;Author>G. Blake Meike&lt;/Author>&lt;Author>Masumi Nakamura&lt;/Author>&lt;Manufacturer>O'Reilly Media&lt;/Manufacturer>&lt;ProductGroup>Book&lt;/ProductGroup>&lt;Title>Programming Android: Java Programming for the New Generation of Mobile Devices&lt;/Title>&lt;/ItemAttributes>&lt;/Item>&lt;Item>&lt;ASIN>0321804333&lt;/ASIN>&lt;DetailPageURL>http://www.amazon.com/Android-Programming-Ranch-Guide-Guides/dp/0321804333%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D165953%26creativeASIN%3D0321804333&lt;/DetailPageURL>&lt;ItemLinks>&lt;ItemLink>&lt;Description>Technical Details&lt;/Description>&lt;URL>http://www.amazon.com/Android-Programming-Ranch-Guide-Guides/dp/tech-data/0321804333%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321804333&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Baby Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/baby/add-item.html%3Fasin.0%3D0321804333%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321804333&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wedding Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wedding/add-item.html%3Fasin.0%3D0321804333%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321804333&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wishlist&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wishlist/add-item.html%3Fasin.0%3D0321804333%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321804333&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Tell A Friend&lt;/Description>&lt;URL>http://www.amazon.com/gp/pdp/taf/0321804333%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321804333&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Customer Reviews&lt;/Description>&lt;URL>http://www.amazon.com/review/product/0321804333%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321804333&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Offers&lt;/Description>&lt;URL>http://www.amazon.com/gp/offer-listing/0321804333%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0321804333&lt;/URL>&lt;/ItemLink>&lt;/ItemLinks>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/41RZANo4I3L.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">52&lt;/Width>&lt;/SmallImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/41RZANo4I3L.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">112&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/41RZANo4I3L.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">350&lt;/Width>&lt;/LargeImage>&lt;ImageSets>&lt;ImageSet Category="primary">&lt;SwatchImage>&lt;URL>http://ecx.images-amazon.com/images/I/41RZANo4I3L.&lt;em>SL30&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">30&lt;/Height>&lt;Width Units="pixels">21&lt;/Width>&lt;/SwatchImage>&lt;SmallIm
</span><span class='line'>04-18 12:52:51.976: D/SOAPHttpResponseHandler(279): amazon.com/images/I/41RZANo4I3L._SL75_.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">52&lt;/Width>&lt;/SmallImage>&lt;ThumbnailImage>&lt;URL>http://ecx.images-amazon.com/images/I/41RZANo4I3L.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">52&lt;/Width>&lt;/ThumbnailImage>&lt;TinyImage>&lt;URL>http://ecx.images-amazon.com/images/I/41RZANo4I3L.&lt;em>SL110&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">110&lt;/Height>&lt;Width Units="pixels">77&lt;/Width>&lt;/TinyImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/41RZANo4I3L.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">112&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/41RZANo4I3L.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">350&lt;/Width>&lt;/LargeImage>&lt;/ImageSet>&lt;/ImageSets>&lt;ItemAttributes>&lt;Author>Bill Phillips&lt;/Author>&lt;Author>Brian Hardy&lt;/Author>&lt;Manufacturer>Big Nerd Ranch Guides&lt;/Manufacturer>&lt;ProductGroup>Book&lt;/ProductGroup>&lt;Title>Android Programming: The Big Nerd Ranch Guide (Big Nerd Ranch Guides)&lt;/Title>&lt;/ItemAttributes>&lt;/Item>&lt;Item>&lt;ASIN>1118183487&lt;/ASIN>&lt;DetailPageURL>http://www.amazon.com/Professional-Android-Sensor-Programming-Milette/dp/1118183487%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D165953%26creativeASIN%3D1118183487&lt;/DetailPageURL>&lt;ItemLinks>&lt;ItemLink>&lt;Description>Technical Details&lt;/Description>&lt;URL>http://www.amazon.com/Professional-Android-Sensor-Programming-Milette/dp/tech-data/1118183487%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118183487&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Baby Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/baby/add-item.html%3Fasin.0%3D1118183487%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118183487&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wedding Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wedding/add-item.html%3Fasin.0%3D1118183487%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118183487&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wishlist&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wishlist/add-item.html%3Fasin.0%3D1118183487%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118183487&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Tell A Friend&lt;/Description>&lt;URL>http://www.amazon.com/gp/pdp/taf/1118183487%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118183487&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Customer Reviews&lt;/Description>&lt;URL>http://www.amazon.com/review/product/1118183487%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118183487&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Offers&lt;/Description>&lt;URL>http://www.amazon.com/gp/offer-listing/1118183487%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118183487&lt;/URL>&lt;/ItemLink>&lt;/ItemLinks>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/51q7NaXDNQL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">60&lt;/Width>&lt;/SmallImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/51q7NaXDNQL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">128&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/51q7NaXDNQL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">399&lt;/Width>&lt;/LargeImage>&lt;ImageSets>&lt;ImageSet Category="primary">&lt;SwatchImage>&lt;URL>http://ecx.images-amazon.com/images/I/51q7NaXDNQL.&lt;em>SL30&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">30&lt;/Height>&lt;Width Units="pixels">24&lt;/Width>&lt;/SwatchImage>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/51q7NaXDNQL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>
</span><span class='line'>04-18 12:52:51.976: D/SOAPHttpResponseHandler(279): Height>&lt;Width Units="pixels">60&lt;/Width>&lt;/SmallImage>&lt;ThumbnailImage>&lt;URL>http://ecx.images-amazon.com/images/I/51q7NaXDNQL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">60&lt;/Width>&lt;/ThumbnailImage>&lt;TinyImage>&lt;URL>http://ecx.images-amazon.com/images/I/51q7NaXDNQL.&lt;em>SL110&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">110&lt;/Height>&lt;Width Units="pixels">88&lt;/Width>&lt;/TinyImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/51q7NaXDNQL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">128&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/51q7NaXDNQL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">399&lt;/Width>&lt;/LargeImage>&lt;/ImageSet>&lt;/ImageSets>&lt;ItemAttributes>&lt;Author>Greg Milette&lt;/Author>&lt;Author>Adam Stroud&lt;/Author>&lt;Manufacturer>Wrox&lt;/Manufacturer>&lt;ProductGroup>Book&lt;/ProductGroup>&lt;Title>Professional Android Sensor Programming&lt;/Title>&lt;/ItemAttributes>&lt;/Item>&lt;Item>&lt;ASIN>1934356905&lt;/ASIN>&lt;DetailPageURL>http://www.amazon.com/Programming-Your-Home-Pragmatic-Programmers/dp/1934356905%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D165953%26creativeASIN%3D1934356905&lt;/DetailPageURL>&lt;ItemLinks>&lt;ItemLink>&lt;Description>Technical Details&lt;/Description>&lt;URL>http://www.amazon.com/Programming-Your-Home-Pragmatic-Programmers/dp/tech-data/1934356905%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1934356905&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Baby Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/baby/add-item.html%3Fasin.0%3D1934356905%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1934356905&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wedding Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wedding/add-item.html%3Fasin.0%3D1934356905%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1934356905&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wishlist&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wishlist/add-item.html%3Fasin.0%3D1934356905%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1934356905&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Tell A Friend&lt;/Description>&lt;URL>http://www.amazon.com/gp/pdp/taf/1934356905%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1934356905&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Customer Reviews&lt;/Description>&lt;URL>http://www.amazon.com/review/product/1934356905%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1934356905&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Offers&lt;/Description>&lt;URL>http://www.amazon.com/gp/offer-listing/1934356905%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1934356905&lt;/URL>&lt;/ItemLink>&lt;/ItemLinks>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/41C3BFfs-xL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">63&lt;/Width>&lt;/SmallImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/41C3BFfs-xL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">133&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/41C3BFfs-xL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">417&lt;/Width>&lt;/LargeImage>&lt;ImageSets>&lt;ImageSet Category="primary">&lt;SwatchImage>&lt;URL>http://ecx.images-amazon.com/images/I/41C3BFfs-xL.&lt;em>SL30&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">30&lt;/Height>&lt;Width Units="pixels">25&lt;/Width>&lt;/SwatchImage>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/41C3BFfs-xL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">63&lt;/Width>&lt;/SmallImage>&lt;ThumbnailImage>&lt;URL>http://ecx.images-amazon.com/im
</span><span class='line'>04-18 12:52:51.976: D/SOAPHttpResponseHandler(279): pg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">63&lt;/Width>&lt;/ThumbnailImage>&lt;TinyImage>&lt;URL>http://ecx.images-amazon.com/images/I/41C3BFfs-xL.&lt;em>SL110&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">110&lt;/Height>&lt;Width Units="pixels">92&lt;/Width>&lt;/TinyImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/41C3BFfs-xL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">133&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/41C3BFfs-xL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">417&lt;/Width>&lt;/LargeImage>&lt;/ImageSet>&lt;ImageSet Category="variant">&lt;SwatchImage>&lt;URL>http://ecx.images-amazon.com/images/I/41PqQ5uDLIL.&lt;em>SL30&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">30&lt;/Height>&lt;Width Units="pixels">25&lt;/Width>&lt;/SwatchImage>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/41PqQ5uDLIL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">63&lt;/Width>&lt;/SmallImage>&lt;ThumbnailImage>&lt;URL>http://ecx.images-amazon.com/images/I/41PqQ5uDLIL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">63&lt;/Width>&lt;/ThumbnailImage>&lt;TinyImage>&lt;URL>http://ecx.images-amazon.com/images/I/41PqQ5uDLIL.&lt;em>SL110&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">110&lt;/Height>&lt;Width Units="pixels">92&lt;/Width>&lt;/TinyImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/41PqQ5uDLIL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">134&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/41PqQ5uDLIL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">418&lt;/Width>&lt;/LargeImage>&lt;/ImageSet>&lt;/ImageSets>&lt;ItemAttributes>&lt;Author>Mike Riley&lt;/Author>&lt;Manufacturer>Pragmatic Bookshelf&lt;/Manufacturer>&lt;ProductGroup>Book&lt;/ProductGroup>&lt;Title>Programming Your Home: Automate with Arduino, Android, and Your Computer (Pragmatic Programmers)&lt;/Title>&lt;/ItemAttributes>&lt;/Item>&lt;Item>&lt;ASIN>1118026438&lt;/ASIN>&lt;DetailPageURL>http://www.amazon.com/Professional-Android-Programming-Mono-NET/dp/1118026438%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D165953%26creativeASIN%3D1118026438&lt;/DetailPageURL>&lt;ItemLinks>&lt;ItemLink>&lt;Description>Technical Details&lt;/Description>&lt;URL>http://www.amazon.com/Professional-Android-Programming-Mono-NET/dp/tech-data/1118026438%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118026438&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Baby Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/baby/add-item.html%3Fasin.0%3D1118026438%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118026438&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wedding Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wedding/add-item.html%3Fasin.0%3D1118026438%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118026438&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wishlist&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wishlist/add-item.html%3Fasin.0%3D1118026438%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118026438&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Tell A Friend&lt;/Description>&lt;URL>http://www.amazon.com/gp/pdp/taf/1118026438%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118026438&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Customer Reviews&lt;/Description>&lt;URL>http://www.amazon.com/review/product/1118026438%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118026438&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Offers&lt;/Description>&lt;URL>http://www.amazon.com/gp/offer-listing/1118026438%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118026438&lt;/UR
</span><span class='line'>04-18 12:52:51.976: D/SOAPHttpResponseHandler(279): mallImage>&lt;URL>http://ecx.images-amazon.com/images/I/51LeQyvL9VL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">59&lt;/Width>&lt;/SmallImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/51LeQyvL9VL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">126&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/51LeQyvL9VL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">394&lt;/Width>&lt;/LargeImage>&lt;ImageSets>&lt;ImageSet Category="primary">&lt;SwatchImage>&lt;URL>http://ecx.images-amazon.com/images/I/51LeQyvL9VL.&lt;em>SL30&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">30&lt;/Height>&lt;Width Units="pixels">24&lt;/Width>&lt;/SwatchImage>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/51LeQyvL9VL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">59&lt;/Width>&lt;/SmallImage>&lt;ThumbnailImage>&lt;URL>http://ecx.images-amazon.com/images/I/51LeQyvL9VL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">59&lt;/Width>&lt;/ThumbnailImage>&lt;TinyImage>&lt;URL>http://ecx.images-amazon.com/images/I/51LeQyvL9VL.&lt;em>SL110&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">110&lt;/Height>&lt;Width Units="pixels">87&lt;/Width>&lt;/TinyImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/51LeQyvL9VL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">126&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/51LeQyvL9VL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">394&lt;/Width>&lt;/LargeImage>&lt;/ImageSet>&lt;/ImageSets>&lt;ItemAttributes>&lt;Author>Wallace B. McClure&lt;/Author>&lt;Author>Nathan Blevins&lt;/Author>&lt;Author>John J. Croft IV&lt;/Author>&lt;Author>Jonathan Dick&lt;/Author>&lt;Author>Chris Hardy&lt;/Author>&lt;Manufacturer>Wrox&lt;/Manufacturer>&lt;ProductGroup>Book&lt;/ProductGroup>&lt;Title>Professional Android Programming with Mono for Android and .NET/C#&lt;/Title>&lt;/ItemAttributes>&lt;/Item>&lt;Item>&lt;ASIN>1118027744&lt;/ASIN>&lt;DetailPageURL>http://www.amazon.com/Android-Game-Programming-For-Dummies/dp/1118027744%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D165953%26creativeASIN%3D1118027744&lt;/DetailPageURL>&lt;ItemLinks>&lt;ItemLink>&lt;Description>Technical Details&lt;/Description>&lt;URL>http://www.amazon.com/Android-Game-Programming-For-Dummies/dp/tech-data/1118027744%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118027744&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Baby Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/baby/add-item.html%3Fasin.0%3D1118027744%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118027744&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wedding Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wedding/add-item.html%3Fasin.0%3D1118027744%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118027744&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wishlist&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wishlist/add-item.html%3Fasin.0%3D1118027744%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118027744&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Tell A Friend&lt;/Description>&lt;URL>http://www.amazon.com/gp/pdp/taf/1118027744%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118027744&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Customer Reviews&lt;/Description>&lt;URL>http://www.amazon.com/review/product/1118027744%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118027744&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Offers&lt;/Description>&lt;URL>http://www.amazon.com/gp/offer-listing/1118027744%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118027744&lt;/URL>&lt;/ItemLink>&lt;/Ite
</span><span class='line'>04-18 12:52:51.976: D/SOAPHttpResponseHandler(279): p://ecx.images-amazon.com/images/I/51B9ofyDxBL._SL75_.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">59&lt;/Width>&lt;/SmallImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/51B9ofyDxBL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">126&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/51B9ofyDxBL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">394&lt;/Width>&lt;/LargeImage>&lt;ImageSets>&lt;ImageSet Category="primary">&lt;SwatchImage>&lt;URL>http://ecx.images-amazon.com/images/I/51B9ofyDxBL.&lt;em>SL30&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">30&lt;/Height>&lt;Width Units="pixels">24&lt;/Width>&lt;/SwatchImage>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/51B9ofyDxBL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">59&lt;/Width>&lt;/SmallImage>&lt;ThumbnailImage>&lt;URL>http://ecx.images-amazon.com/images/I/51B9ofyDxBL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">59&lt;/Width>&lt;/ThumbnailImage>&lt;TinyImage>&lt;URL>http://ecx.images-amazon.com/images/I/51B9ofyDxBL.&lt;em>SL110&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">110&lt;/Height>&lt;Width Units="pixels">87&lt;/Width>&lt;/TinyImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/51B9ofyDxBL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">126&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/51B9ofyDxBL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">394&lt;/Width>&lt;/LargeImage>&lt;/ImageSet>&lt;/ImageSets>&lt;ItemAttributes>&lt;Author>Derek James&lt;/Author>&lt;Manufacturer>For Dummies&lt;/Manufacturer>&lt;ProductGroup>Book&lt;/ProductGroup>&lt;Title>Android Game Programming For Dummies&lt;/Title>&lt;/ItemAttributes>&lt;/Item>&lt;Item>&lt;ASIN>1907920153&lt;/ASIN>&lt;DetailPageURL>http://www.amazon.com/Android-Apps-programming-step-step/dp/1907920153%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D165953%26creativeASIN%3D1907920153&lt;/DetailPageURL>&lt;ItemLinks>&lt;ItemLink>&lt;Description>Technical Details&lt;/Description>&lt;URL>http://www.amazon.com/Android-Apps-programming-step-step/dp/tech-data/1907920153%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1907920153&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Baby Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/baby/add-item.html%3Fasin.0%3D1907920153%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1907920153&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wedding Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wedding/add-item.html%3Fasin.0%3D1907920153%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1907920153&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wishlist&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wishlist/add-item.html%3Fasin.0%3D1907920153%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1907920153&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Tell A Friend&lt;/Description>&lt;URL>http://www.amazon.com/gp/pdp/taf/1907920153%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1907920153&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Customer Reviews&lt;/Description>&lt;URL>http://www.amazon.com/review/product/1907920153%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1907920153&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Offers&lt;/Description>&lt;URL>http://www.amazon.com/gp/offer-listing/1907920153%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1907920153&lt;/URL>&lt;/ItemLink>&lt;/ItemLinks>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/51%2BE6YAmL1L.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">54&lt;/Width>&lt;/SmallImage>&lt;Me
</span><span class='line'>04-18 12:52:51.976: D/SOAPHttpResponseHandler(279): mages-amazon.com/images/I/51%2BE6YAmL1L._SL160_.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">116&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/51%2BE6YAmL1L.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">362&lt;/Width>&lt;/LargeImage>&lt;ImageSets>&lt;ImageSet Category="primary">&lt;SwatchImage>&lt;URL>http://ecx.images-amazon.com/images/I/51%2BE6YAmL1L.&lt;em>SL30&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">30&lt;/Height>&lt;Width Units="pixels">22&lt;/Width>&lt;/SwatchImage>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/51%2BE6YAmL1L.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">54&lt;/Width>&lt;/SmallImage>&lt;ThumbnailImage>&lt;URL>http://ecx.images-amazon.com/images/I/51%2BE6YAmL1L.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">54&lt;/Width>&lt;/ThumbnailImage>&lt;TinyImage>&lt;URL>http://ecx.images-amazon.com/images/I/51%2BE6YAmL1L.&lt;em>SL110&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">110&lt;/Height>&lt;Width Units="pixels">80&lt;/Width>&lt;/TinyImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/51%2BE6YAmL1L.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">116&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/51%2BE6YAmL1L.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">362&lt;/Width>&lt;/LargeImage>&lt;/ImageSet>&lt;/ImageSets>&lt;ItemAttributes>&lt;Author>Stefan Schwark&lt;/Author>&lt;Manufacturer>Elektor Publishing&lt;/Manufacturer>&lt;ProductGroup>Book&lt;/ProductGroup>&lt;Title>Android Apps: programming step-by-step&lt;/Title>&lt;/ItemAttributes>&lt;/Item>&lt;Item>&lt;ASIN>0672336286&lt;/ASIN>&lt;DetailPageURL>http://www.amazon.com/Android-Programming-Unleashed-B-M-Harwani/dp/0672336286%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D165953%26creativeASIN%3D0672336286&lt;/DetailPageURL>&lt;ItemLinks>&lt;ItemLink>&lt;Description>Technical Details&lt;/Description>&lt;URL>http://www.amazon.com/Android-Programming-Unleashed-B-M-Harwani/dp/tech-data/0672336286%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0672336286&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Baby Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/baby/add-item.html%3Fasin.0%3D0672336286%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0672336286&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wedding Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wedding/add-item.html%3Fasin.0%3D0672336286%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0672336286&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wishlist&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wishlist/add-item.html%3Fasin.0%3D0672336286%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0672336286&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Tell A Friend&lt;/Description>&lt;URL>http://www.amazon.com/gp/pdp/taf/0672336286%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0672336286&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Customer Reviews&lt;/Description>&lt;URL>http://www.amazon.com/review/product/0672336286%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0672336286&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Offers&lt;/Description>&lt;URL>http://www.amazon.com/gp/offer-listing/0672336286%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0672336286&lt;/URL>&lt;/ItemLink>&lt;/ItemLinks>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/41keFzzOx6L.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">57&lt;/Width>&lt;/SmallImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/41keFzzOx6L.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="p
</span><span class='line'>04-18 12:52:51.976: D/SOAPHttpResponseHandler(279): mage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/41keFzzOx6L.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">383&lt;/Width>&lt;/LargeImage>&lt;ImageSets>&lt;ImageSet Category="primary">&lt;SwatchImage>&lt;URL>http://ecx.images-amazon.com/images/I/41keFzzOx6L.&lt;em>SL30&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">30&lt;/Height>&lt;Width Units="pixels">23&lt;/Width>&lt;/SwatchImage>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/41keFzzOx6L.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">57&lt;/Width>&lt;/SmallImage>&lt;ThumbnailImage>&lt;URL>http://ecx.images-amazon.com/images/I/41keFzzOx6L.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">57&lt;/Width>&lt;/ThumbnailImage>&lt;TinyImage>&lt;URL>http://ecx.images-amazon.com/images/I/41keFzzOx6L.&lt;em>SL110&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">110&lt;/Height>&lt;Width Units="pixels">84&lt;/Width>&lt;/TinyImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/41keFzzOx6L.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">123&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/41keFzzOx6L.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">383&lt;/Width>&lt;/LargeImage>&lt;/ImageSet>&lt;/ImageSets>&lt;ItemAttributes>&lt;Author>B.M. Harwani&lt;/Author>&lt;Manufacturer>Sams Publishing&lt;/Manufacturer>&lt;ProductGroup>Book&lt;/ProductGroup>&lt;Title>Android Programming Unleashed&lt;/Title>&lt;/ItemAttributes>&lt;/Item>&lt;Item>&lt;ASIN>1118454766&lt;/ASIN>&lt;DetailPageURL>http://www.amazon.com/Professional-Android-Accessory-Programming-Programmer/dp/1118454766%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D165953%26creativeASIN%3D1118454766&lt;/DetailPageURL>&lt;ItemLinks>&lt;ItemLink>&lt;Description>Technical Details&lt;/Description>&lt;URL>http://www.amazon.com/Professional-Android-Accessory-Programming-Programmer/dp/tech-data/1118454766%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118454766&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Baby Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/baby/add-item.html%3Fasin.0%3D1118454766%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118454766&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wedding Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wedding/add-item.html%3Fasin.0%3D1118454766%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118454766&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wishlist&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wishlist/add-item.html%3Fasin.0%3D1118454766%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118454766&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Tell A Friend&lt;/Description>&lt;URL>http://www.amazon.com/gp/pdp/taf/1118454766%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118454766&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Customer Reviews&lt;/Description>&lt;URL>http://www.amazon.com/review/product/1118454766%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118454766&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Offers&lt;/Description>&lt;URL>http://www.amazon.com/gp/offer-listing/1118454766%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D1118454766&lt;/URL>&lt;/ItemLink>&lt;/ItemLinks>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/51FpeMpR0wL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">60&lt;/Width>&lt;/SmallImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/51FpeMpR0wL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">128&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/51FpeMpR0wL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/He
</span><span class='line'>04-18 12:52:51.976: D/SOAPHttpResponseHandler(279): 399&lt;/Width>&lt;/LargeImage>&lt;ImageSets>&lt;ImageSet Category="primary">&lt;SwatchImage>&lt;URL>http://ecx.images-amazon.com/images/I/51FpeMpR0wL.&lt;em>SL30&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">30&lt;/Height>&lt;Width Units="pixels">24&lt;/Width>&lt;/SwatchImage>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/51FpeMpR0wL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">60&lt;/Width>&lt;/SmallImage>&lt;ThumbnailImage>&lt;URL>http://ecx.images-amazon.com/images/I/51FpeMpR0wL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">60&lt;/Width>&lt;/ThumbnailImage>&lt;TinyImage>&lt;URL>http://ecx.images-amazon.com/images/I/51FpeMpR0wL.&lt;em>SL110&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">110&lt;/Height>&lt;Width Units="pixels">88&lt;/Width>&lt;/TinyImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/51FpeMpR0wL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">128&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/51FpeMpR0wL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">399&lt;/Width>&lt;/LargeImage>&lt;/ImageSet>&lt;/ImageSets>&lt;ItemAttributes>&lt;Author>Andreas Goransson&lt;/Author>&lt;Author>David Cuartielles Ruiz&lt;/Author>&lt;Manufacturer>Wrox&lt;/Manufacturer>&lt;ProductGroup>Book&lt;/ProductGroup>&lt;Title>Professional Android Open Accessory Programming with Arduino (Wrox Programmer to Programmer)&lt;/Title>&lt;/ItemAttributes>&lt;/Item>&lt;Item>&lt;ASIN>0672336049&lt;/ASIN>&lt;DetailPageURL>http://www.amazon.com/Teach-Yourself-Android-Programming-Hours/dp/0672336049%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D165953%26creativeASIN%3D0672336049&lt;/DetailPageURL>&lt;ItemLinks>&lt;ItemLink>&lt;Description>Technical Details&lt;/Description>&lt;URL>http://www.amazon.com/Teach-Yourself-Android-Programming-Hours/dp/tech-data/0672336049%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0672336049&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Baby Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/baby/add-item.html%3Fasin.0%3D0672336049%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0672336049&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wedding Registry&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wedding/add-item.html%3Fasin.0%3D0672336049%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0672336049&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Add To Wishlist&lt;/Description>&lt;URL>http://www.amazon.com/gp/registry/wishlist/add-item.html%3Fasin.0%3D0672336049%26SubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0672336049&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>Tell A Friend&lt;/Description>&lt;URL>http://www.amazon.com/gp/pdp/taf/0672336049%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0672336049&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Customer Reviews&lt;/Description>&lt;URL>http://www.amazon.com/review/product/0672336049%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0672336049&lt;/URL>&lt;/ItemLink>&lt;ItemLink>&lt;Description>All Offers&lt;/Description>&lt;URL>http://www.amazon.com/gp/offer-listing/0672336049%3FSubscriptionId%3DAKIAIEKQPISXI6IPHDFQ%26tag%3Dteg%26linkCode%3Dsp1%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0672336049&lt;/URL>&lt;/ItemLink>&lt;/ItemLinks>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/41vTpLHUytL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">57&lt;/Width>&lt;/SmallImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/41vTpLHUytL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">122&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/41vTpLHUytL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">382&lt;/Width>&lt;/LargeImage>&lt;ImageSets>&lt;Image
</span><span class='line'>04-18 12:52:51.976: D/SOAPHttpResponseHandler(279): tchImage>&lt;URL>http://ecx.images-amazon.com/images/I/41vTpLHUytL.&lt;em>SL30&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">30&lt;/Height>&lt;Width Units="pixels">23&lt;/Width>&lt;/SwatchImage>&lt;SmallImage>&lt;URL>http://ecx.images-amazon.com/images/I/41vTpLHUytL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">57&lt;/Width>&lt;/SmallImage>&lt;ThumbnailImage>&lt;URL>http://ecx.images-amazon.com/images/I/41vTpLHUytL.&lt;em>SL75&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">75&lt;/Height>&lt;Width Units="pixels">57&lt;/Width>&lt;/ThumbnailImage>&lt;TinyImage>&lt;URL>http://ecx.images-amazon.com/images/I/41vTpLHUytL.&lt;em>SL110&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">110&lt;/Height>&lt;Width Units="pixels">84&lt;/Width>&lt;/TinyImage>&lt;MediumImage>&lt;URL>http://ecx.images-amazon.com/images/I/41vTpLHUytL.&lt;em>SL160&lt;/em>.jpg&lt;/URL>&lt;Height Units="pixels">160&lt;/Height>&lt;Width Units="pixels">122&lt;/Width>&lt;/MediumImage>&lt;LargeImage>&lt;URL>http://ecx.images-amazon.com/images/I/41vTpLHUytL.jpg&lt;/URL>&lt;Height Units="pixels">500&lt;/Height>&lt;Width Units="pixels">382&lt;/Width>&lt;/LargeImage>&lt;/ImageSet>&lt;/ImageSets>&lt;ItemAttributes>&lt;Author>Jonathan S. Harbour&lt;/Author>&lt;Manufacturer>Sams Publishing&lt;/Manufacturer>&lt;ProductGroup>Book&lt;/ProductGroup>&lt;Title>Sams Teach Yourself Android Game Programming in 24 Hours&lt;/Title>&lt;/ItemAttributes>&lt;/Item>&lt;/Items>&lt;/ItemSearchResponse>&lt;/soapenv:Body>&lt;/soapenv:Envelope>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>If you forget to fill in your AWS Access Key and Secure Key in the shared client, then you will get error like below:</p>

<p><img class="center" src="/images/nano/tutorial05/screen_shot2.png" width="400" height="600"></p>

<p>This is just a bare minimum Amazon Product Advertising service based application, for a demo with more functions, please see the <a href="https://github.com/bulldog2011/nano/tree/master/sample/webservice/AmazonBookFinder">AmazonBookFinder</a> sample in the <code>sample\webservice</code> folder of Nano source, AmazonBookFinder calls following APIs in one app:</p>

<blockquote><ol>
<li><strong><em>itemSearch</em></strong> for book search</li>
<li><strong><em>cartCreate</em></strong> to add chosen book into shopping cart</li>
</ol>
</blockquote>

<p>Below is a few screen shots:</p>

<p>Search:
<img class="center" src="/images/nano/tutorial05/screen_shot3.png" width="400" height="600"></p>

<p>Details:
<img class="center" src="/images/nano/tutorial05/screen_shot4.png" width="400" height="600"></p>

<p>Add To Cart:
<img class="center" src="/images/nano/tutorial05/screen_shot5.png" width="400" height="600"></p>

<p>Now it's your turn to create Android applications based on Amazon Product Advertising web service, see your next great service based app.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Nano Tutorial 4 - Hello eBay Shopping]]></title>
    <link href="http://bulldog2011.github.com/blog/2013/04/18/nano-tutorial-4-hello-ebay-shopping/"/>
    <updated>2013-04-18T09:52:00+08:00</updated>
    <id>http://bulldog2011.github.com/blog/2013/04/18/nano-tutorial-4-hello-ebay-shopping</id>
    <content type="html"><![CDATA[<p>This is the fourth tutorial of Nano tutorial series, in this tutorial, I will show you how to integrate <a href="https://github.com/bulldog2011/nano">Nano</a> with <a href="https://www.x.com/developers/ebay/products/shopping-api">eBay Shopping Web Service</a>, if you are not familiar with this service, just have a quick review on its official site, basically, eBay Shopping service allows you to search for eBay items, products and reviews, user info, and popular items and searches. In previous tutorials, I showed you how to integrate Nano with SOAP based services, while in this tutorial, I will show you how to interate Nano with XML based service, the eBay Shopping service just supports XML message format.</p>

<p>The source of this tutorial is <a href="https://github.com/bulldog2011/nano/tree/master/sample/webservice/HelloeBayShopping">here</a>.</p>

<!--more-->


<h2>Step 0 - Prerequisite</h2>

<p>I suppose you have already read previous Nano tutorials, at least 1 and 2, and basically you should know:</p>

<blockquote><ul>
<li>The wsdl driven development process supported by Nano.</li>
<li>How to add the Nano library and the generated service proxy into your Android project.</li>
</ul>
</blockquote>

<h2>Step 1 - Generate Java Proxy from WSDL</h2>

<p>Download <a href="https://github.com/bulldog2011/mwsc">mwsc</a> and run following command in terminal to generate the proxy:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>bin\mwsc.bat -nano -d generated -ebayshopping http://developer.ebay.com/webservices/latest/ShoppingService.wsdl&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Depends on the network speed, you may need to wait a few moments to let the code generator download the wsdl and generate code, you may also download the wsdl and run the code generator with a local wsdl.</p>

<p>A few comments about the codegen options:</p>

<blockquote><ul>
<li>The code generator will throw many warnings, say that the wsdl violates some schema rule, just ignore them, it's ok as long as the final code is generated correctly.</li>
<li>I have added a special <code>-ebayshopping</code> codegen option, this is because eBay Shopping service needs a per-call operation name HTTP header(eBay Finding service also needs a similar but different header), I added this special flag in the code generator to let it generate the header for me, since I don't want to add this header everytime I call an eBay Shopping service, so this is just a special flag for eBay Shopping services and for demo only, or a hidden feature, not a generic codegen option.</li>
<li>By default, the code generator will derive package name from target namespace in wsdl, if necessary, you can override package name with <code>-p</code> option.</li>
<li>The generator will generate both SOAP and XML clients for us, in the <code>client</code> sub-folder.</li>
</ul>
</blockquote>

<h2>Step 2 - Create New Android Project, Add Nano Library and Generated Proxy into Your Project</h2>

<p>Create a simple Android project called <code>HelloeBayShopping</code> in eclipse(or other IDE you prefer), then:</p>

<blockquote><ol>
<li>Download <a href="https://github.com/bulldog2011/bulldog-repo/blob/master/repo/releases/com/leansoft/nano/0.7.0/nano-0.7.0.jar">latest nano library jar</a> and add it to the <code>libs</code> folder of your Android project.</li>
<li>Drag the above generated proxy into the <code>src</code> folder of your Android project.</li>
<li>Add following user permissions in the <code>AndroidManifest.xml</code> file to enable network access. <br/>
<code>xml
 &lt;uses-permission android:name="android.permission.INTERNET" /&gt;
 &lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /&gt;
</code></li>
</ol>
</blockquote>

<p>Now build the project to ensure it can build successfully.</p>

<p>The code generation will generate both SOAP and XML based interfaces from eBay Shopping wsdl for us,
since we will use XML based interface in this tutorial, you may now review the generated eBay Shopping service XML interface to learn what kinds of functions are provided by eBay Shopping service, and what kinds of parameters are needed to call the service, the interface is posted below:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>ShoppingInterface_XMLClient.java </span><a href='https://github.com/bulldog2011/nano/blob/master/sample/webservice/HelloeBayShopping/src/ebay/apis/eblbasecomponents/client/ShoppingInterface_XMLClient.java'>source </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
<span class='line-number'>157</span>
<span class='line-number'>158</span>
<span class='line-number'>159</span>
<span class='line-number'>160</span>
<span class='line-number'>161</span>
<span class='line-number'>162</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="c1">// Generated by wsdl compiler for android/java</span>
</span><span class='line'><span class="c1">// DO NOT CHANGE!</span>
</span><span class='line'><span class="kn">package</span> <span class="n">ebay</span><span class="o">.</span><span class="na">apis</span><span class="o">.</span><span class="na">eblbasecomponents</span><span class="o">.</span><span class="na">client</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">com.leansoft.nano.ws.XMLServiceCallback</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.leansoft.nano.ws.NanoXMLClient</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.GetSingleItemResponseType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.GetShippingCostsResponseType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.GetCategoryInfoResponseType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.GeteBayTimeRequestType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.GetCategoryInfoRequestType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.GetUserProfileRequestType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.GetUserProfileResponseType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.GetSingleItemRequestType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.FindPopularSearchesRequestType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.FindHalfProductsResponseType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.FindPopularItemsRequestType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.FindReviewsAndGuidesRequestType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.FindPopularSearchesResponseType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.FindProductsResponseType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.GeteBayTimeResponseType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.GetMultipleItemsResponseType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.GetShippingCostsRequestType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.GetItemStatusResponseType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.FindPopularItemsResponseType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.GetMultipleItemsRequestType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.FindProductsRequestType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.FindReviewsAndGuidesResponseType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.FindHalfProductsRequestType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.GetItemStatusRequestType</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;*</span>
</span><span class='line'> <span class="n">This</span> <span class="kd">class</span> <span class="nc">is</span> <span class="n">the</span> <span class="n">XML</span> <span class="n">client</span> <span class="n">to</span> <span class="n">the</span> <span class="n">ShoppingInterface</span> <span class="n">Web</span> <span class="n">Service</span><span class="o">.</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ShoppingInterface_XMLClient</span> <span class="kd">extends</span> <span class="n">NanoXMLClient</span> <span class="o">{&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">findHalfProducts</span><span class="o">(</span><span class="n">FindHalfProductsRequestType</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">XMLServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">FindHalfProductsResponseType</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-API-CALL-NAME&quot;</span><span class="o">,</span> <span class="s">&quot;FindHalfProducts&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">FindHalfProductsResponseType</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">findPopularItems</span><span class="o">(</span><span class="n">FindPopularItemsRequestType</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">XMLServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">FindPopularItemsResponseType</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-API-CALL-NAME&quot;</span><span class="o">,</span> <span class="s">&quot;FindPopularItems&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">FindPopularItemsResponseType</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">findPopularSearches</span><span class="o">(</span><span class="n">FindPopularSearchesRequestType</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">XMLServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">FindPopularSearchesResponseType</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-API-CALL-NAME&quot;</span><span class="o">,</span> <span class="s">&quot;FindPopularSearches&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">FindPopularSearchesResponseType</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">findProducts</span><span class="o">(</span><span class="n">FindProductsRequestType</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">XMLServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">FindProductsResponseType</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-API-CALL-NAME&quot;</span><span class="o">,</span> <span class="s">&quot;FindProducts&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">FindProductsResponseType</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">findReviewsAndGuides</span><span class="o">(</span><span class="n">FindReviewsAndGuidesRequestType</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">XMLServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">FindReviewsAndGuidesResponseType</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-API-CALL-NAME&quot;</span><span class="o">,</span> <span class="s">&quot;FindReviewsAndGuides&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">FindReviewsAndGuidesResponseType</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">getCategoryInfo</span><span class="o">(</span><span class="n">GetCategoryInfoRequestType</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">XMLServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">GetCategoryInfoResponseType</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-API-CALL-NAME&quot;</span><span class="o">,</span> <span class="s">&quot;GetCategoryInfo&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">GetCategoryInfoResponseType</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">getItemStatus</span><span class="o">(</span><span class="n">GetItemStatusRequestType</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">XMLServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">GetItemStatusResponseType</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-API-CALL-NAME&quot;</span><span class="o">,</span> <span class="s">&quot;GetItemStatus&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">GetItemStatusResponseType</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">getMultipleItems</span><span class="o">(</span><span class="n">GetMultipleItemsRequestType</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">XMLServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">GetMultipleItemsResponseType</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-API-CALL-NAME&quot;</span><span class="o">,</span> <span class="s">&quot;GetMultipleItems&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">GetMultipleItemsResponseType</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">getShippingCosts</span><span class="o">(</span><span class="n">GetShippingCostsRequestType</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">XMLServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">GetShippingCostsResponseType</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-API-CALL-NAME&quot;</span><span class="o">,</span> <span class="s">&quot;GetShippingCosts&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">GetShippingCostsResponseType</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">getSingleItem</span><span class="o">(</span><span class="n">GetSingleItemRequestType</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">XMLServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">GetSingleItemResponseType</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-API-CALL-NAME&quot;</span><span class="o">,</span> <span class="s">&quot;GetSingleItem&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">GetSingleItemResponseType</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">getUserProfile</span><span class="o">(</span><span class="n">GetUserProfileRequestType</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">XMLServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">GetUserProfileResponseType</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-API-CALL-NAME&quot;</span><span class="o">,</span> <span class="s">&quot;GetUserProfile&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">GetUserProfileResponseType</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">geteBayTime</span><span class="o">(</span><span class="n">GeteBayTimeRequestType</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">XMLServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">GeteBayTimeResponseType</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-API-CALL-NAME&quot;</span><span class="o">,</span> <span class="s">&quot;GeteBayTime&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">GeteBayTimeResponseType</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>All the methods in the interface follow same calling paradigm - you call the service with required request object and a callback object implementing interface <a href="https://github.com/bulldog2011/nano/blob/master/src/main/java/com/leansoft/nano/ws/XMLServiceCallback.java">XMLServiceCallback</a>.</p>

<p>You may also compare the XML interface with the SOAP interface, they are almost similar, except that SOAP interface will give you an additional SOAPFault object in the failure callback(<a href="https://github.com/bulldog2011/nano/blob/master/src/main/java/com/leansoft/nano/ws/SOAPServiceCallback.java">in SOAPServiceCallback</a>), this is obvious, since XML based service has no concept of SOAPFault, usually, the response error is returned as response resident error(RRE) in the XML response message.</p>

<h2>Step 3 - Implement Appliction Logic and UI, Call Proxy to Invoke Web Service as Needed.</h2>

<p>First, create a shared service client as below:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>ShoppingServiceClient.java </span><a href='https://github.com/bulldog2011/nano/blob/master/sample/webservice/HelloeBayShopping/src/com/ebay/service/shopping/ShoppingServiceClient.java'>source </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ebay</span><span class="o">.</span><span class="na">service</span><span class="o">.</span><span class="na">shopping</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.client.ShoppingInterface_XMLClient</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ShoppingServiceClient</span> <span class="o">{&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="c1">// production</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">eBayShoppingServiceURLString</span> <span class="o">=</span> <span class="s">&quot;http://open.api.ebay.com/shopping?&quot;</span><span class="o">;</span>
</span><span class='line'><span class="c1">// sandbox</span>
</span><span class='line'><span class="c1">//public static final String eBayShoppingServiceURLString = &quot;http://open.api.sandbox.ebay.com/shopping&quot;;</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">eBayAppId</span> <span class="o">=</span> <span class="s">&quot;YOUR APPID HERE&quot;</span><span class="o">;</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">targetAPIVersion</span> <span class="o">=</span> <span class="s">&quot;809&quot;</span><span class="o">;</span>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm">for site id list, see http://developer.ebay.com/DevZone/shopping/docs/CallRef/types/SiteCodeType.html</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">targetSiteid</span> <span class="o">=</span> <span class="s">&quot;0&quot;</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kd">private</span> <span class="kd">static</span> <span class="kd">volatile</span> <span class="n">ShoppingInterface_XMLClient</span> <span class="n">client</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kd">public</span> <span class="kd">static</span> <span class="n">ShoppingInterface_XMLClient</span> <span class="nf">getSharedClient</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="o">(</span><span class="n">client</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="kd">synchronized</span><span class="o">(</span><span class="n">ShoppingServiceClient</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">if</span> <span class="o">(</span><span class="n">client</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ShoppingInterface_XMLClient</span><span class="o">();</span>
</span><span class='line'>                <span class="n">client</span><span class="o">.</span><span class="na">setEndpointUrl</span><span class="o">(</span><span class="n">eBayShoppingServiceURLString</span><span class="o">);</span>
</span><span class='line'>                <span class="n">client</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-API-APP-ID&quot;</span><span class="o">,</span> <span class="n">eBayAppId</span><span class="o">);</span>
</span><span class='line'>                <span class="n">client</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-API-REQUEST-ENCODING&quot;</span><span class="o">,</span> <span class="s">&quot;XML&quot;</span><span class="o">);</span>
</span><span class='line'>                <span class="n">client</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-API-VERSION&quot;</span><span class="o">,</span> <span class="n">targetAPIVersion</span><span class="o">);</span>
</span><span class='line'>                <span class="n">client</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-API-SITE-ID&quot;</span><span class="o">,</span> <span class="n">targetSiteid</span><span class="o">);</span>
</span><span class='line'>            <span class="o">}</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">return</span> <span class="n">client</span><span class="o">;</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Like eBay Finding service, the eBay Shopping service needs a few HTTP headers set to work, let me give more comments:</p>

<blockquote><ol>
<li>eBay Shopping service needs to set a few HTTP headers to work, for a list of required headers, please refer to doc <a href="http://developer.ebay.com/DevZone/shopping/docs/Concepts/ShoppingAPI_FormatOverview.html">here</a>.</li>
<li>One mandatory header for eBay Shopping service is <code>eBayAppId</code>, you need to register on eBay developer site as an eBay developer then get this id, before your can run this demo, you must fill in your own eBayAppId in the shared client.</li>
<li>Another mandatory header for eBay Shopping service is <code>targetAPIVersion</code>, aka the API version you want to use, usually, you use the latest one, at the time of this writing, the latest version is <code>809</code>, you may update this according to your real needs.</li>
<li>We also set <code>X-EBAY-API-REQUEST-ENCODING</code> to <code>XML</code>, indicating we want to call XML service supported by eBay Shopping service.</li>
</ol>
</blockquote>

<p>Now the UI part and application logic, for this hello world like sample, we just need a <code>EditText</code> for keyword input and <code>Button</code> to trigger eBay search by invoking listening method <code>onClick</code> which will indirectly call eBay Shopping service through the proxy, fairly simple, see the full application logic in <code>MainActivity</code> class below:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>MainActivity.java </span><a href='https://github.com/bulldog2011/nano/blob/master/sample/webservice/HelloeBayShopping/src/com/leansoft/nano/sample/MainActivity.java'>source  </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">leansoft</span><span class="o">.</span><span class="na">nano</span><span class="o">.</span><span class="na">sample</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">com.ebay.service.shopping.ShoppingServiceClient</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.leansoft.nano.ws.XMLServiceCallback</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.AckCodeType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.ErrorType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.FindPopularItemsRequestType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.FindPopularItemsResponseType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.SimpleItemType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">ebay.apis.eblbasecomponents.client.ShoppingInterface_XMLClient</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.app.Activity</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.view.View</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.view.View.OnClickListener</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.widget.Button</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.widget.EditText</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.widget.Toast</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="n">Activity</span> <span class="o">{&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="nd">@Override</span>
</span><span class='line'><span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
</span><span class='line'>    <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">Button</span> <span class="n">searchButton</span> <span class="o">=</span> <span class="o">(</span><span class="n">Button</span><span class="o">)</span> <span class="k">this</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">search_button</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">searchButton</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>        <span class="nd">@Override</span>
</span><span class='line'>        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">arg0</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="c1">// Get shared client</span>
</span><span class='line'>            <span class="n">ShoppingInterface_XMLClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">ShoppingServiceClient</span><span class="o">.</span><span class="na">getSharedClient</span><span class="o">();</span>
</span><span class='line'>            <span class="n">client</span><span class="o">.</span><span class="na">setDebug</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span> <span class="c1">// enable xml message logging</span>
</span><span class='line'>
</span><span class='line'>            <span class="c1">// Build request object</span>
</span><span class='line'>            <span class="n">FindPopularItemsRequestType</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FindPopularItemsRequestType</span><span class="o">();</span>
</span><span class='line'>            <span class="n">String</span> <span class="n">keywords</span> <span class="o">=</span> <span class="o">((</span><span class="n">EditText</span><span class="o">)</span><span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">keyword_input</span><span class="o">)).</span><span class="na">getText</span><span class="o">().</span><span class="na">toString</span><span class="o">();</span>
</span><span class='line'>            <span class="n">request</span><span class="o">.</span><span class="na">queryKeywords</span> <span class="o">=</span> <span class="n">keywords</span><span class="o">;</span>
</span><span class='line'>            <span class="c1">// only need one item for demo</span>
</span><span class='line'>            <span class="n">request</span><span class="o">.</span><span class="na">maxEntries</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>            <span class="c1">// make API call with registered callbacks</span>
</span><span class='line'>            <span class="n">client</span><span class="o">.</span><span class="na">findPopularItems</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="k">new</span> <span class="n">XMLServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">FindPopularItemsResponseType</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;()</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>                <span class="nd">@Override</span>
</span><span class='line'>                <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSuccess</span><span class="o">(</span>
</span><span class='line'>                        <span class="n">FindPopularItemsResponseType</span> <span class="n">responseObject</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>                    <span class="k">if</span> <span class="o">(</span><span class="n">AckCodeType</span><span class="o">.</span><span class="na">SUCCESS</span> <span class="o">==</span> <span class="n">responseObject</span><span class="o">.</span><span class="na">ack</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                        <span class="k">if</span> <span class="o">(</span><span class="n">responseObject</span><span class="o">.</span><span class="na">itemArray</span><span class="o">.</span><span class="na">item</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                            <span class="c1">// show the title of first found item</span>
</span><span class='line'>                            <span class="n">SimpleItemType</span> <span class="n">item</span> <span class="o">=</span> <span class="n">responseObject</span><span class="o">.</span><span class="na">itemArray</span><span class="o">.</span><span class="na">item</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
</span><span class='line'>                            <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="n">item</span><span class="o">.</span><span class="na">title</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_LONG</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
</span><span class='line'>                        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span> <span class="c1">// no result</span>
</span><span class='line'>                            <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="s">&quot;No result&quot;</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_LONG</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
</span><span class='line'>                        <span class="o">}</span>
</span><span class='line'>                    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span> <span class="c1">// response resident error</span>
</span><span class='line'>                        <span class="n">ErrorType</span> <span class="n">error</span> <span class="o">=</span> <span class="n">responseObject</span><span class="o">.</span><span class="na">errors</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
</span><span class='line'>                        <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="n">error</span><span class="o">.</span><span class="na">shortMessage</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_LONG</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
</span><span class='line'>                    <span class="o">}</span>
</span><span class='line'>                <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>                <span class="nd">@Override</span>
</span><span class='line'>                <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">Throwable</span> <span class="n">error</span><span class="o">,</span> <span class="n">String</span> <span class="n">errorMessage</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// http or parsing error</span>
</span><span class='line'>                    <span class="k">if</span> <span class="o">(</span><span class="n">errorMessage</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                        <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="n">errorMessage</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_LONG</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
</span><span class='line'>                    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
</span><span class='line'>                        <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="n">error</span><span class="o">.</span><span class="na">getMessage</span><span class="o">(),</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_LONG</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
</span><span class='line'>                    <span class="o">}</span>
</span><span class='line'>                <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>            <span class="o">});</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="o">});</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>More comments to the serivce call code:</p>

<blockquote><ol>
<li>I've added comments in the code so the whole service call flow should be easy to understand.</li>
<li>We used the eBay Shopping <code>findPopularItems</code> call, which takes a keyword as input, and will return a list of matched popular items on eBay, for demo, we just need one item to display, so we set <code>maxEntries</code> to 1.</li>
<li>In the success handling logic, we show the title of the returned item..</li>
<li>eBay Shopping service supports response resident error(RRE), so even we get a success response, we still need to check the response for resident error and handle it accordingly.</li>
</ol>
</blockquote>

<h2>Final Step - Run the Demo</h2>

<p>Let's run the demo on simulator, see a screen shot below:</p>

<p><img class="center" src="/images/nano/tutorial04/screen_shot1.png" width="400" height="600"></p>

<p>and the debug output:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>04-18 02:29:54.646: D/NanoXMLClient(279): Sending request to : http://open.api.ebay.com/shopping?
</span><span class='line'>04-18 02:29:54.646: D/NanoXMLClient(279): Request HTTP headers :
</span><span class='line'>04-18 02:29:54.646: D/NanoXMLClient(279): {
</span><span class='line'>04-18 02:29:54.646: D/NanoXMLClient(279):     X-EBAY-API-APP-ID="********"
</span><span class='line'>04-18 02:29:54.646: D/NanoXMLClient(279):     X-EBAY-API-SITE-ID="0"
</span><span class='line'>04-18 02:29:54.646: D/NanoXMLClient(279):     X-EBAY-API-CALL-NAME="FindPopularItems"
</span><span class='line'>04-18 02:29:54.646: D/NanoXMLClient(279):     X-EBAY-API-REQUEST-ENCODING="XML"
</span><span class='line'>04-18 02:29:54.646: D/NanoXMLClient(279):     Accept="text/xml"
</span><span class='line'>04-18 02:29:54.646: D/NanoXMLClient(279):     X-EBAY-API-VERSION="809"
</span><span class='line'>04-18 02:29:54.646: D/NanoXMLClient(279): }
</span><span class='line'>04-18 02:29:54.646: D/NanoXMLClient(279): Request message :
</span><span class='line'>04-18 02:29:54.646: D/NanoXMLClient(279): &lt;?xml version='1.0' encoding='UTF-8' ?>
</span><span class='line'>04-18 02:29:54.646: D/NanoXMLClient(279): &lt;FindPopularItemsRequest xmlns="urn:ebay:apis:eBLBaseComponents">
</span><span class='line'>04-18 02:29:54.646: D/NanoXMLClient(279):   &lt;QueryKeywords>android&lt;/QueryKeywords>
</span><span class='line'>04-18 02:29:54.646: D/NanoXMLClient(279):   &lt;MaxEntries>1&lt;/MaxEntries>
</span><span class='line'>04-18 02:29:54.646: D/NanoXMLClient(279): &lt;/FindPopularItemsRequest>
</span><span class='line'>04-18 02:29:55.926: D/dalvikvm(279): GC_FOR_MALLOC freed 6860 objects / 348416 bytes in 50ms
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279): Response HTTP status : 200
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279): Response HTTP headers :
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279): {
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):     X-EBAY-ESB-GUID="urn:uuid:3CD859772BC3C3F65827459259312600922-1430899813"
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):     Expires="Sat, 25 Dec 1999 00:00:00 GMT"
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):     Last-Modified="Thu, 18 Apr 2013 02:30:21 GMT"
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):     Connection="Keep-Alive"
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):     Server="Apache-Coyote/1.1"
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):     Pragma="no-cache"
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):     Cache-Control="no-cache"
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):     X-EBAY-API-BUILD-TAG="E819_CORE_APILW2_15990919_R1"
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):     Transfer-Encoding="chunked"
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):     Date="Thu, 18 Apr 2013 02:30:21 GMT"
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):     X-EBAY-API-POOL-NAME="&lt;strong>&lt;em>cDRidW9rdDdlaHFg"
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):     X-EBAY-API-SERVER-NAME="&lt;/em>&lt;/strong>dm97MmQ3MWYrYWU1PigyNSg/NSs3NTUrNDMyPz43OzU="
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):     Content-Encoding="gzip"
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):     Content-Type="text/xml;charset=utf-8"
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279): }
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279): Response message :
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279): &lt;?xml version="1.0" encoding="UTF-8"?>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):   &lt;FindPopularItemsResponse xmlns="urn:ebay:apis:eBLBaseComponents">
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):    &lt;Timestamp>2013-04-18T02:30:21.938Z&lt;/Timestamp>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):    &lt;Ack>Success&lt;/Ack>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):    &lt;Build>E819_CORE_APILW2_15990919_R1&lt;/Build>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):    &lt;Version>819&lt;/Version>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):    &lt;ItemArray>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):     &lt;Item>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):      &lt;ItemID>170848931666&lt;/ItemID>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):      &lt;EndTime>2013-04-20T17:07:32.000Z&lt;/EndTime>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):      &lt;ViewItemURLForNaturalSearch>http://www.ebay.com/itm/HTC-Droid-Incredible-Verizon-Wireless-Wifi-8-0-MP-Camera-8GB-Android-Cell-Phone-/170848931666&lt;/ViewItemURLForNaturalSearch>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):      &lt;ListingType>FixedPriceItem&lt;/ListingType>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):      &lt;GalleryURL>http://thumbs3.ebaystatic.com/pict/1708489316668080_52.jpg&lt;/GalleryURL>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):      &lt;PrimaryCategoryID>9355&lt;/PrimaryCategoryID>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):      &lt;PrimaryCategoryName>Cell Phones &amp; Accessories:Cell Phones &amp; Smartphones&lt;/PrimaryCategoryName>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):      &lt;BidCount>18835&lt;/BidCount>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):      &lt;ConvertedCurrentPrice currencyID="USD">64.95&lt;/ConvertedCurrentPrice>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):      &lt;ListingStatus>Active&lt;/ListingStatus>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):      &lt;TimeLeft>P2DT14H37M11S&lt;/TimeLeft>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):      &lt;Title>HTC Droid Incredible Verizon Wireless Wifi 8.0 MP Camera 8GB Android Cell Phone&lt;/Title>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):      &lt;ShippingCostSummary>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):       &lt;ShippingServiceCost currencyID="USD">0.0&lt;/ShippingServiceCost>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):       &lt;ShippingType>Flat&lt;/ShippingType>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):       &lt;ListedShippingServiceCost currencyID="USD">0.0&lt;/ListedShippingServiceCost>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):      &lt;/ShippingCostSummary>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):      &lt;WatchCount>10901&lt;/WatchCount>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):      &lt;DiscountPriceInfo>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):       &lt;OriginalRetailPrice currencyID="USD">500.0&lt;/OriginalRetailPrice>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):       &lt;PricingTreatment>STP&lt;/PricingTreatment>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):       &lt;SoldOneBay>false&lt;/SoldOneBay>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):       &lt;SoldOffeBay>false&lt;/SoldOffeBay>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):      &lt;/DiscountPriceInfo>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):     &lt;/Item>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):    &lt;/ItemArray>
</span><span class='line'>04-18 02:29:55.936: D/XMLHttpResponseHandler(279):   &lt;/FindPopularItemsResponse>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>let's also try a soap fault case, for example, if you forget to fill in your <code>eBayAppId</code> in the shared client, then you will get:
<img class="center" src="/images/nano/tutorial04/screen_shot2.png" width="400" height="600"></p>

<p>This is just a bare minimum eBay Shopping service based application, for a demo with more functions, please see the <a href="https://github.com/bulldog2011/nano/tree/master/sample/webservice/eBayDemoApp">eBayDemoApp</a> sample in the <code>sample\webservice</code> folder of Nano source, eBayDemoApp is a composite app which calls two eBay services behind, this app searches eBay by calling eBay Finding service, shows a list of matched items on UI, when an item is clicked, it will show item details by calling eBay Shopping service, see a screen shot below.</p>

<p><img class="center" src="/images/nano/tutorial04/screen_shot3.png" width="400" height="600"></p>

<p>Now it's your turn to create Android applications based on eBay Shopping and eBay Finding web services, see your next great service based app.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Nano Tutorial 3 - Hello eBay Finding]]></title>
    <link href="http://bulldog2011.github.com/blog/2013/04/17/nano-tutorial-3-hello-ebay-finding/"/>
    <updated>2013-04-17T21:27:00+08:00</updated>
    <id>http://bulldog2011.github.com/blog/2013/04/17/nano-tutorial-3-hello-ebay-finding</id>
    <content type="html"><![CDATA[<p>This is the third tutorial of Nano Tutorial Series, in <a href="http://bulldog2011.github.io/blog/2013/04/15/nano-tutorial-1-a-number-conversion-sample/">first</a> and <a href="http://bulldog2011.github.io/blog/2013/04/17/nano-tutorial-2-a-barcode-sample/">second</a> tutorials, I showed you how to use Nano with simple services, these services only support one or two calls, the request/response structures are fairly simple, supporting these simple services only can't show the full power of Nano, so in this and later tutorials, I will show you how to use Nano with industrial grade services, let's start with <a href="http://developer.ebay.com/DevZone/finding/CallRef/index.html">eBay Finding service</a>, please review its official site if you are not familiar with this service, basically, it lets you search items on eBay. eBay Finding service supports SOAP 1.2, so I will also show you how to configure Nano to support SOAP 1.2 protocol, also I will show how to set service required HTTP headers on Nano client.</p>

<p>The source of this tutorial is <a href="https://github.com/bulldog2011/nano/tree/master/sample/webservice/HelloeBayFinding">here</a>.</p>

<!--more-->


<h2>Step 0 - Prerequisite</h2>

<p>I suppose you have already read Nano tutorial 1 and 2, and basically you should know:</p>

<blockquote><ul>
<li>The wsdl driven development process supported by Nano.</li>
<li>How to add the Nano library and the generated service proxy into your Android project.</li>
</ul>
</blockquote>

<h2>Step 1 - Generate Java Proxy from WSDL</h2>

<p>Download <a href="https://github.com/bulldog2011/mwsc">mwsc</a> and run following command in terminal to generate the proxy:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>bin\mwsc.bat -nano -ebaysoa -d generated -p com.ebay.api.finding http://developer.ebay.com/webservices/Finding/latest/FindingService.wsdl&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Depends on the network speed, you may need to wait a few moments to let the code generator download the wsdl and generate code, you may also download the wsdl and run the code generator with a local wsdl.</p>

<p>A few comments about the code generation:</p>

<blockquote><ul>
<li>I have added a special <code>-ebaysoa</code> codegen option, this is because eBay Finding service needs a per-call operation name HTTP header, I added this special flag in the code generator to let it generate the header for me, since I don't want to add this header everytime I call an eBay Finding service, so this is just a special flag for eBay SOA services and for demo, or a hidden feature, not a generic codegen option.</li>
<li>By default, the code generator will derive package name from the target namespace in wsdl, you can use <code>-p</code> option to override this, for example, <code>-p com.ebay.api.finding</code>.</li>
</ul>
</blockquote>

<h2>Step 2 - Create New Android Project, Add Nano Library and Generated Proxy into Your Project</h2>

<p>Create a simple Android project called <code>HelloeBayFinding</code> in eclipse(or other IDE you prefer), then:</p>

<blockquote><ol>
<li>Download <a href="https://github.com/bulldog2011/bulldog-repo/blob/master/repo/releases/com/leansoft/nano/0.7.0/nano-0.7.0.jar">latest nano library jar</a> and add it to the <code>libs</code> folder of your Android project.</li>
<li>Drag the above generated proxy into the <code>src</code> folder of your Android project.</li>
<li>Add following user permissions in the <code>AndroidManifest.xml</code> file to enable network access. <br/>
<code>xml
 &lt;uses-permission android:name="android.permission.INTERNET" /&gt;
 &lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /&gt;
</code></li>
</ol>
</blockquote>

<p>Now build the project to ensure it can build successfully.</p>

<p>You may now review the eBay Finding service SOAP interface generated from wsdl, to learn what kinds of functions are provided by eBay Finding service, and what kinds of parameters are needed to call the service, the interface is posted below:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>FindingServicePortType_SOAPClient.java </span><a href='https://github.com/bulldog2011/nano/blob/master/sample/webservice/HelloeBayFinding/src/com/ebay/marketplace/search/v1/services/client/FindingServicePortType_SOAPClient.java'>source </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="c1">// Generated by wsdl compiler for android/java</span>
</span><span class='line'><span class="c1">// DO NOT CHANGE!</span>
</span><span class='line'><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ebay</span><span class="o">.</span><span class="na">api</span><span class="o">.</span><span class="na">finding</span><span class="o">.</span><span class="na">client</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">com.leansoft.nano.ws.SOAPServiceCallback</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.leansoft.nano.ws.NanoSOAPClient</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.ebay.api.finding.FindItemsForFavoriteSearchResponse</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.ebay.api.finding.FindItemsByCategoryResponse</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.ebay.api.finding.FindItemsByProductResponse</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.ebay.api.finding.FindItemsByImageRequest</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.ebay.api.finding.GetSearchKeywordsRecommendationRequest</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.ebay.api.finding.FindItemsByCategoryRequest</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.ebay.api.finding.FindCompletedItemsResponse</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.ebay.api.finding.FindItemsAdvancedResponse</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.ebay.api.finding.FindItemsIneBayStoresResponse</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.ebay.api.finding.FindItemsForFavoriteSearchRequest</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.ebay.api.finding.FindItemsByKeywordsRequest</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.ebay.api.finding.FindItemsByProductRequest</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.ebay.api.finding.FindItemsIneBayStoresRequest</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.ebay.api.finding.FindItemsAdvancedRequest</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.ebay.api.finding.FindItemsByImageResponse</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.ebay.api.finding.GetVersionResponse</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.ebay.api.finding.GetHistogramsResponse</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.ebay.api.finding.GetVersionRequest</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.ebay.api.finding.GetSearchKeywordsRecommendationResponse</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.ebay.api.finding.FindItemsByKeywordsResponse</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.ebay.api.finding.GetHistogramsRequest</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.ebay.api.finding.FindCompletedItemsRequest</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;*</span>
</span><span class='line'> <span class="n">This</span> <span class="kd">class</span> <span class="nc">is</span> <span class="n">the</span> <span class="n">SOAP</span> <span class="n">client</span> <span class="n">to</span> <span class="n">the</span> <span class="n">FindingServicePortType</span> <span class="n">Web</span> <span class="n">Service</span><span class="o">.</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">FindingServicePortType_SOAPClient</span> <span class="kd">extends</span> <span class="n">NanoSOAPClient</span> <span class="o">{&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">getSearchKeywordsRecommendation</span><span class="o">(</span><span class="n">GetSearchKeywordsRecommendationRequest</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">SOAPServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">GetSearchKeywordsRecommendationResponse</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-SOA-OPERATION-NAME&quot;</span><span class="o">,</span> <span class="s">&quot;getSearchKeywordsRecommendation&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">GetSearchKeywordsRecommendationResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">findItemsByKeywords</span><span class="o">(</span><span class="n">FindItemsByKeywordsRequest</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">SOAPServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">FindItemsByKeywordsResponse</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-SOA-OPERATION-NAME&quot;</span><span class="o">,</span> <span class="s">&quot;findItemsByKeywords&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">FindItemsByKeywordsResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">findItemsByCategory</span><span class="o">(</span><span class="n">FindItemsByCategoryRequest</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">SOAPServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">FindItemsByCategoryResponse</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-SOA-OPERATION-NAME&quot;</span><span class="o">,</span> <span class="s">&quot;findItemsByCategory&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">FindItemsByCategoryResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">findItemsAdvanced</span><span class="o">(</span><span class="n">FindItemsAdvancedRequest</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">SOAPServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">FindItemsAdvancedResponse</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-SOA-OPERATION-NAME&quot;</span><span class="o">,</span> <span class="s">&quot;findItemsAdvanced&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">FindItemsAdvancedResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">findItemsByProduct</span><span class="o">(</span><span class="n">FindItemsByProductRequest</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">SOAPServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">FindItemsByProductResponse</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-SOA-OPERATION-NAME&quot;</span><span class="o">,</span> <span class="s">&quot;findItemsByProduct&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">FindItemsByProductResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">findItemsIneBayStores</span><span class="o">(</span><span class="n">FindItemsIneBayStoresRequest</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">SOAPServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">FindItemsIneBayStoresResponse</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-SOA-OPERATION-NAME&quot;</span><span class="o">,</span> <span class="s">&quot;findItemsIneBayStores&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">FindItemsIneBayStoresResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">findItemsByImage</span><span class="o">(</span><span class="n">FindItemsByImageRequest</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">SOAPServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">FindItemsByImageResponse</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-SOA-OPERATION-NAME&quot;</span><span class="o">,</span> <span class="s">&quot;findItemsByImage&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">FindItemsByImageResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">getHistograms</span><span class="o">(</span><span class="n">GetHistogramsRequest</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">SOAPServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">GetHistogramsResponse</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-SOA-OPERATION-NAME&quot;</span><span class="o">,</span> <span class="s">&quot;getHistograms&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">GetHistogramsResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">findCompletedItems</span><span class="o">(</span><span class="n">FindCompletedItemsRequest</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">SOAPServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">FindCompletedItemsResponse</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-SOA-OPERATION-NAME&quot;</span><span class="o">,</span> <span class="s">&quot;findCompletedItems&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">FindCompletedItemsResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">getVersion</span><span class="o">(</span><span class="n">GetVersionRequest</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">SOAPServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">GetVersionResponse</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-SOA-OPERATION-NAME&quot;</span><span class="o">,</span> <span class="s">&quot;getVersion&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">GetVersionResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> public method</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">findItemsForFavoriteSearch</span><span class="o">(</span><span class="n">FindItemsForFavoriteSearchRequest</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">SOAPServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">FindItemsForFavoriteSearchResponse</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-SOA-OPERATION-NAME&quot;</span><span class="o">,</span> <span class="s">&quot;findItemsForFavoriteSearch&quot;</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">FindItemsForFavoriteSearchResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>All the methods in the interface follow same calling paradigm - you call the service with required request object and a callback object implementing interface <a href="https://github.com/bulldog2011/nano/blob/master/src/main/java/com/leansoft/nano/ws/SOAPServiceCallback.java">SOAPServiceCallback</a>.</p>

<h2>Step 3 - Implement Appliction Logic and UI, Call Proxy to Invoke Web Service as Needed.</h2>

<p>First, create a shared service client as below:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>FindingServiceClient.java </span><a href='https://github.com/bulldog2011/nano/blob/master/sample/webservice/HelloeBayFinding/src/com/ebay/service/finding/FindingServiceClient.java'>source </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ebay</span><span class="o">.</span><span class="na">service</span><span class="o">.</span><span class="na">finding</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">com.ebay.api.finding.client.FindingServicePortType_SOAPClient</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.leansoft.nano.ws.SOAPVersion</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">FindingServiceClient</span> <span class="o">{&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">eBayFindingServiceURLString</span> <span class="o">=</span> <span class="s">&quot;http://svcs.ebay.com/services/search/FindingService/v1&quot;</span><span class="o">;</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">eBayAppId</span> <span class="o">=</span> <span class="s">&quot;YOUR APPID HERE&quot;</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kd">private</span> <span class="kd">static</span> <span class="kd">volatile</span> <span class="n">FindingServicePortType_SOAPClient</span> <span class="n">client</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kd">public</span> <span class="kd">static</span> <span class="n">FindingServicePortType_SOAPClient</span> <span class="nf">getSharedClient</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="o">(</span><span class="n">client</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="kd">synchronized</span><span class="o">(</span><span class="n">FindingServiceClient</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">if</span> <span class="o">(</span><span class="n">client</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FindingServicePortType_SOAPClient</span><span class="o">();</span>
</span><span class='line'>                <span class="n">client</span><span class="o">.</span><span class="na">setEndpointUrl</span><span class="o">(</span><span class="n">eBayFindingServiceURLString</span><span class="o">);</span>
</span><span class='line'>                <span class="n">client</span><span class="o">.</span><span class="na">setSoapVersion</span><span class="o">(</span><span class="n">SOAPVersion</span><span class="o">.</span><span class="na">SOAP12</span><span class="o">);</span> <span class="c1">// ebay finding service supports SOAP 1.2</span>
</span><span class='line'>                <span class="n">client</span><span class="o">.</span><span class="na">setContentType</span><span class="o">(</span><span class="s">&quot;application/soap+xml&quot;</span><span class="o">);</span>
</span><span class='line'>                <span class="n">client</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;Accept&quot;</span><span class="o">,</span> <span class="s">&quot;application/soap+xml&quot;</span><span class="o">);</span>
</span><span class='line'>                <span class="n">client</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-SOA-SECURITY-APPNAME&quot;</span><span class="o">,</span> <span class="n">eBayAppId</span><span class="o">);</span>
</span><span class='line'>                <span class="n">client</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-SOA-MESSAGE-PROTOCOL&quot;</span><span class="o">,</span> <span class="s">&quot;SOAP12&quot;</span><span class="o">);</span>
</span><span class='line'>                <span class="n">client</span><span class="o">.</span><span class="na">getAsyncHttpClient</span><span class="o">().</span><span class="na">addHeader</span><span class="o">(</span><span class="s">&quot;X-EBAY-SOA-REQUEST-DATA-FORMAT&quot;</span><span class="o">,</span> <span class="s">&quot;SOAP&quot;</span><span class="o">);</span>
</span><span class='line'>            <span class="o">}</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">return</span> <span class="n">client</span><span class="o">;</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>The shared client for eBay Finding service is a little more complex than the simple serivce client in tutorial 1 and 2, this is because that eBay Finding service needs a few HTTP headers set to work, let me give more comments:</p>

<blockquote><ol>
<li>eBay Finding service support SOAP12, so we set the client to use <code>SOAP12</code> protocol, this is not necessary since eBay Finding service also supports SOAP11(which is Nano default), we use SOAP12 here just for demo and to show the capability of Nano.</li>
<li>eBay Finding service needs to set a few HTTP headers to work, for a list of required headers, please refer to doc <a href="http://developer.ebay.com/DevZone/finding/Concepts/MakingACall.html">here</a>.</li>
<li>One mandatory header for eBay Finding service is <code>eBayAppId</code>, you need to register on eBay developer site as an eBay developer then get this id, before your can run this demo, you must fill in your own eBayAppId in the shared client.</li>
</ol>
</blockquote>

<p>Now the UI part and application logic, for this hello world like sample, we just need a <code>EditText</code> for keyword input and <code>Button</code> to trigger eBay search by invoking listening method <code>onClick</code> which will indirectly call eBay Finding service through the proxy, fairly simple, see the full application logic in <code>MainActivity</code> class below:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>MainActivity.java </span><a href='https://github.com/bulldog2011/nano/blob/master/sample/webservice/HelloeBayFinding/src/com/leansoft/nano/sample/MainActivity.java'>source  </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">leansoft</span><span class="o">.</span><span class="na">nano</span><span class="o">.</span><span class="na">sample</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">com.ebay.api.finding.AckValue</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.ebay.api.finding.ErrorData</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.ebay.api.finding.FindItemsByKeywordsRequest</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.ebay.api.finding.FindItemsByKeywordsResponse</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.ebay.api.finding.PaginationInput</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.ebay.api.finding.SearchItem</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.ebay.api.finding.client.FindingServicePortType_SOAPClient</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.ebay.service.finding.FindingServiceClient</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.leansoft.nano.soap12.Reasontext</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.leansoft.nano.ws.SOAPServiceCallback</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.app.Activity</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.view.View</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.view.View.OnClickListener</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.widget.Button</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.widget.EditText</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.widget.Toast</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="n">Activity</span> <span class="o">{&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="nd">@Override</span>
</span><span class='line'><span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
</span><span class='line'>    <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">Button</span> <span class="n">searchButton</span> <span class="o">=</span> <span class="o">(</span><span class="n">Button</span><span class="o">)</span> <span class="k">this</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">search_button</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">searchButton</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>        <span class="nd">@Override</span>
</span><span class='line'>        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">arg0</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="c1">// Get shared client</span>
</span><span class='line'>            <span class="n">FindingServicePortType_SOAPClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">FindingServiceClient</span><span class="o">.</span><span class="na">getSharedClient</span><span class="o">();</span>
</span><span class='line'>            <span class="n">client</span><span class="o">.</span><span class="na">setDebug</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span> <span class="c1">// enable soap message logging</span>
</span><span class='line'>
</span><span class='line'>            <span class="c1">// Build request</span>
</span><span class='line'>            <span class="n">FindItemsByKeywordsRequest</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FindItemsByKeywordsRequest</span><span class="o">();</span>
</span><span class='line'>            <span class="n">String</span> <span class="n">keywords</span> <span class="o">=</span> <span class="o">((</span><span class="n">EditText</span><span class="o">)</span><span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">keyword_input</span><span class="o">)).</span><span class="na">getText</span><span class="o">().</span><span class="na">toString</span><span class="o">();</span>
</span><span class='line'>            <span class="n">request</span><span class="o">.</span><span class="na">keywords</span> <span class="o">=</span> <span class="n">keywords</span><span class="o">;</span>
</span><span class='line'>            <span class="n">PaginationInput</span> <span class="n">pi</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PaginationInput</span><span class="o">();</span>
</span><span class='line'>            <span class="n">pi</span><span class="o">.</span><span class="na">pageNumber</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
</span><span class='line'>            <span class="n">pi</span><span class="o">.</span><span class="na">entriesPerPage</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
</span><span class='line'>            <span class="n">request</span><span class="o">.</span><span class="na">paginationInput</span> <span class="o">=</span> <span class="n">pi</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>            <span class="c1">// Make API call and register callbacks</span>
</span><span class='line'>            <span class="n">client</span><span class="o">.</span><span class="na">findItemsByKeywords</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="k">new</span> <span class="n">SOAPServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">FindItemsByKeywordsResponse</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;()</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>                <span class="nd">@Override</span>
</span><span class='line'>                <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSuccess</span><span class="o">(</span>
</span><span class='line'>                        <span class="n">FindItemsByKeywordsResponse</span> <span class="n">responseObject</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>                    <span class="k">if</span> <span class="o">(</span><span class="n">AckValue</span><span class="o">.</span><span class="na">SUCCESS</span> <span class="o">==</span> <span class="n">responseObject</span><span class="o">.</span><span class="na">ack</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                        <span class="k">if</span> <span class="o">(</span><span class="n">responseObject</span><span class="o">.</span><span class="na">searchResult</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;</span><span class="n">amp</span><span class="o">;&amp;</span><span class="n">amp</span><span class="o">;</span> <span class="n">responseObject</span><span class="o">.</span><span class="na">searchResult</span><span class="o">.</span><span class="na">count</span> <span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                            <span class="c1">// show the title of the first found item</span>
</span><span class='line'>                            <span class="n">SearchItem</span> <span class="n">item</span> <span class="o">=</span> <span class="n">responseObject</span><span class="o">.</span><span class="na">searchResult</span><span class="o">.</span><span class="na">item</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
</span><span class='line'>                            <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="n">item</span><span class="o">.</span><span class="na">title</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_LONG</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
</span><span class='line'>                        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span> <span class="c1">// no result</span>
</span><span class='line'>                            <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="s">&quot;No result&quot;</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_LONG</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
</span><span class='line'>                        <span class="o">}</span>
</span><span class='line'>                    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span> <span class="c1">// response resident error</span>
</span><span class='line'>                        <span class="n">ErrorData</span> <span class="n">errorData</span> <span class="o">=</span> <span class="n">responseObject</span><span class="o">.</span><span class="na">errorMessage</span><span class="o">.</span><span class="na">error</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
</span><span class='line'>                        <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="n">errorData</span><span class="o">.</span><span class="na">message</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_LONG</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
</span><span class='line'>                    <span class="o">}</span>
</span><span class='line'>                <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>                <span class="nd">@Override</span>
</span><span class='line'>                <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">Throwable</span> <span class="n">error</span><span class="o">,</span> <span class="n">String</span> <span class="n">errorMessage</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// http or parsing error</span>
</span><span class='line'>                    <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="n">errorMessage</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_LONG</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
</span><span class='line'>                <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>                <span class="nd">@Override</span>
</span><span class='line'>                <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSOAPFault</span><span class="o">(</span><span class="n">Object</span> <span class="n">soapFault</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// soap fault</span>
</span><span class='line'>                    <span class="n">com</span><span class="o">.</span><span class="na">leansoft</span><span class="o">.</span><span class="na">nano</span><span class="o">.</span><span class="na">soap12</span><span class="o">.</span><span class="na">Fault</span> <span class="n">fault</span> <span class="o">=</span> <span class="o">(</span><span class="n">com</span><span class="o">.</span><span class="na">leansoft</span><span class="o">.</span><span class="na">nano</span><span class="o">.</span><span class="na">soap12</span><span class="o">.</span><span class="na">Fault</span><span class="o">)</span><span class="n">soapFault</span><span class="o">;</span>
</span><span class='line'>                    <span class="n">Reasontext</span> <span class="n">reasonText</span> <span class="o">=</span> <span class="n">fault</span><span class="o">.</span><span class="na">reason</span><span class="o">.</span><span class="na">text</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
</span><span class='line'>                    <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="n">reasonText</span><span class="o">.</span><span class="na">value</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_LONG</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
</span><span class='line'>                <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>            <span class="o">});</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="o">});</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>More comments to the serivce call code:</p>

<blockquote><ol>
<li>I've added comments in the code so the whole service call flow should be easy to understand.</li>
<li>We used the eBay Finding <code>findItemsByKeywords</code> call, which takes a keyword as input, and will return a list of matched items, for demo, we just need one item to display, so we set entries per page to 1.</li>
<li>In the success handling logic, we show the title of the returned item using Android <code>Toast</code> component.</li>
<li>Since we set the client to use SOAP12 protocol, in the soap fault error handling logic, we need to cast the soapFault variable to type <code>SOAP12Fault</code> and handle it accordingly.</li>
<li>eBay Finding service supports response resident error(RRE), so even we get a success response, we still need to check the response for resident error and handle it accordingly.</li>
</ol>
</blockquote>

<h2>Final Step - Run the Demo</h2>

<p>Let's run the demo on simulator, see a screen shot below:</p>

<p><img class="center" src="/images/nano/tutorial03/screen_shot1.png" width="400" height="600"></p>

<p>and the debug output:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>04-17 14:17:49.157: D/NanoSOAPClient(317): Sending request to : http://svcs.ebay.com/services/search/FindingService/v1
</span><span class='line'>04-17 14:17:49.157: D/NanoSOAPClient(317): Request HTTP headers :
</span><span class='line'>04-17 14:17:49.157: D/NanoSOAPClient(317): {
</span><span class='line'>04-17 14:17:49.157: D/NanoSOAPClient(317):     X-EBAY-SOA-OPERATION-NAME="findItemsByKeywords"
</span><span class='line'>04-17 14:17:49.157: D/NanoSOAPClient(317):     X-EBAY-SOA-SECURITY-APPNAME="*******"
</span><span class='line'>04-17 14:17:49.157: D/NanoSOAPClient(317):     Accept="application/soap+xml"
</span><span class='line'>04-17 14:17:49.157: D/NanoSOAPClient(317):     X-EBAY-SOA-MESSAGE-PROTOCOL="SOAP12"
</span><span class='line'>04-17 14:17:49.157: D/NanoSOAPClient(317):     X-EBAY-SOA-REQUEST-DATA-FORMAT="SOAP"
</span><span class='line'>04-17 14:17:49.157: D/NanoSOAPClient(317): }
</span><span class='line'>04-17 14:17:49.157: D/NanoSOAPClient(317): Request message :
</span><span class='line'>04-17 14:17:49.157: D/NanoSOAPClient(317): &lt;?xml version='1.0' encoding='UTF-8' ?>
</span><span class='line'>04-17 14:17:49.157: D/NanoSOAPClient(317): &lt;soapenv:Envelope xmlns:soapenv="http://www.w3.org/2003/05/soap-envelope" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://www.ebay.com/marketplace/search/v1/services">
</span><span class='line'>04-17 14:17:49.157: D/NanoSOAPClient(317):   &lt;soapenv:Body>
</span><span class='line'>04-17 14:17:49.157: D/NanoSOAPClient(317):     &lt;findItemsByKeywordsRequest>
</span><span class='line'>04-17 14:17:49.157: D/NanoSOAPClient(317):       &lt;paginationInput>
</span><span class='line'>04-17 14:17:49.157: D/NanoSOAPClient(317):         &lt;pageNumber>1&lt;/pageNumber>
</span><span class='line'>04-17 14:17:49.157: D/NanoSOAPClient(317):         &lt;entriesPerPage>1&lt;/entriesPerPage>
</span><span class='line'>04-17 14:17:49.157: D/NanoSOAPClient(317):       &lt;/paginationInput>
</span><span class='line'>04-17 14:17:49.157: D/NanoSOAPClient(317):       &lt;keywords>nexus 2&lt;/keywords>
</span><span class='line'>04-17 14:17:49.157: D/NanoSOAPClient(317):     &lt;/findItemsByKeywordsRequest>
</span><span class='line'>04-17 14:17:49.157: D/NanoSOAPClient(317):   &lt;/soapenv:Body>
</span><span class='line'>04-17 14:17:49.157: D/NanoSOAPClient(317): &lt;/soapenv:Envelope>
</span><span class='line'>04-17 14:17:50.509: D/SOAPHttpResponseHandler(317): Response HTTP status : 200
</span><span class='line'>04-17 14:17:50.517: D/SOAPHttpResponseHandler(317): Response HTTP headers :
</span><span class='line'>04-17 14:17:50.517: D/SOAPHttpResponseHandler(317): {
</span><span class='line'>04-17 14:17:50.517: D/SOAPHttpResponseHandler(317):     X-EBAY-ESB-GUID="urn:uuid:CC62052BA7B85308BC1367424536385"
</span><span class='line'>04-17 14:17:50.517: D/SOAPHttpResponseHandler(317):     X-EBAY-SOA-SERVICE-NAME="{http://www.ebay.com/marketplace/search/v1/services}FindingService"
</span><span class='line'>04-17 14:17:50.517: D/SOAPHttpResponseHandler(317):     Connection="Keep-Alive"
</span><span class='line'>04-17 14:17:50.517: D/SOAPHttpResponseHandler(317):     X-EBAY-SOA-MESSAGE-PROTOCOL="SOAP12"
</span><span class='line'>04-17 14:17:50.517: D/SOAPHttpResponseHandler(317):     Server="Apache-Coyote/1.1"
</span><span class='line'>04-17 14:17:50.517: D/SOAPHttpResponseHandler(317):     X-EBAY-SOA-REQUEST-ID="13e185c3-12d0-a0a9-ee72-82e2fff134e0!FindingService!10.10.158.231!v3apifindingcore[!FindItemServiceNextGen!10.10.158.231!v3apifindingcore[!MetadataDependencyService!10.86.122.101!v3mddscore[]]]"
</span><span class='line'>04-17 14:17:50.517: D/SOAPHttpResponseHandler(317):     X-EBAY-SOA-OPERATION-NAME="findItemsByKeywords"
</span><span class='line'>04-17 14:17:50.517: D/SOAPHttpResponseHandler(317):     X-EBAY-SOA-SERVICE-VERSION="1.12.0"
</span><span class='line'>04-17 14:17:50.517: D/SOAPHttpResponseHandler(317):     Transfer-Encoding="chunked"
</span><span class='line'>04-17 14:17:50.517: D/SOAPHttpResponseHandler(317):     Date="Wed, 17 Apr 2013 14:18:15 GMT"
</span><span class='line'>04-17 14:17:50.517: D/SOAPHttpResponseHandler(317):     X-EBAY-SOA-RESPONSE-DATA-FORMAT="XML"
</span><span class='line'>04-17 14:17:50.517: D/SOAPHttpResponseHandler(317):     X-EBAY-ESB-ENDPOINTURL="/Root/ESBFunctions/Services/Ports/7003/profile/search/v1/FindingService/destination_default/address_synapse"
</span><span class='line'>04-17 14:17:50.517: D/SOAPHttpResponseHandler(317):     Content-Encoding="gzip"
</span><span class='line'>04-17 14:17:50.517: D/SOAPHttpResponseHandler(317):     X-EBAY-SOA-SERVICE-METRICS="203269893"
</span><span class='line'>04-17 14:17:50.517: D/SOAPHttpResponseHandler(317):     X-EBAY-SOA-LOCALE-LIST="en-US_US"
</span><span class='line'>04-17 14:17:50.517: D/SOAPHttpResponseHandler(317):     Content-Type="application/soap+xml;charset=UTF-8"
</span><span class='line'>04-17 14:17:50.517: D/SOAPHttpResponseHandler(317): }
</span><span class='line'>04-17 14:17:50.517: D/SOAPHttpResponseHandler(317): Response message :
</span><span class='line'>04-17 14:17:50.517: D/SOAPHttpResponseHandler(317): &lt;?xml version='1.0' encoding='utf-8'?>&lt;soapenv:Envelope xmlns:soapenv="http://www.w3.org/2003/05/soap-envelope">&lt;soapenv:Header/>&lt;soapenv:Body>&lt;findItemsByKeywordsResponse xmlns="http://www.ebay.com/marketplace/search/v1/services">&lt;ack>Success&lt;/ack>&lt;version>1.12.0&lt;/version>&lt;timestamp>2013-04-17T14:18:15.791Z&lt;/timestamp>&lt;searchResult count="1">&lt;item>&lt;itemId>300853070145&lt;/itemId>&lt;title>2x Home Wall Chargers for Samsung Galaxy s 2 Epic Touch , 9100 , Nexus 4G&lt;/title>&lt;globalId>EBAY-US&lt;/globalId>&lt;primaryCategory>&lt;categoryId>123417&lt;/categoryId>&lt;categoryName>Chargers &amp; Cradles&lt;/categoryName>&lt;/primaryCategory>&lt;galleryURL>http://thumbs2.ebaystatic.com/m/mDzv8Uawtt-rUUIqsXn7WAQ/140.jpg&lt;/galleryURL>&lt;viewItemURL>http://www.ebay.com/itm/2x-Home-Wall-Chargers-Samsung-Galaxy-s-2-Epic-Touch-9100-Nexus-4G-/300853070145?pt=US_Cell_Phone_PDA_Chargers&lt;/viewItemURL>&lt;paymentMethod>PayPal&lt;/paymentMethod>&lt;autoPay>false&lt;/autoPay>&lt;postalCode>60654&lt;/postalCode>&lt;location>Chicago,IL,USA&lt;/location>&lt;country>US&lt;/country>&lt;shippingInfo>&lt;shippingServiceCost currencyId="USD">0.0&lt;/shippingServiceCost>&lt;shippingType>Free&lt;/shippingType>&lt;shipToLocations>US&lt;/shipToLocations>&lt;expeditedShipping>true&lt;/expeditedShipping>&lt;oneDayShippingAvailable>true&lt;/oneDayShippingAvailable>&lt;handlingTime>1&lt;/handlingTime>&lt;/shippingInfo>&lt;sellingStatus>&lt;currentPrice currencyId="USD">4.95&lt;/currentPrice>&lt;convertedCurrentPrice currencyId="USD">4.95&lt;/convertedCurrentPrice>&lt;sellingState>Active&lt;/sellingState>&lt;timeLeft>P10DT1H40M39S&lt;/timeLeft>&lt;/sellingStatus>&lt;listingInfo>&lt;bestOfferEnabled>false&lt;/bestOfferEnabled>&lt;buyItNowAvailable>false&lt;/buyItNowAvailable>&lt;startTime>2013-01-27T15:53:54.000Z&lt;/startTime>&lt;endTime>2013-04-27T15:58:54.000Z&lt;/endTime>&lt;listingType>StoreInventory&lt;/listingType>&lt;gift>false&lt;/gift>&lt;/listingInfo>&lt;returnsAccepted>true&lt;/returnsAccepted>&lt;condition>&lt;conditionId>1000&lt;/conditionId>&lt;conditionDisplayName>New&lt;/conditionDisplayName>&lt;/condition>&lt;isMultiVariationListing>false&lt;/isMultiVariationListing>&lt;topRatedListing>true&lt;/topRatedListing>&lt;/item>&lt;/searchResult>&lt;paginationOutput>&lt;pageNumber>1&lt;/pageNumber>&lt;entriesPerPage>1&lt;/entriesPerPage>&lt;totalPages>10679&lt;/totalPages>&lt;totalEntries>10679&lt;/totalEntries>&lt;/paginationOutput>&lt;itemSearchURL>http://www.ebay.com/sch/i.html?&lt;em>nkw=nexus+2&amp;&lt;/em>ddo=1&amp;&lt;em>ipg=1&amp;&lt;/em>pgn=1&lt;/itemSearchURL>&lt;/findItemsByKeywordsResponse>&lt;/soapenv:Body>&lt;/soapenv:Envelope>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>let's also try a soap fault case, for example, if you forget to fill in your <code>eBayAppId</code> in the shared client, then you will get:
<img class="center" src="/images/nano/tutorial03/screen_shot2.png" width="400" height="600"></p>

<p>This is just a bare minimum eBay Finding service based application, for a demo with more functions, please see the eBayDemoApp sample in the <code>sample\webservice</code> folder of Nano source, eBayDemoApp is a composite app which calls two eBay serivces behind, this app searches eBay by calling eBay Fining service, showes a list of matched items on UI, when an item is clicked, it will show item details by calling eBay Shopping service, see a screen shot below.</p>

<p><img class="center" src="/images/nano/tutorial03/screen_shot3.png" width="400" height="600"></p>

<p>Now it's your turn to create Android applications based on eBay Finding web service, see your next great service based app.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Nano Tutorial 2 - a BarCode Generator sample]]></title>
    <link href="http://bulldog2011.github.com/blog/2013/04/17/nano-tutorial-2-a-barcode-sample/"/>
    <updated>2013-04-17T10:31:00+08:00</updated>
    <id>http://bulldog2011.github.com/blog/2013/04/17/nano-tutorial-2-a-barcode-sample</id>
    <content type="html"><![CDATA[<p>This is the second tutorial of Nano Tutorial series, in the <a href="http://bulldog2011.github.io/blog/2013/04/15/nano-tutorial-1-a-number-conversion-sample/">first tutorial</a>, I showed how to use Nano with a service called <a href="http://www.dataaccess.com/webservicesserver/numberconversion.wso">Number Conversion</a> from data access worldwide. Number conversion is a simple service, its request/response structures are quite simple. Today I will show you how to use Pico with a more complex service called <a href="http://www.webservicex.net/ws/WSDetails.aspx?CATID=8&amp;WSID=76">Barcode Generator</a> from webserviceX.NET, barcode generator service has a more complex request/response structures, it will return encoded binary image data in the response.</p>

<!--more-->


<p>By the way, since the wsdl driven development process in both tutorials are quite similar, I won't repeat too much details in this tutorial, I suppose you have already read tutorial one and basically understand the wsdl driven development process supported by Nano.</p>

<p>The whole source of this tutorial is <a href="https://github.com/bulldog2011/nano/tree/master/sample/webservice/BarCode">here</a>.</p>

<p>Let's cut to the point:</p>

<h2>Step 1 - Generate Java Proxy from WSDL</h2>

<p>Download <a href="https://github.com/bulldog2011/mwsc">mwsc</a> and run following command in terminal to generate the proxy:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>bin\mwsc.bat -nano -d generated http://www.webservicex.net/genericbarcode.asmx?WSDL&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>A few comments to the code generation:</p>

<blockquote><ul>
<li>During the code generation, you will get a few warnings say some ports in the wsdl will be ignored, just ignore these warnings, We won't use those ports in this tutorial, it's ok as long as the standard SOAP port is generated correctly.</li>
<li>By default, the proxy code will be generated in the sub-folder corresponding to the target namespace of the wsdl, you can use <code>-p</code> option to override the package name if needed.</li>
<li>There is a generated sub-folder called <code>client</code>, the SOAP and XML proxy interface will be generated in this folder.</li>
</ul>
</blockquote>

<h2>Step 2 - Create New Android Project, Add Nano Library and Generated Proxy into Your Project</h2>

<p>Create a simple Android project in eclipse(or other IDE you prefer), then:</p>

<blockquote><ol>
<li>Download <a href="https://github.com/bulldog2011/bulldog-repo/blob/master/repo/releases/com/leansoft/nano/0.7.0/nano-0.7.0.jar">latest nano library jar</a> and add it to the <code>libs</code> folder of your Android project.</li>
<li>Drag the above generated proxy into the <code>src</code> folder of your Android project.</li>
<li>Add following user permissions in the <code>AndroidManifest.xml</code> file to enable network access. <br/>
<code>xml
 &lt;uses-permission android:name="android.permission.INTERNET" /&gt;
 &lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /&gt;
</code></li>
</ol>
</blockquote>

<p>Now build the project to ensure it can build successfully.</p>

<p>Below is an eclipse package explorer screenshot after finishing this step:</p>

<p><img class="center" src="/images/nano/tutorial02/screen_shot1.png" width="400" height="600"></p>

<h2>Step 3 - Implement Appliction Logic and UI, Call Proxy to Invoke Web Service as Needed.</h2>

<p>First, create a shared service client as below:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>BarCodeServiceClient.java </span><a href='https://github.com/bulldog2011/nano/blob/master/sample/webservice/BarCode/src/net/webservicex/service/BarCodeServiceClient.java'>source </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">package</span> <span class="n">net</span><span class="o">.</span><span class="na">webservicex</span><span class="o">.</span><span class="na">service</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">net.webservicex.client.BarCodeSoap_SOAPClient</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;*</span>
</span><span class='line'> <span class="o">*</span> <span class="nl">http:</span><span class="c1">//www.webservicex.net/genericbarcode.asmx</span>
</span><span class='line'> <span class="o">*</span>
</span><span class='line'> <span class="o">*</span> <span class="nd">@author</span> <span class="n">bulldog</span>
</span><span class='line'> <span class="o">*</span>
</span><span class='line'> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">BarCodeServiceClient</span> <span class="o">{&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="c1">// target endpoint</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">barCodeServiceUrl</span> <span class="o">=</span> <span class="s">&quot;http://www.webservicex.net/genericbarcode.asmx&quot;</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kd">private</span> <span class="kd">static</span> <span class="kd">volatile</span> <span class="n">BarCodeSoap_SOAPClient</span> <span class="n">client</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// get a shared client</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">static</span> <span class="n">BarCodeSoap_SOAPClient</span> <span class="nf">getSharedClient</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="o">(</span><span class="n">client</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="kd">synchronized</span><span class="o">(</span><span class="n">BarCodeServiceClient</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">if</span> <span class="o">(</span><span class="n">client</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BarCodeSoap_SOAPClient</span><span class="o">();</span>
</span><span class='line'>                <span class="n">client</span><span class="o">.</span><span class="na">setEndpointUrl</span><span class="o">(</span><span class="n">barCodeServiceUrl</span><span class="o">);</span>
</span><span class='line'>            <span class="o">}</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">client</span><span class="o">;</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Now open the main layout file and add three UI components:</p>

<blockquote><ul>
<li>A <code>EditText</code> for barcode number input,</li>
<li>A <code>Button</code> for encoding trigger,</li>
<li>A <code>ImageView</code> for encoded barcode display.</li>
</ul>
</blockquote>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>activity_main.xml </span><a href='https://github.com/bulldog2011/nano/blob/master/sample/webservice/BarCode/res/layout/activity_main.xml'>source </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;</span><span class="ni">&amp;lt;</span>RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;<span class="nt">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;pre&gt;&lt;code&gt;</span>xmlns:tools=&quot;http://schemas.android.com/tools&quot;
</span><span class='line'>android:layout_width=&quot;match_parent&quot;
</span><span class='line'>android:layout_height=&quot;match_parent&quot;
</span><span class='line'>tools:context=&quot;.MainActivity&quot; <span class="ni">&amp;gt;</span>
</span><span class='line'>
</span><span class='line'><span class="ni">&amp;lt;</span>EditText
</span><span class='line'>    android:id=&quot;@+id/barCodeText&quot;
</span><span class='line'>    android:layout_width=&quot;wrap_content&quot;
</span><span class='line'>    android:layout_height=&quot;wrap_content&quot;
</span><span class='line'>    android:layout_alignParentLeft=&quot;true&quot;
</span><span class='line'>    android:layout_alignParentTop=&quot;true&quot;
</span><span class='line'>    android:layout_marginLeft=&quot;20dp&quot;
</span><span class='line'>    android:layout_marginTop=&quot;19dp&quot;
</span><span class='line'>    android:ems=&quot;10&quot;
</span><span class='line'>    android:singleLine=&quot;true&quot;
</span><span class='line'>    android:hint=&quot;Enter Barcode&quot; <span class="ni">&amp;gt;</span>
</span><span class='line'>
</span><span class='line'>    <span class="ni">&amp;lt;</span>requestFocus /<span class="ni">&amp;gt;</span>
</span><span class='line'><span class="ni">&amp;lt;</span>/EditText<span class="ni">&amp;gt;</span>
</span><span class='line'>
</span><span class='line'><span class="ni">&amp;lt;</span>Button
</span><span class='line'>    android:id=&quot;@+id/encodeButton&quot;
</span><span class='line'>    android:layout_width=&quot;wrap_content&quot;
</span><span class='line'>    android:layout_height=&quot;wrap_content&quot;
</span><span class='line'>    android:layout_alignBaseline=&quot;@+id/barCodeText&quot;
</span><span class='line'>    android:layout_alignBottom=&quot;@+id/barCodeText&quot;
</span><span class='line'>    android:layout_toRightOf=&quot;@+id/barCodeText&quot;
</span><span class='line'>    android:text=&quot;Encode&quot; /<span class="ni">&amp;gt;</span>
</span><span class='line'>
</span><span class='line'><span class="ni">&amp;lt;</span>ImageView
</span><span class='line'>    android:id=&quot;@+id/barCodeImage&quot;
</span><span class='line'>    android:layout_width=&quot;wrap_content&quot;
</span><span class='line'>    android:layout_height=&quot;wrap_content&quot;
</span><span class='line'>    android:layout_below=&quot;@+id/encodeButton&quot;
</span><span class='line'>    android:layout_centerHorizontal=&quot;true&quot;
</span><span class='line'>    android:layout_marginTop=&quot;98dp&quot;
</span><span class='line'>    android:src=&quot;@drawable/ic_launcher&quot; /<span class="ni">&amp;gt;</span>
</span><span class='line'><span class="nt">&lt;/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;&lt;/RelativeLayout&gt;&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><img class="center" src="/images/nano/tutorial02/screen_shot2.png" width="300" height="500"></p>

<p>Now implement application logic in <code>MainActivity</code> class as below:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>MainActivity.java </span><a href='https://github.com/bulldog2011/nano/blob/master/sample/webservice/BarCode/src/com/leansoft/nano/sample/MainActivity.java'>source  </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">leansoft</span><span class="o">.</span><span class="na">nano</span><span class="o">.</span><span class="na">sample</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">com.leansoft.nano.soap11.Fault</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.leansoft.nano.ws.SOAPServiceCallback</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">net.webservicex.BarCodeData</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">net.webservicex.BarcodeOption</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">net.webservicex.BarcodeType</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">net.webservicex.CheckSumMethod</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">net.webservicex.GenerateBarCode</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">net.webservicex.GenerateBarCodeResponse</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">net.webservicex.ImageFormats</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">net.webservicex.ShowTextPosition</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">net.webservicex.client.BarCodeSoap_SOAPClient</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">net.webservicex.service.BarCodeServiceClient</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.view.View</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.view.View.OnClickListener</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.widget.Button</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.widget.EditText</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.widget.ImageView</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.widget.Toast</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.app.Activity</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.graphics.Bitmap</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">android.graphics.BitmapFactory</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="n">Activity</span> <span class="o">{&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="nd">@Override</span>
</span><span class='line'><span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
</span><span class='line'>    <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">Button</span> <span class="n">encodeButton</span> <span class="o">=</span> <span class="o">(</span><span class="n">Button</span><span class="o">)</span> <span class="k">this</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">encodeButton</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">encodeButton</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>        <span class="nd">@Override</span>
</span><span class='line'>        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">arg0</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="c1">// get shared client</span>
</span><span class='line'>            <span class="n">BarCodeSoap_SOAPClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">BarCodeServiceClient</span><span class="o">.</span><span class="na">getSharedClient</span><span class="o">();</span>
</span><span class='line'>            <span class="n">client</span><span class="o">.</span><span class="na">setDebug</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span> <span class="c1">// enable soap message logging</span>
</span><span class='line'>
</span><span class='line'>            <span class="c1">// build request</span>
</span><span class='line'>            <span class="n">BarCodeData</span> <span class="n">barCodeData</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BarCodeData</span><span class="o">();</span>
</span><span class='line'>            <span class="n">barCodeData</span><span class="o">.</span><span class="na">height</span> <span class="o">=</span> <span class="mi">125</span><span class="o">;</span>
</span><span class='line'>            <span class="n">barCodeData</span><span class="o">.</span><span class="na">width</span> <span class="o">=</span> <span class="mi">225</span><span class="o">;</span>
</span><span class='line'>            <span class="n">barCodeData</span><span class="o">.</span><span class="na">angle</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
</span><span class='line'>            <span class="n">barCodeData</span><span class="o">.</span><span class="na">ratio</span> <span class="o">=</span> <span class="mi">5</span><span class="o">;</span>
</span><span class='line'>            <span class="n">barCodeData</span><span class="o">.</span><span class="na">module</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
</span><span class='line'>            <span class="n">barCodeData</span><span class="o">.</span><span class="na">left</span> <span class="o">=</span> <span class="mi">25</span><span class="o">;</span>
</span><span class='line'>            <span class="n">barCodeData</span><span class="o">.</span><span class="na">top</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
</span><span class='line'>            <span class="n">barCodeData</span><span class="o">.</span><span class="na">checkSum</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
</span><span class='line'>            <span class="n">barCodeData</span><span class="o">.</span><span class="na">fontName</span> <span class="o">=</span> <span class="s">&quot;Arial&quot;</span><span class="o">;</span>
</span><span class='line'>            <span class="n">barCodeData</span><span class="o">.</span><span class="na">barColor</span> <span class="o">=</span> <span class="s">&quot;Black&quot;</span><span class="o">;</span>
</span><span class='line'>            <span class="n">barCodeData</span><span class="o">.</span><span class="na">bgColor</span> <span class="o">=</span> <span class="s">&quot;White&quot;</span><span class="o">;</span>
</span><span class='line'>            <span class="n">barCodeData</span><span class="o">.</span><span class="na">fontSize</span> <span class="o">=</span> <span class="mf">10.0f</span><span class="o">;</span>
</span><span class='line'>            <span class="n">barCodeData</span><span class="o">.</span><span class="na">barcodeOption</span> <span class="o">=</span> <span class="n">BarcodeOption</span><span class="o">.</span><span class="na">BOTH</span><span class="o">;</span>
</span><span class='line'>            <span class="n">barCodeData</span><span class="o">.</span><span class="na">barcodeType</span> <span class="o">=</span> <span class="n">BarcodeType</span><span class="o">.</span><span class="na">CODE_2_5_INTERLEAVED</span><span class="o">;</span>
</span><span class='line'>            <span class="n">barCodeData</span><span class="o">.</span><span class="na">checkSumMethod</span> <span class="o">=</span> <span class="n">CheckSumMethod</span><span class="o">.</span><span class="na">NONE</span><span class="o">;</span>
</span><span class='line'>            <span class="n">barCodeData</span><span class="o">.</span><span class="na">showTextPosition</span> <span class="o">=</span> <span class="n">ShowTextPosition</span><span class="o">.</span><span class="na">BOTTOM_CENTER</span><span class="o">;</span>
</span><span class='line'>            <span class="n">barCodeData</span><span class="o">.</span><span class="na">barCodeImageFormat</span> <span class="o">=</span> <span class="n">ImageFormats</span><span class="o">.</span><span class="na">PNG</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>            <span class="n">GenerateBarCode</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GenerateBarCode</span><span class="o">();</span>
</span><span class='line'>            <span class="n">request</span><span class="o">.</span><span class="na">barCodeParam</span> <span class="o">=</span> <span class="n">barCodeData</span><span class="o">;</span>
</span><span class='line'>            <span class="n">request</span><span class="o">.</span><span class="na">barCodeText</span> <span class="o">=</span> <span class="o">((</span><span class="n">EditText</span><span class="o">)</span><span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">barCodeText</span><span class="o">)).</span><span class="na">getText</span><span class="o">().</span><span class="na">toString</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'>            <span class="c1">// make API call with registered callbacks</span>
</span><span class='line'>            <span class="n">client</span><span class="o">.</span><span class="na">generateBarCode</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="k">new</span> <span class="n">SOAPServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">GenerateBarCodeResponse</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;()</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>                <span class="nd">@Override</span>
</span><span class='line'>                <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSuccess</span><span class="o">(</span><span class="n">GenerateBarCodeResponse</span> <span class="n">responseObject</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// success</span>
</span><span class='line'>                    <span class="n">ImageView</span> <span class="n">barCodeImage</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span><span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">barCodeImage</span><span class="o">);</span>
</span><span class='line'>                    <span class="kt">byte</span><span class="o">[]</span> <span class="n">imageData</span> <span class="o">=</span> <span class="n">responseObject</span><span class="o">.</span><span class="na">generateBarCodeResult</span><span class="o">;</span>
</span><span class='line'>                    <span class="n">Bitmap</span> <span class="n">bitmap</span> <span class="o">=</span> <span class="n">BitmapFactory</span><span class="o">.</span><span class="na">decodeByteArray</span><span class="o">(</span><span class="n">imageData</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">imageData</span><span class="o">.</span><span class="na">length</span><span class="o">);</span>
</span><span class='line'>                    <span class="n">barCodeImage</span><span class="o">.</span><span class="na">setImageBitmap</span><span class="o">(</span><span class="n">bitmap</span><span class="o">);</span>
</span><span class='line'>                <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>                <span class="nd">@Override</span>
</span><span class='line'>                <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">Throwable</span> <span class="n">error</span><span class="o">,</span> <span class="n">String</span> <span class="n">errorMessage</span><span class="o">)</span> <span class="o">{</span><span class="c1">// http or parsing error</span>
</span><span class='line'>                    <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="n">errorMessage</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_LONG</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'>                <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>                <span class="nd">@Override</span>
</span><span class='line'>                <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSOAPFault</span><span class="o">(</span><span class="n">Object</span> <span class="n">soapFault</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// soap fault</span>
</span><span class='line'>                    <span class="n">Fault</span> <span class="n">fault</span> <span class="o">=</span> <span class="o">(</span><span class="n">Fault</span><span class="o">)</span><span class="n">soapFault</span><span class="o">;</span>
</span><span class='line'>                    <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="n">fault</span><span class="o">.</span><span class="na">faultstring</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_LONG</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
</span><span class='line'>                <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>            <span class="o">});</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="o">});</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>The service invocation logic is quite self explanatory, you get shared SOAP barcode proxy client first, then build encoding request, make API call with the request and registered callbacks, if API call is successful, you just display the barcode image on UI, otherwise, you display error message accordingly using Android <code>Toast</code> UI component.</p>

<h2>Final Step - Run the Demo</h2>

<p>See a screen shot below:</p>

<p><img class="center" src="/images/nano/tutorial02/screen_shot3.png" width="600" height="800"></p>

<p>And the debug output:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>04-17 03:35:21.116: D/NanoSOAPClient(283): Sending request to : http://www.webservicex.net/genericbarcode.asmx
</span><span class='line'>04-17 03:35:21.116: D/NanoSOAPClient(283): Request HTTP headers :
</span><span class='line'>04-17 03:35:21.116: D/NanoSOAPClient(283): {
</span><span class='line'>04-17 03:35:21.116: D/NanoSOAPClient(283):     Accept="text/xml"
</span><span class='line'>04-17 03:35:21.116: D/NanoSOAPClient(283): }
</span><span class='line'>04-17 03:35:21.126: D/NanoSOAPClient(283): Request message :
</span><span class='line'>04-17 03:35:21.126: D/NanoSOAPClient(283): &lt;?xml version='1.0' encoding='UTF-8' ?>
</span><span class='line'>04-17 03:35:21.126: D/NanoSOAPClient(283): &lt;soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://www.webservicex.net/">
</span><span class='line'>04-17 03:35:21.126: D/NanoSOAPClient(283):   &lt;soapenv:Body>
</span><span class='line'>04-17 03:35:21.126: D/NanoSOAPClient(283):     &lt;GenerateBarCode>
</span><span class='line'>04-17 03:35:21.126: D/NanoSOAPClient(283):       &lt;BarCodeParam>
</span><span class='line'>04-17 03:35:21.126: D/NanoSOAPClient(283):         &lt;Height>125&lt;/Height>
</span><span class='line'>04-17 03:35:21.126: D/NanoSOAPClient(283):         &lt;Width>225&lt;/Width>
</span><span class='line'>04-17 03:35:21.126: D/NanoSOAPClient(283):         &lt;Angle>0&lt;/Angle>
</span><span class='line'>04-17 03:35:21.126: D/NanoSOAPClient(283):         &lt;Ratio>5&lt;/Ratio>
</span><span class='line'>04-17 03:35:21.126: D/NanoSOAPClient(283):         &lt;Module>0&lt;/Module>
</span><span class='line'>04-17 03:35:21.126: D/NanoSOAPClient(283):         &lt;Left>25&lt;/Left>
</span><span class='line'>04-17 03:35:21.126: D/NanoSOAPClient(283):         &lt;Top>0&lt;/Top>
</span><span class='line'>04-17 03:35:21.126: D/NanoSOAPClient(283):         &lt;CheckSum>false&lt;/CheckSum>
</span><span class='line'>04-17 03:35:21.126: D/NanoSOAPClient(283):         &lt;FontName>Arial&lt;/FontName>
</span><span class='line'>04-17 03:35:21.126: D/NanoSOAPClient(283):         &lt;BarColor>Black&lt;/BarColor>
</span><span class='line'>04-17 03:35:21.126: D/NanoSOAPClient(283):         &lt;BGColor>White&lt;/BGColor>
</span><span class='line'>04-17 03:35:21.126: D/NanoSOAPClient(283):         &lt;FontSize>10.0&lt;/FontSize>
</span><span class='line'>04-17 03:35:21.126: D/NanoSOAPClient(283):         &lt;barcodeOption>Both&lt;/barcodeOption>
</span><span class='line'>04-17 03:35:21.126: D/NanoSOAPClient(283):         &lt;barcodeType>Code_2_5_interleaved&lt;/barcodeType>
</span><span class='line'>04-17 03:35:21.126: D/NanoSOAPClient(283):         &lt;checkSumMethod>None&lt;/checkSumMethod>
</span><span class='line'>04-17 03:35:21.126: D/NanoSOAPClient(283):         &lt;showTextPosition>BottomCenter&lt;/showTextPosition>
</span><span class='line'>04-17 03:35:21.126: D/NanoSOAPClient(283):         &lt;BarCodeImageFormat>PNG&lt;/BarCodeImageFormat>=
</span><span class='line'>04-17 03:35:21.126: D/NanoSOAPClient(283):       &lt;/BarCodeParam>
</span><span class='line'>04-17 03:35:21.126: D/NanoSOAPClient(283):       &lt;BarCodeText>123456789&lt;/BarCodeText>
</span><span class='line'>04-17 03:35:21.126: D/NanoSOAPClient(283):     &lt;/GenerateBarCode>
</span><span class='line'>04-17 03:35:21.126: D/NanoSOAPClient(283):   &lt;/soapenv:Body>
</span><span class='line'>04-17 03:35:21.126: D/NanoSOAPClient(283): &lt;/soapenv:Envelope>
</span><span class='line'>04-17 03:35:21.176: D/dalvikvm(283): GC_FOR_MALLOC freed 12599 objects / 580360 bytes in 35ms
</span><span class='line'>04-17 03:35:22.838: D/SOAPHttpResponseHandler(283): Response HTTP status : 200
</span><span class='line'>04-17 03:35:22.838: D/SOAPHttpResponseHandler(283): Response HTTP headers :
</span><span class='line'>04-17 03:35:22.846: D/SOAPHttpResponseHandler(283): {
</span><span class='line'>04-17 03:35:22.846: D/SOAPHttpResponseHandler(283):     X-AspNet-Version="4.0.30319"
</span><span class='line'>04-17 03:35:22.846: D/SOAPHttpResponseHandler(283):     Date="Wed, 17 Apr 2013 03:35:56 GMT"
</span><span class='line'>04-17 03:35:22.846: D/SOAPHttpResponseHandler(283):     Vary="Accept-Encoding"
</span><span class='line'>04-17 03:35:22.846: D/SOAPHttpResponseHandler(283):     Content-Length="1951"
</span><span class='line'>04-17 03:35:22.846: D/SOAPHttpResponseHandler(283):     Content-Encoding="gzip"
</span><span class='line'>04-17 03:35:22.846: D/SOAPHttpResponseHandler(283):     Content-Type="text/xml; charset=utf-8"
</span><span class='line'>04-17 03:35:22.846: D/SOAPHttpResponseHandler(283):     X-Powered-By="ASP.NET"
</span><span class='line'>04-17 03:35:22.846: D/SOAPHttpResponseHandler(283):     Server="Microsoft-IIS/7.0"
</span><span class='line'>04-17 03:35:22.846: D/SOAPHttpResponseHandler(283):     Cache-Control="private, max-age=0"
</span><span class='line'>04-17 03:35:22.846: D/SOAPHttpResponseHandler(283): }
</span><span class='line'>04-17 03:35:22.846: D/SOAPHttpResponseHandler(283): Response message :
</span><span class='line'>04-17 03:35:22.846: D/SOAPHttpResponseHandler(283): &lt;?xml version="1.0" encoding="utf-8"?>&lt;soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">&lt;soap:Body>&lt;GenerateBarCodeResponse xmlns="http://www.webservicex.net/">&lt;GenerateBarCodeResult>iVBORw0KGgoAAAANSUhEUgAAAOEAAAB9CAYAAABUFwRCAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAABkVJREFUeF7t2gmS2jAUhGFzOx/Ix+EuXGVu4uBF8CQvMBNv3fVTNTUJYPk9ub9Ihtza56Pa+XG73aruNPF3OmV8Pj336f3xfeU4vxl3bZw4LV09cdy1Osvj1vr+ax87Xy6GP3oGOoR7P5499aeIv7s/l8+nOj69P76vHOc3466NE+ckjZnqWquzPG6t77/2sff1YvxjZ2DQsfPjE6pvwh1x/TW8a+g/4V06f4kMhDuHyXB4EI4rNAgN0y3SEghBKBJV3zJBCELfdIt0BkIQikTVt0wQgtA33SKdgRCEIlH1LROEIPRNt0hnIAShSFR9ywQhCH3TLdIZCEEoElXfMkEIQt90i3QGQhCKRNW3TBCC0DfdIp2BEIQiUfUtE4Qg9E23SGcgBKFIVH3LBCEIfdMt0hkIQSgSVd8yQQhC33SLdAZCEIpE1bdMEILQN90inYEQhCJR9S0ThCD0TbdIZyAEoUhUfcsEIQh90y3SGQhBKBJV3zJBCELfdIt0BkIQikTVt0wQgtA33SKdgRCEIlH1LROEIPRNt0hnIAShSFR9ywQhCH3TLdIZCEEoElXfMkEIQt90i3QGQhCKRNW3TBCC0DfdIp2BEIQiUfUtE4Qg9E23SGcgBKFIVH3LBCEIfdMt0hkIQSgSVd8yQQhC33SLdAZCEIpE1bdMEILQN90inYEQhCJR9S0ThCD0TbdIZyAEoUhUfcsEIQh90y3SGQhBKBJV3zJBCELfdIt0BkIQikTVt0wQgtA33SKdgRCEIlH1LROEIPRNt0hnIAShSFR9ywQhCH3TLdIZCEEoElXfMkEIQt90i3QGQhCKRNW3TBCC0DfdIp2BEIQiUfUtE4Qg9E23SGcgBKFIVH3LBCEIfdMt0hkIQSgSVd8yQQhC33SLdAZCEIpE1bdMEILQN90inYEQhCJR9S0ThCD0TbdIZyAEoUhUfcsEIQh90y3SGQhBKBJV3zJBCELfdIt0BkIQikTVt0wQgtA33SKdgRCEIlH1LROEIPRNt0hnIAShSFR9ywQhCH3TLdIZCEEoElXfMkEIQt90i3QGQhCKRNW3TBCC0DfdIp2BEIQiUfUtE4Qg9E23SGcgBKFIVH3LBCEIfdMt0hkIQSgSVd8yQQhC33SLdAZCEIpE1bdMEILQN90inYEQhCJR9S0ThCD0TbdIZyAEoUhUfcsEIQh90y3SGQhBKBJV3zJBCELfdIt0BkIQikTVt0wQgtA33SKdgRCEIlH1LROEIPRNt0hnIAShSFR9ywQhCH3TLdIZCEEoElXfMk9B6Dud23VWVVXb/XSP9Hu70RnpSjMAwitdjVALCC96YXYoC4Q7TOoWQ4Jwi1nUGONCCB9tU9Xt/SdM3M+9rcdtWVW+9mj6bdrwUxyXhuiPz1/7udfhuO7Ypn28TvnT3us0ZtXWqZjsXO/Xq2Y8cq2W+Fp9b2N7axEBoQagLaq8CMIOYIlpeC7lvO3DPILpcQU88bUwK49mCrR77jVmMYP9+xOUGcBvqxF3XueAPNb5Pl//2pcQQbhFvDXGOB1hWpnqpslXrQ5WFtiZlfI1xzOv9cfXxUrYrXQLq+ZzPZysxLPXcFgt81UyrqZhnF/1kJ8MhBqAtqjyfISPx7BFW1t5+k6XkWSrz+u9TxiTMYcx6teWM4AsV9el2Z2sujMrYfrHYxbh8kocTwnCLeKtMcbpCOe3eNPJy7aK2T3fdMvZoexXqhJh8fcM7wjmEe4Zp9vWYhXMVuLxXjGu3uM9bb6lBqEGjeOqlEA4YFnaRnbWivuwb+7rXivmiGL8AOW1zZxbmWdX62ElXNyexg9mmnu/lV26J2UlPC74VzrT5RF+AjhM5nurmn3w8nGLO6xsPYrJNjO8lq7YZHuZttHlPeEStLV7Uu4JrwTjyFoujfA7gBFh+pQ1fI2QvsaYXX7CfebknnCKsN8Sl+N8cVy+5Y5gly8194RHMjj3XNdFuLaKFavW4kf/5RjFceV9Zvf35U89Z1bG/tqtfFpanH8W8cL1B+G5MI48+2URDt/xTX/SQpR/6b6wunz8sr48Lv+yPl/0iu8ts6sUV+CV/xzw5XeE3dAgPJLBuee6DsJz5+FyZwfh5S7JbgWBcLep/b+BQfh/86d0NAgverVAeNELs0NZ/wANCo7oOuyQVQAAAABJRU5ErkJggg==&lt;/GenerateBarCodeResult>&lt;/GenerateBarCodeResponse>&lt;/soap:Body>&lt;/soap:Envelope>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Nano Tutorial 1 - a Number Conversion Sample]]></title>
    <link href="http://bulldog2011.github.com/blog/2013/04/15/nano-tutorial-1-a-number-conversion-sample/"/>
    <updated>2013-04-15T20:14:00+08:00</updated>
    <id>http://bulldog2011.github.com/blog/2013/04/15/nano-tutorial-1-a-number-conversion-sample</id>
    <content type="html"><![CDATA[<p>This is the first post of Nano Tutorial Series, in this post, I will show you how easy to use <a href="https://github.com/bulldog2011/nano">Nano framework</a> to put WSDL driven application development on Android platform into practice. If this is the first time you get to know Nano, then after this tutorial, you will basically understand what Nano can do for you, and the basic development process when using Nano to carry out WSDL driven development on Android. If you want to see the big picture, please read <a href="http://bulldog2011.github.io/blog/2013/04/15/wsdl-driven-development-on-android-the-big-picture/">this post</a> first.</p>

<p>The whole source of this demo is <a href="https://github.com/bulldog2011/nano/tree/master/sample/webservice/NumberConverter">here</a>.</p>

<p>WSDL driven development using Nano framework has following steps:</p>

<blockquote><ol>
<li>Generate Java proxy from WSDL</li>
<li>Create new Android project, add Nano runtime and generated proxy into your project</li>
<li>Implement appliction logic and UI, call proxy to invoke web service as needed.</li>
</ol>
</blockquote>

<p>Let me cut to the point and show you each step using a simple <a href="http://www.dataaccess.com/webservicesserver/numberconversion.wso">Number Conversion</a> web serivce from <a href="http://www.dataaccess.com/">Data Access Worldwide</a>.</p>

<!--more-->


<h2>Step 1 - Generate Java Proxy from WSDL</h2>

<p>Nano has an accompanying code generator which can generate Java proxy for Android from wsdl, the tool is called <a href="https://github.com/bulldog2011/mwsc">mwsc</a>, please download the latest zip package <a href="https://github.com/bulldog2011/bulldog-repo/blob/master/repo/releases/com/leansoft/mwsc/0.6.0/mwsc-0.6.0-bin.zip">here</a> then extract it into your local folder.
<strong><em>Note</em></strong> : mwsc code generator needs Java 1.6 or above to run, so please ensure Java is installed on your OS, if not, please install it first.</p>

<p>The command line script <code>mwsc.bat</code> is in the bin folder, note, <code>mwsc.bat</code> is for windows, for linux, please use <code>mwsc</code> in the same folder. Before code generation, you may optionally create a folder as your code generation target(for example, <code>generated</code>), otherwise, mwsc will generate code in current folder. Now let's generate code from wsdl by running flowing command in the terminal:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>bin\mwsc.bat -nano -d generated http://www.dataaccess.com/webservicesserver/numberconversion.wso?WSDL&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>If everything works fine, you will see the code generator output <code>generating code</code> and <code>done</code> at the end, the target proxy will be generated in the <code>generated</code> folder.</p>

<h2>Step 2 - Create New Android Project, Add Nano Library and Generated Proxy into Your Project</h2>

<p>Now let's create a simple Android project in eclipse(or other IDE you prefer), then you need to:</p>

<blockquote><ol>
<li>Download <a href="https://github.com/bulldog2011/bulldog-repo/blob/master/repo/releases/com/leansoft/nano/0.7.0/nano-0.7.0.jar">latest nano library jar</a> and add it to the <code>libs</code> folder of your Android project.</li>
<li>Drag the above generated proxy into the <code>src</code> folder of your Android project.</li>
<li>Add following user permissions in the <code>AndroidManifest.xml</code> file to enable network access. <br/>
<code>xml
 &lt;uses-permission android:name="android.permission.INTERNET" /&gt;
 &lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /&gt;
</code></li>
</ol>
</blockquote>

<p>Now since both Nano runtime library and the NumberConversion web service proxy have been added in the project, you can try to refresh(or build) the project, if no build error, job well done, you can continue to the next step, otherwise, please do some troubleshooting, or check the source of this tutorial(in the sample/webservice folder).</p>

<p>Below is an eclipse package explorer screenshot after finishing this step:</p>

<p><img class="center" src="/images/nano/tutorial01/screen_shot1.png" width="600" height="800"></p>

<h2>Step 3 - Implement Appliction Logic and UI, Call Proxy to Invoke Web Service as Needed.</h2>

<p>A SOAP web service client called <code>NumberConversionSoapType_SOAPClient</code> has been generated in the <code>com.dataaccess.webservicesserver.client</code> package, it's the main proxy to the external number conversion service, you can invoke number conversion service by calling methods on a <code>NumberConversionSoapType_SOAPClient</code> instance. As a Nano best practice, it's not necessary for you to initiate a new client everytime you need to call service, a singleton client instance is enough for the whole application, so before writing any application logic, let's create a shared NumberConversion service client for later use first, see code below:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>NumberConversionServiceClient.java </span><a href='https://github.com/bulldog2011/nano/blob/master/sample/webservice/NumberConverter/src/com/dataaccess/service/NumberConversionServiceClient.java'>source </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">dataaccess</span><span class="o">.</span><span class="na">service</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">com.dataaccess.webservicesserver.client.NumberConversionSoapType_SOAPClient</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;*</span>
</span><span class='line'> <span class="o">*</span> <span class="n">The</span> <span class="n">Number</span> <span class="n">Conversion</span> <span class="n">Web</span> <span class="n">Service</span><span class="o">,</span> <span class="n">implemented</span> <span class="n">with</span> <span class="n">Visual</span> <span class="n">DataFlex</span><span class="o">,</span>
</span><span class='line'> <span class="o">*</span> <span class="n">provides</span> <span class="n">functions</span> <span class="n">that</span> <span class="n">convert</span> <span class="n">numbers</span> <span class="n">into</span> <span class="n">words</span> <span class="n">or</span> <span class="n">dollar</span> <span class="n">amounts</span><span class="o">.</span>
</span><span class='line'> <span class="o">*</span>
</span><span class='line'> <span class="o">*</span> <span class="nl">http:</span><span class="c1">//www.dataaccess.com/webservicesserver/numberconversion.wso</span>
</span><span class='line'> <span class="o">*</span>
</span><span class='line'> <span class="o">*</span> <span class="nd">@author</span> <span class="n">bulldog</span>
</span><span class='line'> <span class="o">*</span>
</span><span class='line'> <span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">NumberConversionServiceClient</span> <span class="o">{&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="c1">// target endpoint</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">numberConversionServiceUrl</span> <span class="o">=</span> <span class="s">&quot;http://www.dataaccess.com/webservicesserver/numberconversion.wso&quot;</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kd">private</span> <span class="kd">static</span> <span class="kd">volatile</span> <span class="n">NumberConversionSoapType_SOAPClient</span> <span class="n">client</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// get a shared client</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">static</span> <span class="n">NumberConversionSoapType_SOAPClient</span> <span class="nf">getSharedClient</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="o">(</span><span class="n">client</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="kd">synchronized</span><span class="o">(</span><span class="n">NumberConversionServiceClient</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">if</span> <span class="o">(</span><span class="n">client</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">NumberConversionSoapType_SOAPClient</span><span class="o">();</span>
</span><span class='line'>                <span class="n">client</span><span class="o">.</span><span class="na">setEndpointUrl</span><span class="o">(</span><span class="n">numberConversionServiceUrl</span><span class="o">);</span>
</span><span class='line'>            <span class="o">}</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">return</span> <span class="n">client</span><span class="o">;</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>The code is quite self-explanatory, the <code>getSharedClient</code> static factory method just returns a NumberConversionSoapType_SOAPClient instance with specified target service endpoint address, and there will be only one such client instance within the application.</p>

<p>With the help of the NumberConversion service proxy generated from WSDL, web service call through Nano is extremely simple, let's review and understand the generated numberToWords proxy interface first before writing calling logic:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>NumberConversionSoapType_SOAPClient.java </span><a href='https://github.com/bulldog2011/nano/blob/master/sample/webservice/NumberConverter/src/com/dataaccess/webservicesserver/client/NumberConversionSoapType_SOAPClient.java'>source  </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="c1">// Generated by wsdl compiler for android/java</span>
</span><span class='line'><span class="c1">// DO NOT CHANGE!</span>
</span><span class='line'><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">dataaccess</span><span class="o">.</span><span class="na">webservicesserver</span><span class="o">.</span><span class="na">client</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">import</span> <span class="nn">com.leansoft.nano.ws.SOAPServiceCallback</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.leansoft.nano.ws.NanoSOAPClient</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.dataaccess.webservicesserver.NumberToDollars</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.dataaccess.webservicesserver.NumberToWords</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.dataaccess.webservicesserver.NumberToWordsResponse</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.dataaccess.webservicesserver.NumberToDollarsResponse</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;/&lt;</span><span class="n">em</span><span class="o">&gt;*</span>
</span><span class='line'> <span class="n">This</span> <span class="kd">class</span> <span class="nc">is</span> <span class="n">the</span> <span class="n">SOAP</span> <span class="n">client</span> <span class="n">to</span> <span class="n">the</span> <span class="n">NumberConversionSoapType</span> <span class="n">Web</span> <span class="n">Service</span><span class="o">.</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">em</span><span class="o">&gt;/</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">NumberConversionSoapType_SOAPClient</span> <span class="kd">extends</span> <span class="n">NanoSOAPClient</span> <span class="o">{&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="cm">/**</span>
</span><span class='line'><span class="cm"> Returns the word corresponding to the positive number passed as parameter. Limited to quadrillions.</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">numberToWords</span><span class="o">(</span><span class="n">NumberToWords</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">SOAPServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">NumberToWordsResponse</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">NumberToWordsResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> Returns the non-zero dollar amount of the passed number.</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">numberToDollars</span><span class="o">(</span><span class="n">NumberToDollars</span> <span class="n">requestObject</span><span class="o">,</span> <span class="n">SOAPServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">NumberToDollarsResponse</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">serviceCallback</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>    <span class="kd">super</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">requestObject</span><span class="o">,</span> <span class="n">serviceCallback</span><span class="o">,</span> <span class="n">NumberToDollarsResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>This is just a plain old interface generated from wsdl, unlike normal interface, this interface is asynchronous, when you call <code>numberToWords</code> service, you need to provide a request of type <code>NumberToWords</code> as first parameter, also you need to provide(or register) a callback implementing interface <code>SOAPServiceCallback</code>, see definition of this interface below:
<div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>XMLServiceCallback.java </span><a href='https://github.com/bulldog2011/nano/blob/master/src/main/java/com/leansoft/nano/ws/XMLServiceCallback.java'>source  </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">leansoft</span><span class="o">.</span><span class="na">nano</span><span class="o">.</span><span class="na">ws</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">XMLServiceCallback</span><span class="o">&lt;</span><span class="n">R</span><span class="o">&gt;</span> <span class="o">{&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="kd">public</span> <span class="kt">void</span> <span class="n">onSuccess</span><span class="o">(</span><span class="n">R</span> <span class="n">responseObject</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">Throwable</span> <span class="n">error</span><span class="o">,</span> <span class="n">String</span> <span class="n">errorMessage</span><span class="o">);</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>SOAPServiceCallback.java </span><a href='https://github.com/bulldog2011/nano/blob/master/src/main/java/com/leansoft/nano/ws/SOAPServiceCallback.java'>source  </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">leansoft</span><span class="o">.</span><span class="na">nano</span><span class="o">.</span><span class="na">ws</span><span class="o">;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">SOAPServiceCallback</span><span class="o">&lt;</span><span class="n">R</span><span class="o">&gt;</span> <span class="kd">extends</span> <span class="n">XMLServiceCallback</span><span class="o">&lt;</span><span class="n">R</span><span class="o">&gt;</span> <span class="o">{&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="kd">public</span> <span class="kt">void</span> <span class="n">onSOAPFault</span><span class="o">(</span><span class="n">Object</span> <span class="n">soapFault</span><span class="o">);</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><code>SOAPServiceCallback</code> interface supports three callback methods, <code>onSuccess</code>, <code>onFailure</code> and <code>onSOAPFault</code> callbacks, success callback will be called if the service invocation succeed, and you will get a response object of type <code>NumberToWordsResponse</code>, usually, in success callback, you implement response handling logic and update UI according to the response; failure callback will be called if there is any HTTP or Nano parsing error, you may get an exception and an error message in such case, usually, you implement error handling logic in failure callback and update UI accordingly; soap fault callback will be called if Nano get a SOAP fault from service response, usually, you implement error handling logic in the soap fault callback and update UI accordingly.</p>

<p>By the way, although not necessary, I suggest you to review all proxy code generated by mwsc, this will help you better understand the inner working of Nano.</p>

<p>Now time to the UI part, for this simple demo, we only need an <code>EditText</code> for number input, and two <code>Button</code>, one for number to dollars conversion, the other for number to words conversion, see graphical layout screenshot below:</p>

<p><img class="center" src="/images/nano/tutorial01/screen_shot2.png" width="400" height="600"></p>

<p>Now let's implement application logic by calling the <code>numberToWords</code> or <code>numberToDollars</code> services,
the application logic is implemented in the <code>MainActivity</code> class, a registered <code>onClick</code> method will be triggered when you click the <code>Number To Words</code> button on the UI:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>MainActivity.m </span><a href='https://github.com/bulldog2011/nano/blob/master/sample/webservice/NumberConverter/src/com/leansoft/nano/sample/MainActivity.java'>source  </a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="n">Button</span> <span class="n">numberToWordsButton</span> <span class="o">=</span> <span class="o">(</span><span class="n">Button</span><span class="o">)</span> <span class="k">this</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">numToWordsButton</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'><span class="n">numberToWordsButton</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@Override</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">arg0</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="c1">// get shared client</span>
</span><span class='line'>        <span class="n">NumberConversionSoapType_SOAPClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">NumberConversionServiceClient</span><span class="o">.</span><span class="na">getSharedClient</span><span class="o">();</span>
</span><span class='line'>        <span class="n">client</span><span class="o">.</span><span class="na">setDebug</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span> <span class="c1">// enable soap message logging</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// build request</span>
</span><span class='line'>        <span class="n">NumberToWords</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">NumberToWords</span><span class="o">();</span>
</span><span class='line'>        <span class="k">try</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">String</span> <span class="n">number</span> <span class="o">=</span> <span class="o">((</span><span class="n">EditText</span><span class="o">)</span><span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">numerInputText</span><span class="o">)).</span><span class="na">getText</span><span class="o">().</span><span class="na">toString</span><span class="o">();</span>
</span><span class='line'>            <span class="n">request</span><span class="o">.</span><span class="na">ubiNum</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BigInteger</span><span class="o">(</span><span class="n">number</span><span class="o">);</span>
</span><span class='line'>        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">NumberFormatException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="s">&quot;Invalid integer number&quot;</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_LONG</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
</span><span class='line'>            <span class="k">return</span><span class="o">;</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// make API call and register callbacks</span>
</span><span class='line'>        <span class="n">client</span><span class="o">.</span><span class="na">numberToWords</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="k">new</span> <span class="n">SOAPServiceCallback</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">NumberToWordsResponse</span><span class="o">&amp;</span><span class="n">gt</span><span class="o">;()</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>            <span class="nd">@Override</span>
</span><span class='line'>            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSuccess</span><span class="o">(</span><span class="n">NumberToWordsResponse</span> <span class="n">responseObject</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// success</span>
</span><span class='line'>                <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="n">responseObject</span><span class="o">.</span><span class="na">numberToWordsResult</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_LONG</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
</span><span class='line'>            <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>            <span class="nd">@Override</span>
</span><span class='line'>            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">Throwable</span> <span class="n">error</span><span class="o">,</span> <span class="n">String</span> <span class="n">errorMessage</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// http or parsing error</span>
</span><span class='line'>                <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="n">errorMessage</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_LONG</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
</span><span class='line'>            <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>            <span class="nd">@Override</span>
</span><span class='line'>            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSOAPFault</span><span class="o">(</span><span class="n">Object</span> <span class="n">soapFault</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// soap fault</span>
</span><span class='line'>                <span class="n">Fault</span> <span class="n">fault</span> <span class="o">=</span> <span class="o">(</span><span class="n">Fault</span><span class="o">)</span><span class="n">soapFault</span><span class="o">;</span>
</span><span class='line'>                <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="n">fault</span><span class="o">.</span><span class="na">faultstring</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_LONG</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
</span><span class='line'>            <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="o">});</span>
</span><span class='line'>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="o">});</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>The call logic can't be simpler, I've added comments in the service call code for you to better understand the call flow. Also, I've enabled the debug mode of the proxy, so you can see the detailed request/response messages when you run the demo, this feature is extremely useful for troubleshooting.</p>

<h2>Final Step - Run the Demo</h2>

<p>Now it's time to run the demo, let's try it in the simulator(you may use a real device of course),  below is a screenshot of the simulator after converting a number to dollars:</p>

<p><img class="center" src="/images/nano/tutorial01/screen_shot3.png" width="400" height="600"></p>

<p>You can also find the debug output in the Android LogCat, like below:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>04-15 13:54:26.146: D/NanoSOAPClient(281): Sending request to : http://www.dataaccess.com/webservicesserver/numberconversion.wso
</span><span class='line'>04-15 13:54:26.146: D/NanoSOAPClient(281): Request HTTP headers :
</span><span class='line'>04-15 13:54:26.146: D/NanoSOAPClient(281): {
</span><span class='line'>04-15 13:54:26.146: D/NanoSOAPClient(281):     Accept="text/xml"
</span><span class='line'>04-15 13:54:26.146: D/NanoSOAPClient(281): }
</span><span class='line'>04-15 13:54:26.146: D/NanoSOAPClient(281): Request message :
</span><span class='line'>04-15 13:54:26.146: D/NanoSOAPClient(281): &lt;?xml version='1.0' encoding='UTF-8' ?>
</span><span class='line'>04-15 13:54:26.146: D/NanoSOAPClient(281): &lt;soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://www.dataaccess.com/webservicesserver/">
</span><span class='line'>04-15 13:54:26.146: D/NanoSOAPClient(281):   &lt;soapenv:Body>
</span><span class='line'>04-15 13:54:26.146: D/NanoSOAPClient(281):     &lt;NumberToDollars>
</span><span class='line'>04-15 13:54:26.146: D/NanoSOAPClient(281):       &lt;dNum>128.32&lt;/dNum>
</span><span class='line'>04-15 13:54:26.146: D/NanoSOAPClient(281):     &lt;/NumberToDollars>
</span><span class='line'>04-15 13:54:26.146: D/NanoSOAPClient(281):   &lt;/soapenv:Body>
</span><span class='line'>04-15 13:54:26.146: D/NanoSOAPClient(281): &lt;/soapenv:Envelope>
</span><span class='line'>04-15 13:54:27.356: D/SOAPHttpResponseHandler(281): Response HTTP status : 200
</span><span class='line'>04-15 13:54:27.366: D/SOAPHttpResponseHandler(281): Response HTTP headers :
</span><span class='line'>04-15 13:54:27.366: D/SOAPHttpResponseHandler(281): {
</span><span class='line'>04-15 13:54:27.366: D/SOAPHttpResponseHandler(281):     Web-Service="Visual DataFlex 17.0"
</span><span class='line'>04-15 13:54:27.366: D/SOAPHttpResponseHandler(281):     Content-Type="text/xml; charset=utf-8"
</span><span class='line'>04-15 13:54:27.366: D/SOAPHttpResponseHandler(281):     Date="Mon, 15 Apr 2013 13:54:52 GMT"
</span><span class='line'>04-15 13:54:27.366: D/SOAPHttpResponseHandler(281):     Content-Length="397"
</span><span class='line'>04-15 13:54:27.366: D/SOAPHttpResponseHandler(281):     X-Powered-By="ASP.NET"
</span><span class='line'>04-15 13:54:27.366: D/SOAPHttpResponseHandler(281):     Server="Microsoft-IIS/6.0"
</span><span class='line'>04-15 13:54:27.366: D/SOAPHttpResponseHandler(281):     Cache-Control="private, max-age=0"
</span><span class='line'>04-15 13:54:27.366: D/SOAPHttpResponseHandler(281): }
</span><span class='line'>04-15 13:54:27.376: D/SOAPHttpResponseHandler(281): Response message :
</span><span class='line'>04-15 13:54:27.376: D/SOAPHttpResponseHandler(281): &lt;?xml version="1.0" encoding="utf-8"?>
</span><span class='line'>04-15 13:54:27.376: D/SOAPHttpResponseHandler(281): &lt;soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
</span><span class='line'>04-15 13:54:27.376: D/SOAPHttpResponseHandler(281):   &lt;soap:Body>
</span><span class='line'>04-15 13:54:27.376: D/SOAPHttpResponseHandler(281):     &lt;m:NumberToDollarsResponse xmlns:m="http://www.dataaccess.com/webservicesserver/">
</span><span class='line'>04-15 13:54:27.376: D/SOAPHttpResponseHandler(281):       &lt;m:NumberToDollarsResult>one hundred and twenty eight dollars and thirty two cents&lt;/m:NumberToDollarsResult>
</span><span class='line'>04-15 13:54:27.376: D/SOAPHttpResponseHandler(281):     &lt;/m:NumberToDollarsResponse>
</span><span class='line'>04-15 13:54:27.376: D/SOAPHttpResponseHandler(281):   &lt;/soap:Body>
</span><span class='line'>04-15 13:54:27.376: D/SOAPHttpResponseHandler(281): &lt;/soap:Envelope></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>If you have any problem to run the demo, please check the debug output first.</p>

<p>Now you see the power of Nano framework, you don't get troubled with error prone and tedious SOAP/XML parsing or http handling, the generic Nano framework will do these stuff for you, you only need to use a plain old asynchronous interface for service invocation, this can not only accelerate application development, but reduce the long term maintenance cost.</p>

<p>NumberConversion is just a bare minimum demo, there are other more featured demos(like Amazon, eBay search demo) in the sample folder of Nano project, please try them to better understand how Nano works, then you can begin to develop your own service based applications, using wsdl driven methodology supported by Nano.</p>

<p>See your next great Android application!</p>
]]></content>
  </entry>
  
</feed>
